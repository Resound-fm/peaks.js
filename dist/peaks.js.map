{"version":3,"file":"peaks.js","sources":["node_modules/peaks.js/node_modules/eventemitter3/index.js","node_modules/peaks.js/src/cue.js","node_modules/peaks.js/node_modules/konva/lib/Global.js","node_modules/peaks.js/node_modules/konva/lib/Util.js","node_modules/peaks.js/node_modules/konva/lib/Validators.js","node_modules/peaks.js/node_modules/konva/lib/Factory.js","node_modules/peaks.js/node_modules/konva/lib/Context.js","node_modules/peaks.js/node_modules/konva/lib/Canvas.js","node_modules/peaks.js/node_modules/konva/lib/DragAndDrop.js","node_modules/peaks.js/node_modules/konva/lib/Node.js","node_modules/peaks.js/node_modules/konva/lib/Container.js","node_modules/peaks.js/node_modules/konva/lib/PointerEvents.js","node_modules/peaks.js/node_modules/konva/lib/Stage.js","node_modules/peaks.js/node_modules/konva/lib/Shape.js","node_modules/peaks.js/node_modules/konva/lib/Layer.js","node_modules/peaks.js/node_modules/konva/lib/FastLayer.js","node_modules/peaks.js/node_modules/konva/lib/Group.js","node_modules/peaks.js/node_modules/konva/lib/Animation.js","node_modules/peaks.js/node_modules/konva/lib/Tween.js","node_modules/peaks.js/node_modules/konva/lib/_CoreInternals.js","node_modules/peaks.js/node_modules/konva/lib/Core.js","node_modules/peaks.js/src/utils.js","node_modules/peaks.js/src/cue-emitter.js","node_modules/peaks.js/src/point.js","node_modules/peaks.js/src/waveform-points.js","node_modules/peaks.js/src/segment.js","node_modules/peaks.js/src/waveform-segments.js","node_modules/peaks.js/src/keyboard-handler.js","node_modules/peaks.js/src/mediaelement-player.js","node_modules/peaks.js/src/player.js","node_modules/peaks.js/node_modules/konva/lib/shapes/Line.js","node_modules/peaks.js/node_modules/konva/lib/shapes/Rect.js","node_modules/peaks.js/node_modules/konva/lib/shapes/Text.js","node_modules/peaks.js/src/default-point-marker.js","node_modules/peaks.js/src/default-segment-marker.js","node_modules/peaks.js/src/marker-factories.js","node_modules/peaks.js/src/highlight-layer.js","node_modules/peaks.js/src/playhead-layer.js","node_modules/peaks.js/src/point-marker.js","node_modules/peaks.js/src/points-layer.js","node_modules/peaks.js/src/overlay-segment-marker.js","node_modules/peaks.js/src/segment-marker.js","node_modules/peaks.js/src/waveform-shape.js","node_modules/peaks.js/src/segment-shape.js","node_modules/peaks.js/src/segments-layer.js","node_modules/peaks.js/src/waveform-axis.js","node_modules/peaks.js/src/mouse-drag-handler.js","node_modules/peaks.js/src/seek-mouse-drag-handler.js","node_modules/peaks.js/src/waveform-overview.js","node_modules/peaks.js/src/insert-segment-mouse-drag-handler.js","node_modules/peaks.js/src/scroll-mouse-drag-handler.js","node_modules/peaks.js/src/waveform-zoomview.js","node_modules/peaks.js/src/scrollbar.js","node_modules/peaks.js/src/view-controller.js","node_modules/peaks.js/src/zoom-controller.js","node_modules/peaks.js/node_modules/waveform-data/dist/waveform-data.esm.js","node_modules/peaks.js/src/waveform-builder.js","node_modules/peaks.js/src/main.js"],"sourcesContent":["'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","/**\n * @file\n *\n * Defines the {@link Cue} class.\n *\n * @module cue\n */\n\n/**\n * A cue represents an event to be triggered at some point on the media\n * timeline.\n *\n * @class\n * @alias Cue\n *\n * @param {Number} time Cue time, in seconds.\n * @param {Number} type Cue mark type, either <code>Cue.POINT</code>,\n *   <code>Cue.SEGMENT_START</code>, or <code>Cue.SEGMENT_END</code>.\n * @param {String} id The id of the {@link Point} or {@link Segment}.\n */\n\nfunction Cue(time, type, id) {\n  this.time = time;\n  this.type = type;\n  this.id = id;\n}\n\n/**\n  * @constant\n  * @type {Number}\n  */\n\nCue.POINT = 0;\nCue.SEGMENT_START = 1;\nCue.SEGMENT_END = 2;\n\n/**\n * Callback function for use with Array.prototype.sort().\n *\n * @static\n * @param {Cue} a\n * @param {Cue} b\n * @return {Number}\n */\n\nCue.sorter = function(a, b) {\n  return a.time - b.time;\n};\n\nexport default Cue;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports._registerNode = exports.Konva = exports.glob = void 0;\nvar PI_OVER_180 = Math.PI / 180;\nfunction detectBrowser() {\n    return (typeof window !== 'undefined' &&\n        ({}.toString.call(window) === '[object Window]' ||\n            {}.toString.call(window) === '[object global]'));\n}\nexports.glob = typeof global !== 'undefined'\n    ? global\n    : typeof window !== 'undefined'\n        ? window\n        : typeof WorkerGlobalScope !== 'undefined'\n            ? self\n            : {};\nexports.Konva = {\n    _global: exports.glob,\n    version: '9.2.0',\n    isBrowser: detectBrowser(),\n    isUnminified: /param/.test(function (param) { }.toString()),\n    dblClickWindow: 400,\n    getAngle(angle) {\n        return exports.Konva.angleDeg ? angle * PI_OVER_180 : angle;\n    },\n    enableTrace: false,\n    pointerEventsEnabled: true,\n    autoDrawEnabled: true,\n    hitOnDragEnabled: false,\n    capturePointerEventsEnabled: false,\n    _mouseListenClick: false,\n    _touchListenClick: false,\n    _pointerListenClick: false,\n    _mouseInDblClickWindow: false,\n    _touchInDblClickWindow: false,\n    _pointerInDblClickWindow: false,\n    _mouseDblClickPointerId: null,\n    _touchDblClickPointerId: null,\n    _pointerDblClickPointerId: null,\n    pixelRatio: (typeof window !== 'undefined' && window.devicePixelRatio) || 1,\n    dragDistance: 3,\n    angleDeg: true,\n    showWarnings: true,\n    dragButtons: [0, 1],\n    isDragging() {\n        return exports.Konva['DD'].isDragging;\n    },\n    isDragReady() {\n        return !!exports.Konva['DD'].node;\n    },\n    releaseCanvasOnDestroy: true,\n    document: exports.glob.document,\n    _injectGlobal(Konva) {\n        exports.glob.Konva = Konva;\n    },\n};\nconst _registerNode = (NodeClass) => {\n    exports.Konva[NodeClass.prototype.getClassName()] = NodeClass;\n};\nexports._registerNode = _registerNode;\nexports.Konva._injectGlobal(exports.Konva);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Util = exports.Transform = void 0;\nconst Global_1 = require(\"./Global\");\nclass Transform {\n    constructor(m = [1, 0, 0, 1, 0, 0]) {\n        this.dirty = false;\n        this.m = (m && m.slice()) || [1, 0, 0, 1, 0, 0];\n    }\n    reset() {\n        this.m[0] = 1;\n        this.m[1] = 0;\n        this.m[2] = 0;\n        this.m[3] = 1;\n        this.m[4] = 0;\n        this.m[5] = 0;\n    }\n    copy() {\n        return new Transform(this.m);\n    }\n    copyInto(tr) {\n        tr.m[0] = this.m[0];\n        tr.m[1] = this.m[1];\n        tr.m[2] = this.m[2];\n        tr.m[3] = this.m[3];\n        tr.m[4] = this.m[4];\n        tr.m[5] = this.m[5];\n    }\n    point(point) {\n        var m = this.m;\n        return {\n            x: m[0] * point.x + m[2] * point.y + m[4],\n            y: m[1] * point.x + m[3] * point.y + m[5],\n        };\n    }\n    translate(x, y) {\n        this.m[4] += this.m[0] * x + this.m[2] * y;\n        this.m[5] += this.m[1] * x + this.m[3] * y;\n        return this;\n    }\n    scale(sx, sy) {\n        this.m[0] *= sx;\n        this.m[1] *= sx;\n        this.m[2] *= sy;\n        this.m[3] *= sy;\n        return this;\n    }\n    rotate(rad) {\n        var c = Math.cos(rad);\n        var s = Math.sin(rad);\n        var m11 = this.m[0] * c + this.m[2] * s;\n        var m12 = this.m[1] * c + this.m[3] * s;\n        var m21 = this.m[0] * -s + this.m[2] * c;\n        var m22 = this.m[1] * -s + this.m[3] * c;\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        return this;\n    }\n    getTranslation() {\n        return {\n            x: this.m[4],\n            y: this.m[5],\n        };\n    }\n    skew(sx, sy) {\n        var m11 = this.m[0] + this.m[2] * sy;\n        var m12 = this.m[1] + this.m[3] * sy;\n        var m21 = this.m[2] + this.m[0] * sx;\n        var m22 = this.m[3] + this.m[1] * sx;\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        return this;\n    }\n    multiply(matrix) {\n        var m11 = this.m[0] * matrix.m[0] + this.m[2] * matrix.m[1];\n        var m12 = this.m[1] * matrix.m[0] + this.m[3] * matrix.m[1];\n        var m21 = this.m[0] * matrix.m[2] + this.m[2] * matrix.m[3];\n        var m22 = this.m[1] * matrix.m[2] + this.m[3] * matrix.m[3];\n        var dx = this.m[0] * matrix.m[4] + this.m[2] * matrix.m[5] + this.m[4];\n        var dy = this.m[1] * matrix.m[4] + this.m[3] * matrix.m[5] + this.m[5];\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        this.m[4] = dx;\n        this.m[5] = dy;\n        return this;\n    }\n    invert() {\n        var d = 1 / (this.m[0] * this.m[3] - this.m[1] * this.m[2]);\n        var m0 = this.m[3] * d;\n        var m1 = -this.m[1] * d;\n        var m2 = -this.m[2] * d;\n        var m3 = this.m[0] * d;\n        var m4 = d * (this.m[2] * this.m[5] - this.m[3] * this.m[4]);\n        var m5 = d * (this.m[1] * this.m[4] - this.m[0] * this.m[5]);\n        this.m[0] = m0;\n        this.m[1] = m1;\n        this.m[2] = m2;\n        this.m[3] = m3;\n        this.m[4] = m4;\n        this.m[5] = m5;\n        return this;\n    }\n    getMatrix() {\n        return this.m;\n    }\n    decompose() {\n        var a = this.m[0];\n        var b = this.m[1];\n        var c = this.m[2];\n        var d = this.m[3];\n        var e = this.m[4];\n        var f = this.m[5];\n        var delta = a * d - b * c;\n        let result = {\n            x: e,\n            y: f,\n            rotation: 0,\n            scaleX: 0,\n            scaleY: 0,\n            skewX: 0,\n            skewY: 0,\n        };\n        if (a != 0 || b != 0) {\n            var r = Math.sqrt(a * a + b * b);\n            result.rotation = b > 0 ? Math.acos(a / r) : -Math.acos(a / r);\n            result.scaleX = r;\n            result.scaleY = delta / r;\n            result.skewX = (a * c + b * d) / delta;\n            result.skewY = 0;\n        }\n        else if (c != 0 || d != 0) {\n            var s = Math.sqrt(c * c + d * d);\n            result.rotation =\n                Math.PI / 2 - (d > 0 ? Math.acos(-c / s) : -Math.acos(c / s));\n            result.scaleX = delta / s;\n            result.scaleY = s;\n            result.skewX = 0;\n            result.skewY = (a * c + b * d) / delta;\n        }\n        else {\n        }\n        result.rotation = exports.Util._getRotation(result.rotation);\n        return result;\n    }\n}\nexports.Transform = Transform;\nvar OBJECT_ARRAY = '[object Array]', OBJECT_NUMBER = '[object Number]', OBJECT_STRING = '[object String]', OBJECT_BOOLEAN = '[object Boolean]', PI_OVER_DEG180 = Math.PI / 180, DEG180_OVER_PI = 180 / Math.PI, HASH = '#', EMPTY_STRING = '', ZERO = '0', KONVA_WARNING = 'Konva warning: ', KONVA_ERROR = 'Konva error: ', RGB_PAREN = 'rgb(', COLORS = {\n    aliceblue: [240, 248, 255],\n    antiquewhite: [250, 235, 215],\n    aqua: [0, 255, 255],\n    aquamarine: [127, 255, 212],\n    azure: [240, 255, 255],\n    beige: [245, 245, 220],\n    bisque: [255, 228, 196],\n    black: [0, 0, 0],\n    blanchedalmond: [255, 235, 205],\n    blue: [0, 0, 255],\n    blueviolet: [138, 43, 226],\n    brown: [165, 42, 42],\n    burlywood: [222, 184, 135],\n    cadetblue: [95, 158, 160],\n    chartreuse: [127, 255, 0],\n    chocolate: [210, 105, 30],\n    coral: [255, 127, 80],\n    cornflowerblue: [100, 149, 237],\n    cornsilk: [255, 248, 220],\n    crimson: [220, 20, 60],\n    cyan: [0, 255, 255],\n    darkblue: [0, 0, 139],\n    darkcyan: [0, 139, 139],\n    darkgoldenrod: [184, 132, 11],\n    darkgray: [169, 169, 169],\n    darkgreen: [0, 100, 0],\n    darkgrey: [169, 169, 169],\n    darkkhaki: [189, 183, 107],\n    darkmagenta: [139, 0, 139],\n    darkolivegreen: [85, 107, 47],\n    darkorange: [255, 140, 0],\n    darkorchid: [153, 50, 204],\n    darkred: [139, 0, 0],\n    darksalmon: [233, 150, 122],\n    darkseagreen: [143, 188, 143],\n    darkslateblue: [72, 61, 139],\n    darkslategray: [47, 79, 79],\n    darkslategrey: [47, 79, 79],\n    darkturquoise: [0, 206, 209],\n    darkviolet: [148, 0, 211],\n    deeppink: [255, 20, 147],\n    deepskyblue: [0, 191, 255],\n    dimgray: [105, 105, 105],\n    dimgrey: [105, 105, 105],\n    dodgerblue: [30, 144, 255],\n    firebrick: [178, 34, 34],\n    floralwhite: [255, 255, 240],\n    forestgreen: [34, 139, 34],\n    fuchsia: [255, 0, 255],\n    gainsboro: [220, 220, 220],\n    ghostwhite: [248, 248, 255],\n    gold: [255, 215, 0],\n    goldenrod: [218, 165, 32],\n    gray: [128, 128, 128],\n    green: [0, 128, 0],\n    greenyellow: [173, 255, 47],\n    grey: [128, 128, 128],\n    honeydew: [240, 255, 240],\n    hotpink: [255, 105, 180],\n    indianred: [205, 92, 92],\n    indigo: [75, 0, 130],\n    ivory: [255, 255, 240],\n    khaki: [240, 230, 140],\n    lavender: [230, 230, 250],\n    lavenderblush: [255, 240, 245],\n    lawngreen: [124, 252, 0],\n    lemonchiffon: [255, 250, 205],\n    lightblue: [173, 216, 230],\n    lightcoral: [240, 128, 128],\n    lightcyan: [224, 255, 255],\n    lightgoldenrodyellow: [250, 250, 210],\n    lightgray: [211, 211, 211],\n    lightgreen: [144, 238, 144],\n    lightgrey: [211, 211, 211],\n    lightpink: [255, 182, 193],\n    lightsalmon: [255, 160, 122],\n    lightseagreen: [32, 178, 170],\n    lightskyblue: [135, 206, 250],\n    lightslategray: [119, 136, 153],\n    lightslategrey: [119, 136, 153],\n    lightsteelblue: [176, 196, 222],\n    lightyellow: [255, 255, 224],\n    lime: [0, 255, 0],\n    limegreen: [50, 205, 50],\n    linen: [250, 240, 230],\n    magenta: [255, 0, 255],\n    maroon: [128, 0, 0],\n    mediumaquamarine: [102, 205, 170],\n    mediumblue: [0, 0, 205],\n    mediumorchid: [186, 85, 211],\n    mediumpurple: [147, 112, 219],\n    mediumseagreen: [60, 179, 113],\n    mediumslateblue: [123, 104, 238],\n    mediumspringgreen: [0, 250, 154],\n    mediumturquoise: [72, 209, 204],\n    mediumvioletred: [199, 21, 133],\n    midnightblue: [25, 25, 112],\n    mintcream: [245, 255, 250],\n    mistyrose: [255, 228, 225],\n    moccasin: [255, 228, 181],\n    navajowhite: [255, 222, 173],\n    navy: [0, 0, 128],\n    oldlace: [253, 245, 230],\n    olive: [128, 128, 0],\n    olivedrab: [107, 142, 35],\n    orange: [255, 165, 0],\n    orangered: [255, 69, 0],\n    orchid: [218, 112, 214],\n    palegoldenrod: [238, 232, 170],\n    palegreen: [152, 251, 152],\n    paleturquoise: [175, 238, 238],\n    palevioletred: [219, 112, 147],\n    papayawhip: [255, 239, 213],\n    peachpuff: [255, 218, 185],\n    peru: [205, 133, 63],\n    pink: [255, 192, 203],\n    plum: [221, 160, 203],\n    powderblue: [176, 224, 230],\n    purple: [128, 0, 128],\n    rebeccapurple: [102, 51, 153],\n    red: [255, 0, 0],\n    rosybrown: [188, 143, 143],\n    royalblue: [65, 105, 225],\n    saddlebrown: [139, 69, 19],\n    salmon: [250, 128, 114],\n    sandybrown: [244, 164, 96],\n    seagreen: [46, 139, 87],\n    seashell: [255, 245, 238],\n    sienna: [160, 82, 45],\n    silver: [192, 192, 192],\n    skyblue: [135, 206, 235],\n    slateblue: [106, 90, 205],\n    slategray: [119, 128, 144],\n    slategrey: [119, 128, 144],\n    snow: [255, 255, 250],\n    springgreen: [0, 255, 127],\n    steelblue: [70, 130, 180],\n    tan: [210, 180, 140],\n    teal: [0, 128, 128],\n    thistle: [216, 191, 216],\n    transparent: [255, 255, 255, 0],\n    tomato: [255, 99, 71],\n    turquoise: [64, 224, 208],\n    violet: [238, 130, 238],\n    wheat: [245, 222, 179],\n    white: [255, 255, 255],\n    whitesmoke: [245, 245, 245],\n    yellow: [255, 255, 0],\n    yellowgreen: [154, 205, 5],\n}, RGB_REGEX = /rgb\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})\\)/, animQueue = [];\nconst req = (typeof requestAnimationFrame !== 'undefined' && requestAnimationFrame) ||\n    function (f) {\n        setTimeout(f, 60);\n    };\nexports.Util = {\n    _isElement(obj) {\n        return !!(obj && obj.nodeType == 1);\n    },\n    _isFunction(obj) {\n        return !!(obj && obj.constructor && obj.call && obj.apply);\n    },\n    _isPlainObject(obj) {\n        return !!obj && obj.constructor === Object;\n    },\n    _isArray(obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_ARRAY;\n    },\n    _isNumber(obj) {\n        return (Object.prototype.toString.call(obj) === OBJECT_NUMBER &&\n            !isNaN(obj) &&\n            isFinite(obj));\n    },\n    _isString(obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_STRING;\n    },\n    _isBoolean(obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_BOOLEAN;\n    },\n    isObject(val) {\n        return val instanceof Object;\n    },\n    isValidSelector(selector) {\n        if (typeof selector !== 'string') {\n            return false;\n        }\n        var firstChar = selector[0];\n        return (firstChar === '#' ||\n            firstChar === '.' ||\n            firstChar === firstChar.toUpperCase());\n    },\n    _sign(number) {\n        if (number === 0) {\n            return 1;\n        }\n        if (number > 0) {\n            return 1;\n        }\n        else {\n            return -1;\n        }\n    },\n    requestAnimFrame(callback) {\n        animQueue.push(callback);\n        if (animQueue.length === 1) {\n            req(function () {\n                const queue = animQueue;\n                animQueue = [];\n                queue.forEach(function (cb) {\n                    cb();\n                });\n            });\n        }\n    },\n    createCanvasElement() {\n        var canvas = document.createElement('canvas');\n        try {\n            canvas.style = canvas.style || {};\n        }\n        catch (e) { }\n        return canvas;\n    },\n    createImageElement() {\n        return document.createElement('img');\n    },\n    _isInDocument(el) {\n        while ((el = el.parentNode)) {\n            if (el == document) {\n                return true;\n            }\n        }\n        return false;\n    },\n    _urlToImage(url, callback) {\n        var imageObj = exports.Util.createImageElement();\n        imageObj.onload = function () {\n            callback(imageObj);\n        };\n        imageObj.src = url;\n    },\n    _rgbToHex(r, g, b) {\n        return ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n    },\n    _hexToRgb(hex) {\n        hex = hex.replace(HASH, EMPTY_STRING);\n        var bigint = parseInt(hex, 16);\n        return {\n            r: (bigint >> 16) & 255,\n            g: (bigint >> 8) & 255,\n            b: bigint & 255,\n        };\n    },\n    getRandomColor() {\n        var randColor = ((Math.random() * 0xffffff) << 0).toString(16);\n        while (randColor.length < 6) {\n            randColor = ZERO + randColor;\n        }\n        return HASH + randColor;\n    },\n    getRGB(color) {\n        var rgb;\n        if (color in COLORS) {\n            rgb = COLORS[color];\n            return {\n                r: rgb[0],\n                g: rgb[1],\n                b: rgb[2],\n            };\n        }\n        else if (color[0] === HASH) {\n            return this._hexToRgb(color.substring(1));\n        }\n        else if (color.substr(0, 4) === RGB_PAREN) {\n            rgb = RGB_REGEX.exec(color.replace(/ /g, ''));\n            return {\n                r: parseInt(rgb[1], 10),\n                g: parseInt(rgb[2], 10),\n                b: parseInt(rgb[3], 10),\n            };\n        }\n        else {\n            return {\n                r: 0,\n                g: 0,\n                b: 0,\n            };\n        }\n    },\n    colorToRGBA(str) {\n        str = str || 'black';\n        return (exports.Util._namedColorToRBA(str) ||\n            exports.Util._hex3ColorToRGBA(str) ||\n            exports.Util._hex4ColorToRGBA(str) ||\n            exports.Util._hex6ColorToRGBA(str) ||\n            exports.Util._hex8ColorToRGBA(str) ||\n            exports.Util._rgbColorToRGBA(str) ||\n            exports.Util._rgbaColorToRGBA(str) ||\n            exports.Util._hslColorToRGBA(str));\n    },\n    _namedColorToRBA(str) {\n        var c = COLORS[str.toLowerCase()];\n        if (!c) {\n            return null;\n        }\n        return {\n            r: c[0],\n            g: c[1],\n            b: c[2],\n            a: 1,\n        };\n    },\n    _rgbColorToRGBA(str) {\n        if (str.indexOf('rgb(') === 0) {\n            str = str.match(/rgb\\(([^)]+)\\)/)[1];\n            var parts = str.split(/ *, */).map(Number);\n            return {\n                r: parts[0],\n                g: parts[1],\n                b: parts[2],\n                a: 1,\n            };\n        }\n    },\n    _rgbaColorToRGBA(str) {\n        if (str.indexOf('rgba(') === 0) {\n            str = str.match(/rgba\\(([^)]+)\\)/)[1];\n            var parts = str.split(/ *, */).map((n, index) => {\n                if (n.slice(-1) === '%') {\n                    return index === 3 ? parseInt(n) / 100 : (parseInt(n) / 100) * 255;\n                }\n                return Number(n);\n            });\n            return {\n                r: parts[0],\n                g: parts[1],\n                b: parts[2],\n                a: parts[3],\n            };\n        }\n    },\n    _hex8ColorToRGBA(str) {\n        if (str[0] === '#' && str.length === 9) {\n            return {\n                r: parseInt(str.slice(1, 3), 16),\n                g: parseInt(str.slice(3, 5), 16),\n                b: parseInt(str.slice(5, 7), 16),\n                a: parseInt(str.slice(7, 9), 16) / 0xff,\n            };\n        }\n    },\n    _hex6ColorToRGBA(str) {\n        if (str[0] === '#' && str.length === 7) {\n            return {\n                r: parseInt(str.slice(1, 3), 16),\n                g: parseInt(str.slice(3, 5), 16),\n                b: parseInt(str.slice(5, 7), 16),\n                a: 1,\n            };\n        }\n    },\n    _hex4ColorToRGBA(str) {\n        if (str[0] === '#' && str.length === 5) {\n            return {\n                r: parseInt(str[1] + str[1], 16),\n                g: parseInt(str[2] + str[2], 16),\n                b: parseInt(str[3] + str[3], 16),\n                a: parseInt(str[4] + str[4], 16) / 0xff,\n            };\n        }\n    },\n    _hex3ColorToRGBA(str) {\n        if (str[0] === '#' && str.length === 4) {\n            return {\n                r: parseInt(str[1] + str[1], 16),\n                g: parseInt(str[2] + str[2], 16),\n                b: parseInt(str[3] + str[3], 16),\n                a: 1,\n            };\n        }\n    },\n    _hslColorToRGBA(str) {\n        if (/hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.test(str)) {\n            const [_, ...hsl] = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(str);\n            const h = Number(hsl[0]) / 360;\n            const s = Number(hsl[1]) / 100;\n            const l = Number(hsl[2]) / 100;\n            let t2;\n            let t3;\n            let val;\n            if (s === 0) {\n                val = l * 255;\n                return {\n                    r: Math.round(val),\n                    g: Math.round(val),\n                    b: Math.round(val),\n                    a: 1,\n                };\n            }\n            if (l < 0.5) {\n                t2 = l * (1 + s);\n            }\n            else {\n                t2 = l + s - l * s;\n            }\n            const t1 = 2 * l - t2;\n            const rgb = [0, 0, 0];\n            for (let i = 0; i < 3; i++) {\n                t3 = h + (1 / 3) * -(i - 1);\n                if (t3 < 0) {\n                    t3++;\n                }\n                if (t3 > 1) {\n                    t3--;\n                }\n                if (6 * t3 < 1) {\n                    val = t1 + (t2 - t1) * 6 * t3;\n                }\n                else if (2 * t3 < 1) {\n                    val = t2;\n                }\n                else if (3 * t3 < 2) {\n                    val = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n                }\n                else {\n                    val = t1;\n                }\n                rgb[i] = val * 255;\n            }\n            return {\n                r: Math.round(rgb[0]),\n                g: Math.round(rgb[1]),\n                b: Math.round(rgb[2]),\n                a: 1,\n            };\n        }\n    },\n    haveIntersection(r1, r2) {\n        return !(r2.x > r1.x + r1.width ||\n            r2.x + r2.width < r1.x ||\n            r2.y > r1.y + r1.height ||\n            r2.y + r2.height < r1.y);\n    },\n    cloneObject(obj) {\n        var retObj = {};\n        for (var key in obj) {\n            if (this._isPlainObject(obj[key])) {\n                retObj[key] = this.cloneObject(obj[key]);\n            }\n            else if (this._isArray(obj[key])) {\n                retObj[key] = this.cloneArray(obj[key]);\n            }\n            else {\n                retObj[key] = obj[key];\n            }\n        }\n        return retObj;\n    },\n    cloneArray(arr) {\n        return arr.slice(0);\n    },\n    degToRad(deg) {\n        return deg * PI_OVER_DEG180;\n    },\n    radToDeg(rad) {\n        return rad * DEG180_OVER_PI;\n    },\n    _degToRad(deg) {\n        exports.Util.warn('Util._degToRad is removed. Please use public Util.degToRad instead.');\n        return exports.Util.degToRad(deg);\n    },\n    _radToDeg(rad) {\n        exports.Util.warn('Util._radToDeg is removed. Please use public Util.radToDeg instead.');\n        return exports.Util.radToDeg(rad);\n    },\n    _getRotation(radians) {\n        return Global_1.Konva.angleDeg ? exports.Util.radToDeg(radians) : radians;\n    },\n    _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.slice(1);\n    },\n    throw(str) {\n        throw new Error(KONVA_ERROR + str);\n    },\n    error(str) {\n        console.error(KONVA_ERROR + str);\n    },\n    warn(str) {\n        if (!Global_1.Konva.showWarnings) {\n            return;\n        }\n        console.warn(KONVA_WARNING + str);\n    },\n    each(obj, func) {\n        for (var key in obj) {\n            func(key, obj[key]);\n        }\n    },\n    _inRange(val, left, right) {\n        return left <= val && val < right;\n    },\n    _getProjectionToSegment(x1, y1, x2, y2, x3, y3) {\n        var x, y, dist;\n        var pd2 = (x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2);\n        if (pd2 == 0) {\n            x = x1;\n            y = y1;\n            dist = (x3 - x2) * (x3 - x2) + (y3 - y2) * (y3 - y2);\n        }\n        else {\n            var u = ((x3 - x1) * (x2 - x1) + (y3 - y1) * (y2 - y1)) / pd2;\n            if (u < 0) {\n                x = x1;\n                y = y1;\n                dist = (x1 - x3) * (x1 - x3) + (y1 - y3) * (y1 - y3);\n            }\n            else if (u > 1.0) {\n                x = x2;\n                y = y2;\n                dist = (x2 - x3) * (x2 - x3) + (y2 - y3) * (y2 - y3);\n            }\n            else {\n                x = x1 + u * (x2 - x1);\n                y = y1 + u * (y2 - y1);\n                dist = (x - x3) * (x - x3) + (y - y3) * (y - y3);\n            }\n        }\n        return [x, y, dist];\n    },\n    _getProjectionToLine(pt, line, isClosed) {\n        var pc = exports.Util.cloneObject(pt);\n        var dist = Number.MAX_VALUE;\n        line.forEach(function (p1, i) {\n            if (!isClosed && i === line.length - 1) {\n                return;\n            }\n            var p2 = line[(i + 1) % line.length];\n            var proj = exports.Util._getProjectionToSegment(p1.x, p1.y, p2.x, p2.y, pt.x, pt.y);\n            var px = proj[0], py = proj[1], pdist = proj[2];\n            if (pdist < dist) {\n                pc.x = px;\n                pc.y = py;\n                dist = pdist;\n            }\n        });\n        return pc;\n    },\n    _prepareArrayForTween(startArray, endArray, isClosed) {\n        var n, start = [], end = [];\n        if (startArray.length > endArray.length) {\n            var temp = endArray;\n            endArray = startArray;\n            startArray = temp;\n        }\n        for (n = 0; n < startArray.length; n += 2) {\n            start.push({\n                x: startArray[n],\n                y: startArray[n + 1],\n            });\n        }\n        for (n = 0; n < endArray.length; n += 2) {\n            end.push({\n                x: endArray[n],\n                y: endArray[n + 1],\n            });\n        }\n        var newStart = [];\n        end.forEach(function (point) {\n            var pr = exports.Util._getProjectionToLine(point, start, isClosed);\n            newStart.push(pr.x);\n            newStart.push(pr.y);\n        });\n        return newStart;\n    },\n    _prepareToStringify(obj) {\n        var desc;\n        obj.visitedByCircularReferenceRemoval = true;\n        for (var key in obj) {\n            if (!(obj.hasOwnProperty(key) && obj[key] && typeof obj[key] == 'object')) {\n                continue;\n            }\n            desc = Object.getOwnPropertyDescriptor(obj, key);\n            if (obj[key].visitedByCircularReferenceRemoval ||\n                exports.Util._isElement(obj[key])) {\n                if (desc.configurable) {\n                    delete obj[key];\n                }\n                else {\n                    return null;\n                }\n            }\n            else if (exports.Util._prepareToStringify(obj[key]) === null) {\n                if (desc.configurable) {\n                    delete obj[key];\n                }\n                else {\n                    return null;\n                }\n            }\n        }\n        delete obj.visitedByCircularReferenceRemoval;\n        return obj;\n    },\n    _assign(target, source) {\n        for (var key in source) {\n            target[key] = source[key];\n        }\n        return target;\n    },\n    _getFirstPointerId(evt) {\n        if (!evt.touches) {\n            return evt.pointerId || 999;\n        }\n        else {\n            return evt.changedTouches[0].identifier;\n        }\n    },\n    releaseCanvas(...canvases) {\n        if (!Global_1.Konva.releaseCanvasOnDestroy)\n            return;\n        canvases.forEach(c => {\n            c.width = 0;\n            c.height = 0;\n        });\n    },\n    drawRoundedRectPath(context, width, height, cornerRadius) {\n        let topLeft = 0;\n        let topRight = 0;\n        let bottomLeft = 0;\n        let bottomRight = 0;\n        if (typeof cornerRadius === 'number') {\n            topLeft = topRight = bottomLeft = bottomRight = Math.min(cornerRadius, width / 2, height / 2);\n        }\n        else {\n            topLeft = Math.min(cornerRadius[0] || 0, width / 2, height / 2);\n            topRight = Math.min(cornerRadius[1] || 0, width / 2, height / 2);\n            bottomRight = Math.min(cornerRadius[2] || 0, width / 2, height / 2);\n            bottomLeft = Math.min(cornerRadius[3] || 0, width / 2, height / 2);\n        }\n        context.moveTo(topLeft, 0);\n        context.lineTo(width - topRight, 0);\n        context.arc(width - topRight, topRight, topRight, (Math.PI * 3) / 2, 0, false);\n        context.lineTo(width, height - bottomRight);\n        context.arc(width - bottomRight, height - bottomRight, bottomRight, 0, Math.PI / 2, false);\n        context.lineTo(bottomLeft, height);\n        context.arc(bottomLeft, height - bottomLeft, bottomLeft, Math.PI / 2, Math.PI, false);\n        context.lineTo(0, topLeft);\n        context.arc(topLeft, topLeft, topLeft, Math.PI, (Math.PI * 3) / 2, false);\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getComponentValidator = exports.getBooleanValidator = exports.getNumberArrayValidator = exports.getFunctionValidator = exports.getStringOrGradientValidator = exports.getStringValidator = exports.getNumberOrAutoValidator = exports.getNumberOrArrayOfNumbersValidator = exports.getNumberValidator = exports.alphaComponent = exports.RGBComponent = void 0;\nconst Global_1 = require(\"./Global\");\nconst Util_1 = require(\"./Util\");\nfunction _formatValue(val) {\n    if (Util_1.Util._isString(val)) {\n        return '\"' + val + '\"';\n    }\n    if (Object.prototype.toString.call(val) === '[object Number]') {\n        return val;\n    }\n    if (Util_1.Util._isBoolean(val)) {\n        return val;\n    }\n    return Object.prototype.toString.call(val);\n}\nfunction RGBComponent(val) {\n    if (val > 255) {\n        return 255;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    return Math.round(val);\n}\nexports.RGBComponent = RGBComponent;\nfunction alphaComponent(val) {\n    if (val > 1) {\n        return 1;\n    }\n    else if (val < 0.0001) {\n        return 0.0001;\n    }\n    return val;\n}\nexports.alphaComponent = alphaComponent;\nfunction getNumberValidator() {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util_1.Util._isNumber(val)) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a number.');\n            }\n            return val;\n        };\n    }\n}\nexports.getNumberValidator = getNumberValidator;\nfunction getNumberOrArrayOfNumbersValidator(noOfElements) {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            let isNumber = Util_1.Util._isNumber(val);\n            let isValidArray = Util_1.Util._isArray(val) && val.length == noOfElements;\n            if (!isNumber && !isValidArray) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a number or Array<number>(' +\n                    noOfElements +\n                    ')');\n            }\n            return val;\n        };\n    }\n}\nexports.getNumberOrArrayOfNumbersValidator = getNumberOrArrayOfNumbersValidator;\nfunction getNumberOrAutoValidator() {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            var isNumber = Util_1.Util._isNumber(val);\n            var isAuto = val === 'auto';\n            if (!(isNumber || isAuto)) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a number or \"auto\".');\n            }\n            return val;\n        };\n    }\n}\nexports.getNumberOrAutoValidator = getNumberOrAutoValidator;\nfunction getStringValidator() {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util_1.Util._isString(val)) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a string.');\n            }\n            return val;\n        };\n    }\n}\nexports.getStringValidator = getStringValidator;\nfunction getStringOrGradientValidator() {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            const isString = Util_1.Util._isString(val);\n            const isGradient = Object.prototype.toString.call(val) === '[object CanvasGradient]' ||\n                (val && val.addColorStop);\n            if (!(isString || isGradient)) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a string or a native gradient.');\n            }\n            return val;\n        };\n    }\n}\nexports.getStringOrGradientValidator = getStringOrGradientValidator;\nfunction getFunctionValidator() {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util_1.Util._isFunction(val)) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a function.');\n            }\n            return val;\n        };\n    }\n}\nexports.getFunctionValidator = getFunctionValidator;\nfunction getNumberArrayValidator() {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            const TypedArray = Int8Array ? Object.getPrototypeOf(Int8Array) : null;\n            if (TypedArray && val instanceof TypedArray) {\n                return val;\n            }\n            if (!Util_1.Util._isArray(val)) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a array of numbers.');\n            }\n            else {\n                val.forEach(function (item) {\n                    if (!Util_1.Util._isNumber(item)) {\n                        Util_1.Util.warn('\"' +\n                            attr +\n                            '\" attribute has non numeric element ' +\n                            item +\n                            '. Make sure that all elements are numbers.');\n                    }\n                });\n            }\n            return val;\n        };\n    }\n}\nexports.getNumberArrayValidator = getNumberArrayValidator;\nfunction getBooleanValidator() {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            var isBool = val === true || val === false;\n            if (!isBool) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a boolean.');\n            }\n            return val;\n        };\n    }\n}\nexports.getBooleanValidator = getBooleanValidator;\nfunction getComponentValidator(components) {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            if (val === undefined || val === null) {\n                return val;\n            }\n            if (!Util_1.Util.isObject(val)) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be an object with properties ' +\n                    components);\n            }\n            return val;\n        };\n    }\n}\nexports.getComponentValidator = getComponentValidator;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Factory = void 0;\nconst Util_1 = require(\"./Util\");\nconst Validators_1 = require(\"./Validators\");\nvar GET = 'get', SET = 'set';\nexports.Factory = {\n    addGetterSetter(constructor, attr, def, validator, after) {\n        exports.Factory.addGetter(constructor, attr, def);\n        exports.Factory.addSetter(constructor, attr, validator, after);\n        exports.Factory.addOverloadedGetterSetter(constructor, attr);\n    },\n    addGetter(constructor, attr, def) {\n        var method = GET + Util_1.Util._capitalize(attr);\n        constructor.prototype[method] =\n            constructor.prototype[method] ||\n                function () {\n                    var val = this.attrs[attr];\n                    return val === undefined ? def : val;\n                };\n    },\n    addSetter(constructor, attr, validator, after) {\n        var method = SET + Util_1.Util._capitalize(attr);\n        if (!constructor.prototype[method]) {\n            exports.Factory.overWriteSetter(constructor, attr, validator, after);\n        }\n    },\n    overWriteSetter(constructor, attr, validator, after) {\n        var method = SET + Util_1.Util._capitalize(attr);\n        constructor.prototype[method] = function (val) {\n            if (validator && val !== undefined && val !== null) {\n                val = validator.call(this, val, attr);\n            }\n            this._setAttr(attr, val);\n            if (after) {\n                after.call(this);\n            }\n            return this;\n        };\n    },\n    addComponentsGetterSetter(constructor, attr, components, validator, after) {\n        var len = components.length, capitalize = Util_1.Util._capitalize, getter = GET + capitalize(attr), setter = SET + capitalize(attr), n, component;\n        constructor.prototype[getter] = function () {\n            var ret = {};\n            for (n = 0; n < len; n++) {\n                component = components[n];\n                ret[component] = this.getAttr(attr + capitalize(component));\n            }\n            return ret;\n        };\n        var basicValidator = (0, Validators_1.getComponentValidator)(components);\n        constructor.prototype[setter] = function (val) {\n            var oldVal = this.attrs[attr], key;\n            if (validator) {\n                val = validator.call(this, val);\n            }\n            if (basicValidator) {\n                basicValidator.call(this, val, attr);\n            }\n            for (key in val) {\n                if (!val.hasOwnProperty(key)) {\n                    continue;\n                }\n                this._setAttr(attr + capitalize(key), val[key]);\n            }\n            if (!val) {\n                components.forEach((component) => {\n                    this._setAttr(attr + capitalize(component), undefined);\n                });\n            }\n            this._fireChangeEvent(attr, oldVal, val);\n            if (after) {\n                after.call(this);\n            }\n            return this;\n        };\n        exports.Factory.addOverloadedGetterSetter(constructor, attr);\n    },\n    addOverloadedGetterSetter(constructor, attr) {\n        var capitalizedAttr = Util_1.Util._capitalize(attr), setter = SET + capitalizedAttr, getter = GET + capitalizedAttr;\n        constructor.prototype[attr] = function () {\n            if (arguments.length) {\n                this[setter](arguments[0]);\n                return this;\n            }\n            return this[getter]();\n        };\n    },\n    addDeprecatedGetterSetter(constructor, attr, def, validator) {\n        Util_1.Util.error('Adding deprecated ' + attr);\n        var method = GET + Util_1.Util._capitalize(attr);\n        var message = attr +\n            ' property is deprecated and will be removed soon. Look at Konva change log for more information.';\n        constructor.prototype[method] = function () {\n            Util_1.Util.error(message);\n            var val = this.attrs[attr];\n            return val === undefined ? def : val;\n        };\n        exports.Factory.addSetter(constructor, attr, validator, function () {\n            Util_1.Util.error(message);\n        });\n        exports.Factory.addOverloadedGetterSetter(constructor, attr);\n    },\n    backCompat(constructor, methods) {\n        Util_1.Util.each(methods, function (oldMethodName, newMethodName) {\n            var method = constructor.prototype[newMethodName];\n            var oldGetter = GET + Util_1.Util._capitalize(oldMethodName);\n            var oldSetter = SET + Util_1.Util._capitalize(oldMethodName);\n            function deprecated() {\n                method.apply(this, arguments);\n                Util_1.Util.error('\"' +\n                    oldMethodName +\n                    '\" method is deprecated and will be removed soon. Use \"\"' +\n                    newMethodName +\n                    '\" instead.');\n            }\n            constructor.prototype[oldMethodName] = deprecated;\n            constructor.prototype[oldGetter] = deprecated;\n            constructor.prototype[oldSetter] = deprecated;\n        });\n    },\n    afterSetFilter() {\n        this._filterUpToDate = false;\n    },\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HitContext = exports.SceneContext = exports.Context = void 0;\nconst Util_1 = require(\"./Util\");\nconst Global_1 = require(\"./Global\");\nfunction simplifyArray(arr) {\n    var retArr = [], len = arr.length, util = Util_1.Util, n, val;\n    for (n = 0; n < len; n++) {\n        val = arr[n];\n        if (util._isNumber(val)) {\n            val = Math.round(val * 1000) / 1000;\n        }\n        else if (!util._isString(val)) {\n            val = val + '';\n        }\n        retArr.push(val);\n    }\n    return retArr;\n}\nvar COMMA = ',', OPEN_PAREN = '(', CLOSE_PAREN = ')', OPEN_PAREN_BRACKET = '([', CLOSE_BRACKET_PAREN = '])', SEMICOLON = ';', DOUBLE_PAREN = '()', EQUALS = '=', CONTEXT_METHODS = [\n    'arc',\n    'arcTo',\n    'beginPath',\n    'bezierCurveTo',\n    'clearRect',\n    'clip',\n    'closePath',\n    'createLinearGradient',\n    'createPattern',\n    'createRadialGradient',\n    'drawImage',\n    'ellipse',\n    'fill',\n    'fillText',\n    'getImageData',\n    'createImageData',\n    'lineTo',\n    'moveTo',\n    'putImageData',\n    'quadraticCurveTo',\n    'rect',\n    'restore',\n    'rotate',\n    'save',\n    'scale',\n    'setLineDash',\n    'setTransform',\n    'stroke',\n    'strokeText',\n    'transform',\n    'translate',\n];\nvar CONTEXT_PROPERTIES = [\n    'fillStyle',\n    'strokeStyle',\n    'shadowColor',\n    'shadowBlur',\n    'shadowOffsetX',\n    'shadowOffsetY',\n    'lineCap',\n    'lineDashOffset',\n    'lineJoin',\n    'lineWidth',\n    'miterLimit',\n    'font',\n    'textAlign',\n    'textBaseline',\n    'globalAlpha',\n    'globalCompositeOperation',\n    'imageSmoothingEnabled',\n];\nconst traceArrMax = 100;\nclass Context {\n    constructor(canvas) {\n        this.canvas = canvas;\n        if (Global_1.Konva.enableTrace) {\n            this.traceArr = [];\n            this._enableTrace();\n        }\n    }\n    fillShape(shape) {\n        if (shape.fillEnabled()) {\n            this._fill(shape);\n        }\n    }\n    _fill(shape) {\n    }\n    strokeShape(shape) {\n        if (shape.hasStroke()) {\n            this._stroke(shape);\n        }\n    }\n    _stroke(shape) {\n    }\n    fillStrokeShape(shape) {\n        if (shape.attrs.fillAfterStrokeEnabled) {\n            this.strokeShape(shape);\n            this.fillShape(shape);\n        }\n        else {\n            this.fillShape(shape);\n            this.strokeShape(shape);\n        }\n    }\n    getTrace(relaxed, rounded) {\n        var traceArr = this.traceArr, len = traceArr.length, str = '', n, trace, method, args;\n        for (n = 0; n < len; n++) {\n            trace = traceArr[n];\n            method = trace.method;\n            if (method) {\n                args = trace.args;\n                str += method;\n                if (relaxed) {\n                    str += DOUBLE_PAREN;\n                }\n                else {\n                    if (Util_1.Util._isArray(args[0])) {\n                        str += OPEN_PAREN_BRACKET + args.join(COMMA) + CLOSE_BRACKET_PAREN;\n                    }\n                    else {\n                        if (rounded) {\n                            args = args.map((a) => typeof a === 'number' ? Math.floor(a) : a);\n                        }\n                        str += OPEN_PAREN + args.join(COMMA) + CLOSE_PAREN;\n                    }\n                }\n            }\n            else {\n                str += trace.property;\n                if (!relaxed) {\n                    str += EQUALS + trace.val;\n                }\n            }\n            str += SEMICOLON;\n        }\n        return str;\n    }\n    clearTrace() {\n        this.traceArr = [];\n    }\n    _trace(str) {\n        var traceArr = this.traceArr, len;\n        traceArr.push(str);\n        len = traceArr.length;\n        if (len >= traceArrMax) {\n            traceArr.shift();\n        }\n    }\n    reset() {\n        var pixelRatio = this.getCanvas().getPixelRatio();\n        this.setTransform(1 * pixelRatio, 0, 0, 1 * pixelRatio, 0, 0);\n    }\n    getCanvas() {\n        return this.canvas;\n    }\n    clear(bounds) {\n        var canvas = this.getCanvas();\n        if (bounds) {\n            this.clearRect(bounds.x || 0, bounds.y || 0, bounds.width || 0, bounds.height || 0);\n        }\n        else {\n            this.clearRect(0, 0, canvas.getWidth() / canvas.pixelRatio, canvas.getHeight() / canvas.pixelRatio);\n        }\n    }\n    _applyLineCap(shape) {\n        const lineCap = shape.attrs.lineCap;\n        if (lineCap) {\n            this.setAttr('lineCap', lineCap);\n        }\n    }\n    _applyOpacity(shape) {\n        var absOpacity = shape.getAbsoluteOpacity();\n        if (absOpacity !== 1) {\n            this.setAttr('globalAlpha', absOpacity);\n        }\n    }\n    _applyLineJoin(shape) {\n        const lineJoin = shape.attrs.lineJoin;\n        if (lineJoin) {\n            this.setAttr('lineJoin', lineJoin);\n        }\n    }\n    setAttr(attr, val) {\n        this._context[attr] = val;\n    }\n    arc(a0, a1, a2, a3, a4, a5) {\n        this._context.arc(a0, a1, a2, a3, a4, a5);\n    }\n    arcTo(a0, a1, a2, a3, a4) {\n        this._context.arcTo(a0, a1, a2, a3, a4);\n    }\n    beginPath() {\n        this._context.beginPath();\n    }\n    bezierCurveTo(a0, a1, a2, a3, a4, a5) {\n        this._context.bezierCurveTo(a0, a1, a2, a3, a4, a5);\n    }\n    clearRect(a0, a1, a2, a3) {\n        this._context.clearRect(a0, a1, a2, a3);\n    }\n    clip(...args) {\n        this._context.clip.apply(this._context, args);\n    }\n    closePath() {\n        this._context.closePath();\n    }\n    createImageData(a0, a1) {\n        var a = arguments;\n        if (a.length === 2) {\n            return this._context.createImageData(a0, a1);\n        }\n        else if (a.length === 1) {\n            return this._context.createImageData(a0);\n        }\n    }\n    createLinearGradient(a0, a1, a2, a3) {\n        return this._context.createLinearGradient(a0, a1, a2, a3);\n    }\n    createPattern(a0, a1) {\n        return this._context.createPattern(a0, a1);\n    }\n    createRadialGradient(a0, a1, a2, a3, a4, a5) {\n        return this._context.createRadialGradient(a0, a1, a2, a3, a4, a5);\n    }\n    drawImage(a0, a1, a2, a3, a4, a5, a6, a7, a8) {\n        var a = arguments, _context = this._context;\n        if (a.length === 3) {\n            _context.drawImage(a0, a1, a2);\n        }\n        else if (a.length === 5) {\n            _context.drawImage(a0, a1, a2, a3, a4);\n        }\n        else if (a.length === 9) {\n            _context.drawImage(a0, a1, a2, a3, a4, a5, a6, a7, a8);\n        }\n    }\n    ellipse(a0, a1, a2, a3, a4, a5, a6, a7) {\n        this._context.ellipse(a0, a1, a2, a3, a4, a5, a6, a7);\n    }\n    isPointInPath(x, y, path, fillRule) {\n        if (path) {\n            return this._context.isPointInPath(path, x, y, fillRule);\n        }\n        return this._context.isPointInPath(x, y, fillRule);\n    }\n    fill(...args) {\n        this._context.fill.apply(this._context, args);\n    }\n    fillRect(x, y, width, height) {\n        this._context.fillRect(x, y, width, height);\n    }\n    strokeRect(x, y, width, height) {\n        this._context.strokeRect(x, y, width, height);\n    }\n    fillText(text, x, y, maxWidth) {\n        if (maxWidth) {\n            this._context.fillText(text, x, y, maxWidth);\n        }\n        else {\n            this._context.fillText(text, x, y);\n        }\n    }\n    measureText(text) {\n        return this._context.measureText(text);\n    }\n    getImageData(a0, a1, a2, a3) {\n        return this._context.getImageData(a0, a1, a2, a3);\n    }\n    lineTo(a0, a1) {\n        this._context.lineTo(a0, a1);\n    }\n    moveTo(a0, a1) {\n        this._context.moveTo(a0, a1);\n    }\n    rect(a0, a1, a2, a3) {\n        this._context.rect(a0, a1, a2, a3);\n    }\n    putImageData(a0, a1, a2) {\n        this._context.putImageData(a0, a1, a2);\n    }\n    quadraticCurveTo(a0, a1, a2, a3) {\n        this._context.quadraticCurveTo(a0, a1, a2, a3);\n    }\n    restore() {\n        this._context.restore();\n    }\n    rotate(a0) {\n        this._context.rotate(a0);\n    }\n    save() {\n        this._context.save();\n    }\n    scale(a0, a1) {\n        this._context.scale(a0, a1);\n    }\n    setLineDash(a0) {\n        if (this._context.setLineDash) {\n            this._context.setLineDash(a0);\n        }\n        else if ('mozDash' in this._context) {\n            this._context['mozDash'] = a0;\n        }\n        else if ('webkitLineDash' in this._context) {\n            this._context['webkitLineDash'] = a0;\n        }\n    }\n    getLineDash() {\n        return this._context.getLineDash();\n    }\n    setTransform(a0, a1, a2, a3, a4, a5) {\n        this._context.setTransform(a0, a1, a2, a3, a4, a5);\n    }\n    stroke(path2d) {\n        if (path2d) {\n            this._context.stroke(path2d);\n        }\n        else {\n            this._context.stroke();\n        }\n    }\n    strokeText(a0, a1, a2, a3) {\n        this._context.strokeText(a0, a1, a2, a3);\n    }\n    transform(a0, a1, a2, a3, a4, a5) {\n        this._context.transform(a0, a1, a2, a3, a4, a5);\n    }\n    translate(a0, a1) {\n        this._context.translate(a0, a1);\n    }\n    _enableTrace() {\n        var that = this, len = CONTEXT_METHODS.length, origSetter = this.setAttr, n, args;\n        var func = function (methodName) {\n            var origMethod = that[methodName], ret;\n            that[methodName] = function () {\n                args = simplifyArray(Array.prototype.slice.call(arguments, 0));\n                ret = origMethod.apply(that, arguments);\n                that._trace({\n                    method: methodName,\n                    args: args,\n                });\n                return ret;\n            };\n        };\n        for (n = 0; n < len; n++) {\n            func(CONTEXT_METHODS[n]);\n        }\n        that.setAttr = function () {\n            origSetter.apply(that, arguments);\n            var prop = arguments[0];\n            var val = arguments[1];\n            if (prop === 'shadowOffsetX' ||\n                prop === 'shadowOffsetY' ||\n                prop === 'shadowBlur') {\n                val = val / this.canvas.getPixelRatio();\n            }\n            that._trace({\n                property: prop,\n                val: val,\n            });\n        };\n    }\n    _applyGlobalCompositeOperation(node) {\n        const op = node.attrs.globalCompositeOperation;\n        var def = !op || op === 'source-over';\n        if (!def) {\n            this.setAttr('globalCompositeOperation', op);\n        }\n    }\n}\nexports.Context = Context;\nCONTEXT_PROPERTIES.forEach(function (prop) {\n    Object.defineProperty(Context.prototype, prop, {\n        get() {\n            return this._context[prop];\n        },\n        set(val) {\n            this._context[prop] = val;\n        },\n    });\n});\nclass SceneContext extends Context {\n    constructor(canvas, { willReadFrequently = false } = {}) {\n        super(canvas);\n        this._context = canvas._canvas.getContext('2d', {\n            willReadFrequently,\n        });\n    }\n    _fillColor(shape) {\n        var fill = shape.fill();\n        this.setAttr('fillStyle', fill);\n        shape._fillFunc(this);\n    }\n    _fillPattern(shape) {\n        this.setAttr('fillStyle', shape._getFillPattern());\n        shape._fillFunc(this);\n    }\n    _fillLinearGradient(shape) {\n        var grd = shape._getLinearGradient();\n        if (grd) {\n            this.setAttr('fillStyle', grd);\n            shape._fillFunc(this);\n        }\n    }\n    _fillRadialGradient(shape) {\n        const grd = shape._getRadialGradient();\n        if (grd) {\n            this.setAttr('fillStyle', grd);\n            shape._fillFunc(this);\n        }\n    }\n    _fill(shape) {\n        const hasColor = shape.fill(), fillPriority = shape.getFillPriority();\n        if (hasColor && fillPriority === 'color') {\n            this._fillColor(shape);\n            return;\n        }\n        const hasPattern = shape.getFillPatternImage();\n        if (hasPattern && fillPriority === 'pattern') {\n            this._fillPattern(shape);\n            return;\n        }\n        const hasLinearGradient = shape.getFillLinearGradientColorStops();\n        if (hasLinearGradient && fillPriority === 'linear-gradient') {\n            this._fillLinearGradient(shape);\n            return;\n        }\n        const hasRadialGradient = shape.getFillRadialGradientColorStops();\n        if (hasRadialGradient && fillPriority === 'radial-gradient') {\n            this._fillRadialGradient(shape);\n            return;\n        }\n        if (hasColor) {\n            this._fillColor(shape);\n        }\n        else if (hasPattern) {\n            this._fillPattern(shape);\n        }\n        else if (hasLinearGradient) {\n            this._fillLinearGradient(shape);\n        }\n        else if (hasRadialGradient) {\n            this._fillRadialGradient(shape);\n        }\n    }\n    _strokeLinearGradient(shape) {\n        const start = shape.getStrokeLinearGradientStartPoint(), end = shape.getStrokeLinearGradientEndPoint(), colorStops = shape.getStrokeLinearGradientColorStops(), grd = this.createLinearGradient(start.x, start.y, end.x, end.y);\n        if (colorStops) {\n            for (var n = 0; n < colorStops.length; n += 2) {\n                grd.addColorStop(colorStops[n], colorStops[n + 1]);\n            }\n            this.setAttr('strokeStyle', grd);\n        }\n    }\n    _stroke(shape) {\n        var dash = shape.dash(), strokeScaleEnabled = shape.getStrokeScaleEnabled();\n        if (shape.hasStroke()) {\n            if (!strokeScaleEnabled) {\n                this.save();\n                var pixelRatio = this.getCanvas().getPixelRatio();\n                this.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n            }\n            this._applyLineCap(shape);\n            if (dash && shape.dashEnabled()) {\n                this.setLineDash(dash);\n                this.setAttr('lineDashOffset', shape.dashOffset());\n            }\n            this.setAttr('lineWidth', shape.strokeWidth());\n            if (!shape.getShadowForStrokeEnabled()) {\n                this.setAttr('shadowColor', 'rgba(0,0,0,0)');\n            }\n            var hasLinearGradient = shape.getStrokeLinearGradientColorStops();\n            if (hasLinearGradient) {\n                this._strokeLinearGradient(shape);\n            }\n            else {\n                this.setAttr('strokeStyle', shape.stroke());\n            }\n            shape._strokeFunc(this);\n            if (!strokeScaleEnabled) {\n                this.restore();\n            }\n        }\n    }\n    _applyShadow(shape) {\n        var _a, _b, _c;\n        var color = (_a = shape.getShadowRGBA()) !== null && _a !== void 0 ? _a : 'black', blur = (_b = shape.getShadowBlur()) !== null && _b !== void 0 ? _b : 5, offset = (_c = shape.getShadowOffset()) !== null && _c !== void 0 ? _c : {\n            x: 0,\n            y: 0,\n        }, scale = shape.getAbsoluteScale(), ratio = this.canvas.getPixelRatio(), scaleX = scale.x * ratio, scaleY = scale.y * ratio;\n        this.setAttr('shadowColor', color);\n        this.setAttr('shadowBlur', blur * Math.min(Math.abs(scaleX), Math.abs(scaleY)));\n        this.setAttr('shadowOffsetX', offset.x * scaleX);\n        this.setAttr('shadowOffsetY', offset.y * scaleY);\n    }\n}\nexports.SceneContext = SceneContext;\nclass HitContext extends Context {\n    constructor(canvas) {\n        super(canvas);\n        this._context = canvas._canvas.getContext('2d', {\n            willReadFrequently: true,\n        });\n    }\n    _fill(shape) {\n        this.save();\n        this.setAttr('fillStyle', shape.colorKey);\n        shape._fillFuncHit(this);\n        this.restore();\n    }\n    strokeShape(shape) {\n        if (shape.hasHitStroke()) {\n            this._stroke(shape);\n        }\n    }\n    _stroke(shape) {\n        if (shape.hasHitStroke()) {\n            const strokeScaleEnabled = shape.getStrokeScaleEnabled();\n            if (!strokeScaleEnabled) {\n                this.save();\n                var pixelRatio = this.getCanvas().getPixelRatio();\n                this.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n            }\n            this._applyLineCap(shape);\n            var hitStrokeWidth = shape.hitStrokeWidth();\n            var strokeWidth = hitStrokeWidth === 'auto' ? shape.strokeWidth() : hitStrokeWidth;\n            this.setAttr('lineWidth', strokeWidth);\n            this.setAttr('strokeStyle', shape.colorKey);\n            shape._strokeFuncHit(this);\n            if (!strokeScaleEnabled) {\n                this.restore();\n            }\n        }\n    }\n}\nexports.HitContext = HitContext;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HitCanvas = exports.SceneCanvas = exports.Canvas = void 0;\nconst Util_1 = require(\"./Util\");\nconst Context_1 = require(\"./Context\");\nconst Global_1 = require(\"./Global\");\nconst Factory_1 = require(\"./Factory\");\nconst Validators_1 = require(\"./Validators\");\nvar _pixelRatio;\nfunction getDevicePixelRatio() {\n    if (_pixelRatio) {\n        return _pixelRatio;\n    }\n    var canvas = Util_1.Util.createCanvasElement();\n    var context = canvas.getContext('2d');\n    _pixelRatio = (function () {\n        var devicePixelRatio = Global_1.Konva._global.devicePixelRatio || 1, backingStoreRatio = context.webkitBackingStorePixelRatio ||\n            context.mozBackingStorePixelRatio ||\n            context.msBackingStorePixelRatio ||\n            context.oBackingStorePixelRatio ||\n            context.backingStorePixelRatio ||\n            1;\n        return devicePixelRatio / backingStoreRatio;\n    })();\n    Util_1.Util.releaseCanvas(canvas);\n    return _pixelRatio;\n}\nclass Canvas {\n    constructor(config) {\n        this.pixelRatio = 1;\n        this.width = 0;\n        this.height = 0;\n        this.isCache = false;\n        var conf = config || {};\n        var pixelRatio = conf.pixelRatio || Global_1.Konva.pixelRatio || getDevicePixelRatio();\n        this.pixelRatio = pixelRatio;\n        this._canvas = Util_1.Util.createCanvasElement();\n        this._canvas.style.padding = '0';\n        this._canvas.style.margin = '0';\n        this._canvas.style.border = '0';\n        this._canvas.style.background = 'transparent';\n        this._canvas.style.position = 'absolute';\n        this._canvas.style.top = '0';\n        this._canvas.style.left = '0';\n    }\n    getContext() {\n        return this.context;\n    }\n    getPixelRatio() {\n        return this.pixelRatio;\n    }\n    setPixelRatio(pixelRatio) {\n        var previousRatio = this.pixelRatio;\n        this.pixelRatio = pixelRatio;\n        this.setSize(this.getWidth() / previousRatio, this.getHeight() / previousRatio);\n    }\n    setWidth(width) {\n        this.width = this._canvas.width = width * this.pixelRatio;\n        this._canvas.style.width = width + 'px';\n        var pixelRatio = this.pixelRatio, _context = this.getContext()._context;\n        _context.scale(pixelRatio, pixelRatio);\n    }\n    setHeight(height) {\n        this.height = this._canvas.height = height * this.pixelRatio;\n        this._canvas.style.height = height + 'px';\n        var pixelRatio = this.pixelRatio, _context = this.getContext()._context;\n        _context.scale(pixelRatio, pixelRatio);\n    }\n    getWidth() {\n        return this.width;\n    }\n    getHeight() {\n        return this.height;\n    }\n    setSize(width, height) {\n        this.setWidth(width || 0);\n        this.setHeight(height || 0);\n    }\n    toDataURL(mimeType, quality) {\n        try {\n            return this._canvas.toDataURL(mimeType, quality);\n        }\n        catch (e) {\n            try {\n                return this._canvas.toDataURL();\n            }\n            catch (err) {\n                Util_1.Util.error('Unable to get data URL. ' +\n                    err.message +\n                    ' For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html.');\n                return '';\n            }\n        }\n    }\n}\nexports.Canvas = Canvas;\nFactory_1.Factory.addGetterSetter(Canvas, 'pixelRatio', undefined, (0, Validators_1.getNumberValidator)());\nclass SceneCanvas extends Canvas {\n    constructor(config = { width: 0, height: 0, willReadFrequently: false }) {\n        super(config);\n        this.context = new Context_1.SceneContext(this, {\n            willReadFrequently: config.willReadFrequently,\n        });\n        this.setSize(config.width, config.height);\n    }\n}\nexports.SceneCanvas = SceneCanvas;\nclass HitCanvas extends Canvas {\n    constructor(config = { width: 0, height: 0 }) {\n        super(config);\n        this.hitCanvas = true;\n        this.context = new Context_1.HitContext(this);\n        this.setSize(config.width, config.height);\n    }\n}\nexports.HitCanvas = HitCanvas;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DD = void 0;\nconst Global_1 = require(\"./Global\");\nconst Util_1 = require(\"./Util\");\nexports.DD = {\n    get isDragging() {\n        var flag = false;\n        exports.DD._dragElements.forEach((elem) => {\n            if (elem.dragStatus === 'dragging') {\n                flag = true;\n            }\n        });\n        return flag;\n    },\n    justDragged: false,\n    get node() {\n        var node;\n        exports.DD._dragElements.forEach((elem) => {\n            node = elem.node;\n        });\n        return node;\n    },\n    _dragElements: new Map(),\n    _drag(evt) {\n        const nodesToFireEvents = [];\n        exports.DD._dragElements.forEach((elem, key) => {\n            const { node } = elem;\n            const stage = node.getStage();\n            stage.setPointersPositions(evt);\n            if (elem.pointerId === undefined) {\n                elem.pointerId = Util_1.Util._getFirstPointerId(evt);\n            }\n            const pos = stage._changedPointerPositions.find((pos) => pos.id === elem.pointerId);\n            if (!pos) {\n                return;\n            }\n            if (elem.dragStatus !== 'dragging') {\n                var dragDistance = node.dragDistance();\n                var distance = Math.max(Math.abs(pos.x - elem.startPointerPos.x), Math.abs(pos.y - elem.startPointerPos.y));\n                if (distance < dragDistance) {\n                    return;\n                }\n                node.startDrag({ evt });\n                if (!node.isDragging()) {\n                    return;\n                }\n            }\n            node._setDragPosition(evt, elem);\n            nodesToFireEvents.push(node);\n        });\n        nodesToFireEvents.forEach((node) => {\n            node.fire('dragmove', {\n                type: 'dragmove',\n                target: node,\n                evt: evt,\n            }, true);\n        });\n    },\n    _endDragBefore(evt) {\n        const drawNodes = [];\n        exports.DD._dragElements.forEach((elem) => {\n            const { node } = elem;\n            const stage = node.getStage();\n            if (evt) {\n                stage.setPointersPositions(evt);\n            }\n            const pos = stage._changedPointerPositions.find((pos) => pos.id === elem.pointerId);\n            if (!pos) {\n                return;\n            }\n            if (elem.dragStatus === 'dragging' || elem.dragStatus === 'stopped') {\n                exports.DD.justDragged = true;\n                Global_1.Konva._mouseListenClick = false;\n                Global_1.Konva._touchListenClick = false;\n                Global_1.Konva._pointerListenClick = false;\n                elem.dragStatus = 'stopped';\n            }\n            const drawNode = elem.node.getLayer() ||\n                (elem.node instanceof Global_1.Konva['Stage'] && elem.node);\n            if (drawNode && drawNodes.indexOf(drawNode) === -1) {\n                drawNodes.push(drawNode);\n            }\n        });\n        drawNodes.forEach((drawNode) => {\n            drawNode.draw();\n        });\n    },\n    _endDragAfter(evt) {\n        exports.DD._dragElements.forEach((elem, key) => {\n            if (elem.dragStatus === 'stopped') {\n                elem.node.fire('dragend', {\n                    type: 'dragend',\n                    target: elem.node,\n                    evt: evt,\n                }, true);\n            }\n            if (elem.dragStatus !== 'dragging') {\n                exports.DD._dragElements.delete(key);\n            }\n        });\n    },\n};\nif (Global_1.Konva.isBrowser) {\n    window.addEventListener('mouseup', exports.DD._endDragBefore, true);\n    window.addEventListener('touchend', exports.DD._endDragBefore, true);\n    window.addEventListener('mousemove', exports.DD._drag);\n    window.addEventListener('touchmove', exports.DD._drag);\n    window.addEventListener('mouseup', exports.DD._endDragAfter, false);\n    window.addEventListener('touchend', exports.DD._endDragAfter, false);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Node = void 0;\nconst Util_1 = require(\"./Util\");\nconst Factory_1 = require(\"./Factory\");\nconst Canvas_1 = require(\"./Canvas\");\nconst Global_1 = require(\"./Global\");\nconst DragAndDrop_1 = require(\"./DragAndDrop\");\nconst Validators_1 = require(\"./Validators\");\nvar ABSOLUTE_OPACITY = 'absoluteOpacity', ALL_LISTENERS = 'allEventListeners', ABSOLUTE_TRANSFORM = 'absoluteTransform', ABSOLUTE_SCALE = 'absoluteScale', CANVAS = 'canvas', CHANGE = 'Change', CHILDREN = 'children', KONVA = 'konva', LISTENING = 'listening', MOUSEENTER = 'mouseenter', MOUSELEAVE = 'mouseleave', NAME = 'name', SET = 'set', SHAPE = 'Shape', SPACE = ' ', STAGE = 'stage', TRANSFORM = 'transform', UPPER_STAGE = 'Stage', VISIBLE = 'visible', TRANSFORM_CHANGE_STR = [\n    'xChange.konva',\n    'yChange.konva',\n    'scaleXChange.konva',\n    'scaleYChange.konva',\n    'skewXChange.konva',\n    'skewYChange.konva',\n    'rotationChange.konva',\n    'offsetXChange.konva',\n    'offsetYChange.konva',\n    'transformsEnabledChange.konva',\n].join(SPACE);\nlet idCounter = 1;\nclass Node {\n    constructor(config) {\n        this._id = idCounter++;\n        this.eventListeners = {};\n        this.attrs = {};\n        this.index = 0;\n        this._allEventListeners = null;\n        this.parent = null;\n        this._cache = new Map();\n        this._attachedDepsListeners = new Map();\n        this._lastPos = null;\n        this._batchingTransformChange = false;\n        this._needClearTransformCache = false;\n        this._filterUpToDate = false;\n        this._isUnderCache = false;\n        this._dragEventId = null;\n        this._shouldFireChangeEvents = false;\n        this.setAttrs(config);\n        this._shouldFireChangeEvents = true;\n    }\n    hasChildren() {\n        return false;\n    }\n    _clearCache(attr) {\n        if ((attr === TRANSFORM || attr === ABSOLUTE_TRANSFORM) &&\n            this._cache.get(attr)) {\n            this._cache.get(attr).dirty = true;\n        }\n        else if (attr) {\n            this._cache.delete(attr);\n        }\n        else {\n            this._cache.clear();\n        }\n    }\n    _getCache(attr, privateGetter) {\n        var cache = this._cache.get(attr);\n        var isTransform = attr === TRANSFORM || attr === ABSOLUTE_TRANSFORM;\n        var invalid = cache === undefined || (isTransform && cache.dirty === true);\n        if (invalid) {\n            cache = privateGetter.call(this);\n            this._cache.set(attr, cache);\n        }\n        return cache;\n    }\n    _calculate(name, deps, getter) {\n        if (!this._attachedDepsListeners.get(name)) {\n            const depsString = deps.map((dep) => dep + 'Change.konva').join(SPACE);\n            this.on(depsString, () => {\n                this._clearCache(name);\n            });\n            this._attachedDepsListeners.set(name, true);\n        }\n        return this._getCache(name, getter);\n    }\n    _getCanvasCache() {\n        return this._cache.get(CANVAS);\n    }\n    _clearSelfAndDescendantCache(attr) {\n        this._clearCache(attr);\n        if (attr === ABSOLUTE_TRANSFORM) {\n            this.fire('absoluteTransformChange');\n        }\n    }\n    clearCache() {\n        if (this._cache.has(CANVAS)) {\n            const { scene, filter, hit } = this._cache.get(CANVAS);\n            Util_1.Util.releaseCanvas(scene, filter, hit);\n            this._cache.delete(CANVAS);\n        }\n        this._clearSelfAndDescendantCache();\n        this._requestDraw();\n        return this;\n    }\n    cache(config) {\n        var conf = config || {};\n        var rect = {};\n        if (conf.x === undefined ||\n            conf.y === undefined ||\n            conf.width === undefined ||\n            conf.height === undefined) {\n            rect = this.getClientRect({\n                skipTransform: true,\n                relativeTo: this.getParent(),\n            });\n        }\n        var width = Math.ceil(conf.width || rect.width), height = Math.ceil(conf.height || rect.height), pixelRatio = conf.pixelRatio, x = conf.x === undefined ? Math.floor(rect.x) : conf.x, y = conf.y === undefined ? Math.floor(rect.y) : conf.y, offset = conf.offset || 0, drawBorder = conf.drawBorder || false, hitCanvasPixelRatio = conf.hitCanvasPixelRatio || 1;\n        if (!width || !height) {\n            Util_1.Util.error('Can not cache the node. Width or height of the node equals 0. Caching is skipped.');\n            return;\n        }\n        width += offset * 2 + 1;\n        height += offset * 2 + 1;\n        x -= offset;\n        y -= offset;\n        var cachedSceneCanvas = new Canvas_1.SceneCanvas({\n            pixelRatio: pixelRatio,\n            width: width,\n            height: height,\n        }), cachedFilterCanvas = new Canvas_1.SceneCanvas({\n            pixelRatio: pixelRatio,\n            width: 0,\n            height: 0,\n            willReadFrequently: true,\n        }), cachedHitCanvas = new Canvas_1.HitCanvas({\n            pixelRatio: hitCanvasPixelRatio,\n            width: width,\n            height: height,\n        }), sceneContext = cachedSceneCanvas.getContext(), hitContext = cachedHitCanvas.getContext();\n        cachedHitCanvas.isCache = true;\n        cachedSceneCanvas.isCache = true;\n        this._cache.delete(CANVAS);\n        this._filterUpToDate = false;\n        if (conf.imageSmoothingEnabled === false) {\n            cachedSceneCanvas.getContext()._context.imageSmoothingEnabled = false;\n            cachedFilterCanvas.getContext()._context.imageSmoothingEnabled = false;\n        }\n        sceneContext.save();\n        hitContext.save();\n        sceneContext.translate(-x, -y);\n        hitContext.translate(-x, -y);\n        this._isUnderCache = true;\n        this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n        this._clearSelfAndDescendantCache(ABSOLUTE_SCALE);\n        this.drawScene(cachedSceneCanvas, this);\n        this.drawHit(cachedHitCanvas, this);\n        this._isUnderCache = false;\n        sceneContext.restore();\n        hitContext.restore();\n        if (drawBorder) {\n            sceneContext.save();\n            sceneContext.beginPath();\n            sceneContext.rect(0, 0, width, height);\n            sceneContext.closePath();\n            sceneContext.setAttr('strokeStyle', 'red');\n            sceneContext.setAttr('lineWidth', 5);\n            sceneContext.stroke();\n            sceneContext.restore();\n        }\n        this._cache.set(CANVAS, {\n            scene: cachedSceneCanvas,\n            filter: cachedFilterCanvas,\n            hit: cachedHitCanvas,\n            x: x,\n            y: y,\n        });\n        this._requestDraw();\n        return this;\n    }\n    isCached() {\n        return this._cache.has(CANVAS);\n    }\n    getClientRect(config) {\n        throw new Error('abstract \"getClientRect\" method call');\n    }\n    _transformedRect(rect, top) {\n        var points = [\n            { x: rect.x, y: rect.y },\n            { x: rect.x + rect.width, y: rect.y },\n            { x: rect.x + rect.width, y: rect.y + rect.height },\n            { x: rect.x, y: rect.y + rect.height },\n        ];\n        var minX, minY, maxX, maxY;\n        var trans = this.getAbsoluteTransform(top);\n        points.forEach(function (point) {\n            var transformed = trans.point(point);\n            if (minX === undefined) {\n                minX = maxX = transformed.x;\n                minY = maxY = transformed.y;\n            }\n            minX = Math.min(minX, transformed.x);\n            minY = Math.min(minY, transformed.y);\n            maxX = Math.max(maxX, transformed.x);\n            maxY = Math.max(maxY, transformed.y);\n        });\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n    _drawCachedSceneCanvas(context) {\n        context.save();\n        context._applyOpacity(this);\n        context._applyGlobalCompositeOperation(this);\n        const canvasCache = this._getCanvasCache();\n        context.translate(canvasCache.x, canvasCache.y);\n        var cacheCanvas = this._getCachedSceneCanvas();\n        var ratio = cacheCanvas.pixelRatio;\n        context.drawImage(cacheCanvas._canvas, 0, 0, cacheCanvas.width / ratio, cacheCanvas.height / ratio);\n        context.restore();\n    }\n    _drawCachedHitCanvas(context) {\n        var canvasCache = this._getCanvasCache(), hitCanvas = canvasCache.hit;\n        context.save();\n        context.translate(canvasCache.x, canvasCache.y);\n        context.drawImage(hitCanvas._canvas, 0, 0, hitCanvas.width / hitCanvas.pixelRatio, hitCanvas.height / hitCanvas.pixelRatio);\n        context.restore();\n    }\n    _getCachedSceneCanvas() {\n        var filters = this.filters(), cachedCanvas = this._getCanvasCache(), sceneCanvas = cachedCanvas.scene, filterCanvas = cachedCanvas.filter, filterContext = filterCanvas.getContext(), len, imageData, n, filter;\n        if (filters) {\n            if (!this._filterUpToDate) {\n                var ratio = sceneCanvas.pixelRatio;\n                filterCanvas.setSize(sceneCanvas.width / sceneCanvas.pixelRatio, sceneCanvas.height / sceneCanvas.pixelRatio);\n                try {\n                    len = filters.length;\n                    filterContext.clear();\n                    filterContext.drawImage(sceneCanvas._canvas, 0, 0, sceneCanvas.getWidth() / ratio, sceneCanvas.getHeight() / ratio);\n                    imageData = filterContext.getImageData(0, 0, filterCanvas.getWidth(), filterCanvas.getHeight());\n                    for (n = 0; n < len; n++) {\n                        filter = filters[n];\n                        if (typeof filter !== 'function') {\n                            Util_1.Util.error('Filter should be type of function, but got ' +\n                                typeof filter +\n                                ' instead. Please check correct filters');\n                            continue;\n                        }\n                        filter.call(this, imageData);\n                        filterContext.putImageData(imageData, 0, 0);\n                    }\n                }\n                catch (e) {\n                    Util_1.Util.error('Unable to apply filter. ' +\n                        e.message +\n                        ' This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.');\n                }\n                this._filterUpToDate = true;\n            }\n            return filterCanvas;\n        }\n        return sceneCanvas;\n    }\n    on(evtStr, handler) {\n        this._cache && this._cache.delete(ALL_LISTENERS);\n        if (arguments.length === 3) {\n            return this._delegate.apply(this, arguments);\n        }\n        var events = evtStr.split(SPACE), len = events.length, n, event, parts, baseEvent, name;\n        for (n = 0; n < len; n++) {\n            event = events[n];\n            parts = event.split('.');\n            baseEvent = parts[0];\n            name = parts[1] || '';\n            if (!this.eventListeners[baseEvent]) {\n                this.eventListeners[baseEvent] = [];\n            }\n            this.eventListeners[baseEvent].push({\n                name: name,\n                handler: handler,\n            });\n        }\n        return this;\n    }\n    off(evtStr, callback) {\n        var events = (evtStr || '').split(SPACE), len = events.length, n, t, event, parts, baseEvent, name;\n        this._cache && this._cache.delete(ALL_LISTENERS);\n        if (!evtStr) {\n            for (t in this.eventListeners) {\n                this._off(t);\n            }\n        }\n        for (n = 0; n < len; n++) {\n            event = events[n];\n            parts = event.split('.');\n            baseEvent = parts[0];\n            name = parts[1];\n            if (baseEvent) {\n                if (this.eventListeners[baseEvent]) {\n                    this._off(baseEvent, name, callback);\n                }\n            }\n            else {\n                for (t in this.eventListeners) {\n                    this._off(t, name, callback);\n                }\n            }\n        }\n        return this;\n    }\n    dispatchEvent(evt) {\n        var e = {\n            target: this,\n            type: evt.type,\n            evt: evt,\n        };\n        this.fire(evt.type, e);\n        return this;\n    }\n    addEventListener(type, handler) {\n        this.on(type, function (evt) {\n            handler.call(this, evt.evt);\n        });\n        return this;\n    }\n    removeEventListener(type) {\n        this.off(type);\n        return this;\n    }\n    _delegate(event, selector, handler) {\n        var stopNode = this;\n        this.on(event, function (evt) {\n            var targets = evt.target.findAncestors(selector, true, stopNode);\n            for (var i = 0; i < targets.length; i++) {\n                evt = Util_1.Util.cloneObject(evt);\n                evt.currentTarget = targets[i];\n                handler.call(targets[i], evt);\n            }\n        });\n    }\n    remove() {\n        if (this.isDragging()) {\n            this.stopDrag();\n        }\n        DragAndDrop_1.DD._dragElements.delete(this._id);\n        this._remove();\n        return this;\n    }\n    _clearCaches() {\n        this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n        this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n        this._clearSelfAndDescendantCache(ABSOLUTE_SCALE);\n        this._clearSelfAndDescendantCache(STAGE);\n        this._clearSelfAndDescendantCache(VISIBLE);\n        this._clearSelfAndDescendantCache(LISTENING);\n    }\n    _remove() {\n        this._clearCaches();\n        var parent = this.getParent();\n        if (parent && parent.children) {\n            parent.children.splice(this.index, 1);\n            parent._setChildrenIndices();\n            this.parent = null;\n        }\n    }\n    destroy() {\n        this.remove();\n        this.clearCache();\n        return this;\n    }\n    getAttr(attr) {\n        var method = 'get' + Util_1.Util._capitalize(attr);\n        if (Util_1.Util._isFunction(this[method])) {\n            return this[method]();\n        }\n        return this.attrs[attr];\n    }\n    getAncestors() {\n        var parent = this.getParent(), ancestors = [];\n        while (parent) {\n            ancestors.push(parent);\n            parent = parent.getParent();\n        }\n        return ancestors;\n    }\n    getAttrs() {\n        return this.attrs || {};\n    }\n    setAttrs(config) {\n        this._batchTransformChanges(() => {\n            var key, method;\n            if (!config) {\n                return this;\n            }\n            for (key in config) {\n                if (key === CHILDREN) {\n                    continue;\n                }\n                method = SET + Util_1.Util._capitalize(key);\n                if (Util_1.Util._isFunction(this[method])) {\n                    this[method](config[key]);\n                }\n                else {\n                    this._setAttr(key, config[key]);\n                }\n            }\n        });\n        return this;\n    }\n    isListening() {\n        return this._getCache(LISTENING, this._isListening);\n    }\n    _isListening(relativeTo) {\n        const listening = this.listening();\n        if (!listening) {\n            return false;\n        }\n        const parent = this.getParent();\n        if (parent && parent !== relativeTo && this !== relativeTo) {\n            return parent._isListening(relativeTo);\n        }\n        else {\n            return true;\n        }\n    }\n    isVisible() {\n        return this._getCache(VISIBLE, this._isVisible);\n    }\n    _isVisible(relativeTo) {\n        const visible = this.visible();\n        if (!visible) {\n            return false;\n        }\n        const parent = this.getParent();\n        if (parent && parent !== relativeTo && this !== relativeTo) {\n            return parent._isVisible(relativeTo);\n        }\n        else {\n            return true;\n        }\n    }\n    shouldDrawHit(top, skipDragCheck = false) {\n        if (top) {\n            return this._isVisible(top) && this._isListening(top);\n        }\n        var layer = this.getLayer();\n        var layerUnderDrag = false;\n        DragAndDrop_1.DD._dragElements.forEach((elem) => {\n            if (elem.dragStatus !== 'dragging') {\n                return;\n            }\n            else if (elem.node.nodeType === 'Stage') {\n                layerUnderDrag = true;\n            }\n            else if (elem.node.getLayer() === layer) {\n                layerUnderDrag = true;\n            }\n        });\n        var dragSkip = !skipDragCheck && !Global_1.Konva.hitOnDragEnabled && layerUnderDrag;\n        return this.isListening() && this.isVisible() && !dragSkip;\n    }\n    show() {\n        this.visible(true);\n        return this;\n    }\n    hide() {\n        this.visible(false);\n        return this;\n    }\n    getZIndex() {\n        return this.index || 0;\n    }\n    getAbsoluteZIndex() {\n        var depth = this.getDepth(), that = this, index = 0, nodes, len, n, child;\n        function addChildren(children) {\n            nodes = [];\n            len = children.length;\n            for (n = 0; n < len; n++) {\n                child = children[n];\n                index++;\n                if (child.nodeType !== SHAPE) {\n                    nodes = nodes.concat(child.getChildren().slice());\n                }\n                if (child._id === that._id) {\n                    n = len;\n                }\n            }\n            if (nodes.length > 0 && nodes[0].getDepth() <= depth) {\n                addChildren(nodes);\n            }\n        }\n        if (that.nodeType !== UPPER_STAGE) {\n            addChildren(that.getStage().getChildren());\n        }\n        return index;\n    }\n    getDepth() {\n        var depth = 0, parent = this.parent;\n        while (parent) {\n            depth++;\n            parent = parent.parent;\n        }\n        return depth;\n    }\n    _batchTransformChanges(func) {\n        this._batchingTransformChange = true;\n        func();\n        this._batchingTransformChange = false;\n        if (this._needClearTransformCache) {\n            this._clearCache(TRANSFORM);\n            this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n        }\n        this._needClearTransformCache = false;\n    }\n    setPosition(pos) {\n        this._batchTransformChanges(() => {\n            this.x(pos.x);\n            this.y(pos.y);\n        });\n        return this;\n    }\n    getPosition() {\n        return {\n            x: this.x(),\n            y: this.y(),\n        };\n    }\n    getRelativePointerPosition() {\n        if (!this.getStage()) {\n            return null;\n        }\n        var pos = this.getStage().getPointerPosition();\n        if (!pos) {\n            return null;\n        }\n        var transform = this.getAbsoluteTransform().copy();\n        transform.invert();\n        return transform.point(pos);\n    }\n    getAbsolutePosition(top) {\n        let haveCachedParent = false;\n        let parent = this.parent;\n        while (parent) {\n            if (parent.isCached()) {\n                haveCachedParent = true;\n                break;\n            }\n            parent = parent.parent;\n        }\n        if (haveCachedParent && !top) {\n            top = true;\n        }\n        var absoluteMatrix = this.getAbsoluteTransform(top).getMatrix(), absoluteTransform = new Util_1.Transform(), offset = this.offset();\n        absoluteTransform.m = absoluteMatrix.slice();\n        absoluteTransform.translate(offset.x, offset.y);\n        return absoluteTransform.getTranslation();\n    }\n    setAbsolutePosition(pos) {\n        var origTrans = this._clearTransform();\n        this.attrs.x = origTrans.x;\n        this.attrs.y = origTrans.y;\n        delete origTrans.x;\n        delete origTrans.y;\n        this._clearCache(TRANSFORM);\n        var it = this._getAbsoluteTransform().copy();\n        it.invert();\n        it.translate(pos.x, pos.y);\n        pos = {\n            x: this.attrs.x + it.getTranslation().x,\n            y: this.attrs.y + it.getTranslation().y,\n        };\n        this._setTransform(origTrans);\n        this.setPosition({ x: pos.x, y: pos.y });\n        this._clearCache(TRANSFORM);\n        this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n        return this;\n    }\n    _setTransform(trans) {\n        var key;\n        for (key in trans) {\n            this.attrs[key] = trans[key];\n        }\n    }\n    _clearTransform() {\n        var trans = {\n            x: this.x(),\n            y: this.y(),\n            rotation: this.rotation(),\n            scaleX: this.scaleX(),\n            scaleY: this.scaleY(),\n            offsetX: this.offsetX(),\n            offsetY: this.offsetY(),\n            skewX: this.skewX(),\n            skewY: this.skewY(),\n        };\n        this.attrs.x = 0;\n        this.attrs.y = 0;\n        this.attrs.rotation = 0;\n        this.attrs.scaleX = 1;\n        this.attrs.scaleY = 1;\n        this.attrs.offsetX = 0;\n        this.attrs.offsetY = 0;\n        this.attrs.skewX = 0;\n        this.attrs.skewY = 0;\n        return trans;\n    }\n    move(change) {\n        var changeX = change.x, changeY = change.y, x = this.x(), y = this.y();\n        if (changeX !== undefined) {\n            x += changeX;\n        }\n        if (changeY !== undefined) {\n            y += changeY;\n        }\n        this.setPosition({ x: x, y: y });\n        return this;\n    }\n    _eachAncestorReverse(func, top) {\n        var family = [], parent = this.getParent(), len, n;\n        if (top && top._id === this._id) {\n            return;\n        }\n        family.unshift(this);\n        while (parent && (!top || parent._id !== top._id)) {\n            family.unshift(parent);\n            parent = parent.parent;\n        }\n        len = family.length;\n        for (n = 0; n < len; n++) {\n            func(family[n]);\n        }\n    }\n    rotate(theta) {\n        this.rotation(this.rotation() + theta);\n        return this;\n    }\n    moveToTop() {\n        if (!this.parent) {\n            Util_1.Util.warn('Node has no parent. moveToTop function is ignored.');\n            return false;\n        }\n        var index = this.index, len = this.parent.getChildren().length;\n        if (index < len - 1) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.push(this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    moveUp() {\n        if (!this.parent) {\n            Util_1.Util.warn('Node has no parent. moveUp function is ignored.');\n            return false;\n        }\n        var index = this.index, len = this.parent.getChildren().length;\n        if (index < len - 1) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.splice(index + 1, 0, this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    moveDown() {\n        if (!this.parent) {\n            Util_1.Util.warn('Node has no parent. moveDown function is ignored.');\n            return false;\n        }\n        var index = this.index;\n        if (index > 0) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.splice(index - 1, 0, this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    moveToBottom() {\n        if (!this.parent) {\n            Util_1.Util.warn('Node has no parent. moveToBottom function is ignored.');\n            return false;\n        }\n        var index = this.index;\n        if (index > 0) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.unshift(this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    setZIndex(zIndex) {\n        if (!this.parent) {\n            Util_1.Util.warn('Node has no parent. zIndex parameter is ignored.');\n            return this;\n        }\n        if (zIndex < 0 || zIndex >= this.parent.children.length) {\n            Util_1.Util.warn('Unexpected value ' +\n                zIndex +\n                ' for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to ' +\n                (this.parent.children.length - 1) +\n                '.');\n        }\n        var index = this.index;\n        this.parent.children.splice(index, 1);\n        this.parent.children.splice(zIndex, 0, this);\n        this.parent._setChildrenIndices();\n        return this;\n    }\n    getAbsoluteOpacity() {\n        return this._getCache(ABSOLUTE_OPACITY, this._getAbsoluteOpacity);\n    }\n    _getAbsoluteOpacity() {\n        var absOpacity = this.opacity();\n        var parent = this.getParent();\n        if (parent && !parent._isUnderCache) {\n            absOpacity *= parent.getAbsoluteOpacity();\n        }\n        return absOpacity;\n    }\n    moveTo(newContainer) {\n        if (this.getParent() !== newContainer) {\n            this._remove();\n            newContainer.add(this);\n        }\n        return this;\n    }\n    toObject() {\n        var obj = {}, attrs = this.getAttrs(), key, val, getter, defaultValue, nonPlainObject;\n        obj.attrs = {};\n        for (key in attrs) {\n            val = attrs[key];\n            nonPlainObject =\n                Util_1.Util.isObject(val) && !Util_1.Util._isPlainObject(val) && !Util_1.Util._isArray(val);\n            if (nonPlainObject) {\n                continue;\n            }\n            getter = typeof this[key] === 'function' && this[key];\n            delete attrs[key];\n            defaultValue = getter ? getter.call(this) : null;\n            attrs[key] = val;\n            if (defaultValue !== val) {\n                obj.attrs[key] = val;\n            }\n        }\n        obj.className = this.getClassName();\n        return Util_1.Util._prepareToStringify(obj);\n    }\n    toJSON() {\n        return JSON.stringify(this.toObject());\n    }\n    getParent() {\n        return this.parent;\n    }\n    findAncestors(selector, includeSelf, stopNode) {\n        var res = [];\n        if (includeSelf && this._isMatch(selector)) {\n            res.push(this);\n        }\n        var ancestor = this.parent;\n        while (ancestor) {\n            if (ancestor === stopNode) {\n                return res;\n            }\n            if (ancestor._isMatch(selector)) {\n                res.push(ancestor);\n            }\n            ancestor = ancestor.parent;\n        }\n        return res;\n    }\n    isAncestorOf(node) {\n        return false;\n    }\n    findAncestor(selector, includeSelf, stopNode) {\n        return this.findAncestors(selector, includeSelf, stopNode)[0];\n    }\n    _isMatch(selector) {\n        if (!selector) {\n            return false;\n        }\n        if (typeof selector === 'function') {\n            return selector(this);\n        }\n        var selectorArr = selector.replace(/ /g, '').split(','), len = selectorArr.length, n, sel;\n        for (n = 0; n < len; n++) {\n            sel = selectorArr[n];\n            if (!Util_1.Util.isValidSelector(sel)) {\n                Util_1.Util.warn('Selector \"' +\n                    sel +\n                    '\" is invalid. Allowed selectors examples are \"#foo\", \".bar\" or \"Group\".');\n                Util_1.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like \"Triangle\".');\n                Util_1.Util.warn('Konva is awesome, right?');\n            }\n            if (sel.charAt(0) === '#') {\n                if (this.id() === sel.slice(1)) {\n                    return true;\n                }\n            }\n            else if (sel.charAt(0) === '.') {\n                if (this.hasName(sel.slice(1))) {\n                    return true;\n                }\n            }\n            else if (this.className === sel || this.nodeType === sel) {\n                return true;\n            }\n        }\n        return false;\n    }\n    getLayer() {\n        var parent = this.getParent();\n        return parent ? parent.getLayer() : null;\n    }\n    getStage() {\n        return this._getCache(STAGE, this._getStage);\n    }\n    _getStage() {\n        var parent = this.getParent();\n        if (parent) {\n            return parent.getStage();\n        }\n        else {\n            return undefined;\n        }\n    }\n    fire(eventType, evt = {}, bubble) {\n        evt.target = evt.target || this;\n        if (bubble) {\n            this._fireAndBubble(eventType, evt);\n        }\n        else {\n            this._fire(eventType, evt);\n        }\n        return this;\n    }\n    getAbsoluteTransform(top) {\n        if (top) {\n            return this._getAbsoluteTransform(top);\n        }\n        else {\n            return this._getCache(ABSOLUTE_TRANSFORM, this._getAbsoluteTransform);\n        }\n    }\n    _getAbsoluteTransform(top) {\n        var at;\n        if (top) {\n            at = new Util_1.Transform();\n            this._eachAncestorReverse(function (node) {\n                var transformsEnabled = node.transformsEnabled();\n                if (transformsEnabled === 'all') {\n                    at.multiply(node.getTransform());\n                }\n                else if (transformsEnabled === 'position') {\n                    at.translate(node.x() - node.offsetX(), node.y() - node.offsetY());\n                }\n            }, top);\n            return at;\n        }\n        else {\n            at = this._cache.get(ABSOLUTE_TRANSFORM) || new Util_1.Transform();\n            if (this.parent) {\n                this.parent.getAbsoluteTransform().copyInto(at);\n            }\n            else {\n                at.reset();\n            }\n            var transformsEnabled = this.transformsEnabled();\n            if (transformsEnabled === 'all') {\n                at.multiply(this.getTransform());\n            }\n            else if (transformsEnabled === 'position') {\n                const x = this.attrs.x || 0;\n                const y = this.attrs.y || 0;\n                const offsetX = this.attrs.offsetX || 0;\n                const offsetY = this.attrs.offsetY || 0;\n                at.translate(x - offsetX, y - offsetY);\n            }\n            at.dirty = false;\n            return at;\n        }\n    }\n    getAbsoluteScale(top) {\n        var parent = this;\n        while (parent) {\n            if (parent._isUnderCache) {\n                top = parent;\n            }\n            parent = parent.getParent();\n        }\n        const transform = this.getAbsoluteTransform(top);\n        const attrs = transform.decompose();\n        return {\n            x: attrs.scaleX,\n            y: attrs.scaleY,\n        };\n    }\n    getAbsoluteRotation() {\n        return this.getAbsoluteTransform().decompose().rotation;\n    }\n    getTransform() {\n        return this._getCache(TRANSFORM, this._getTransform);\n    }\n    _getTransform() {\n        var _a, _b;\n        var m = this._cache.get(TRANSFORM) || new Util_1.Transform();\n        m.reset();\n        var x = this.x(), y = this.y(), rotation = Global_1.Konva.getAngle(this.rotation()), scaleX = (_a = this.attrs.scaleX) !== null && _a !== void 0 ? _a : 1, scaleY = (_b = this.attrs.scaleY) !== null && _b !== void 0 ? _b : 1, skewX = this.attrs.skewX || 0, skewY = this.attrs.skewY || 0, offsetX = this.attrs.offsetX || 0, offsetY = this.attrs.offsetY || 0;\n        if (x !== 0 || y !== 0) {\n            m.translate(x, y);\n        }\n        if (rotation !== 0) {\n            m.rotate(rotation);\n        }\n        if (skewX !== 0 || skewY !== 0) {\n            m.skew(skewX, skewY);\n        }\n        if (scaleX !== 1 || scaleY !== 1) {\n            m.scale(scaleX, scaleY);\n        }\n        if (offsetX !== 0 || offsetY !== 0) {\n            m.translate(-1 * offsetX, -1 * offsetY);\n        }\n        m.dirty = false;\n        return m;\n    }\n    clone(obj) {\n        var attrs = Util_1.Util.cloneObject(this.attrs), key, allListeners, len, n, listener;\n        for (key in obj) {\n            attrs[key] = obj[key];\n        }\n        var node = new this.constructor(attrs);\n        for (key in this.eventListeners) {\n            allListeners = this.eventListeners[key];\n            len = allListeners.length;\n            for (n = 0; n < len; n++) {\n                listener = allListeners[n];\n                if (listener.name.indexOf(KONVA) < 0) {\n                    if (!node.eventListeners[key]) {\n                        node.eventListeners[key] = [];\n                    }\n                    node.eventListeners[key].push(listener);\n                }\n            }\n        }\n        return node;\n    }\n    _toKonvaCanvas(config) {\n        config = config || {};\n        var box = this.getClientRect();\n        var stage = this.getStage(), x = config.x !== undefined ? config.x : Math.floor(box.x), y = config.y !== undefined ? config.y : Math.floor(box.y), pixelRatio = config.pixelRatio || 1, canvas = new Canvas_1.SceneCanvas({\n            width: config.width || Math.ceil(box.width) || (stage ? stage.width() : 0),\n            height: config.height ||\n                Math.ceil(box.height) ||\n                (stage ? stage.height() : 0),\n            pixelRatio: pixelRatio,\n        }), context = canvas.getContext();\n        if (config.imageSmoothingEnabled === false) {\n            context._context.imageSmoothingEnabled = false;\n        }\n        context.save();\n        if (x || y) {\n            context.translate(-1 * x, -1 * y);\n        }\n        this.drawScene(canvas);\n        context.restore();\n        return canvas;\n    }\n    toCanvas(config) {\n        return this._toKonvaCanvas(config)._canvas;\n    }\n    toDataURL(config) {\n        config = config || {};\n        var mimeType = config.mimeType || null, quality = config.quality || null;\n        var url = this._toKonvaCanvas(config).toDataURL(mimeType, quality);\n        if (config.callback) {\n            config.callback(url);\n        }\n        return url;\n    }\n    toImage(config) {\n        return new Promise((resolve, reject) => {\n            try {\n                const callback = config === null || config === void 0 ? void 0 : config.callback;\n                if (callback)\n                    delete config.callback;\n                Util_1.Util._urlToImage(this.toDataURL(config), function (img) {\n                    resolve(img);\n                    callback === null || callback === void 0 ? void 0 : callback(img);\n                });\n            }\n            catch (err) {\n                reject(err);\n            }\n        });\n    }\n    toBlob(config) {\n        return new Promise((resolve, reject) => {\n            try {\n                const callback = config === null || config === void 0 ? void 0 : config.callback;\n                if (callback)\n                    delete config.callback;\n                this.toCanvas(config).toBlob((blob) => {\n                    resolve(blob);\n                    callback === null || callback === void 0 ? void 0 : callback(blob);\n                });\n            }\n            catch (err) {\n                reject(err);\n            }\n        });\n    }\n    setSize(size) {\n        this.width(size.width);\n        this.height(size.height);\n        return this;\n    }\n    getSize() {\n        return {\n            width: this.width(),\n            height: this.height(),\n        };\n    }\n    getClassName() {\n        return this.className || this.nodeType;\n    }\n    getType() {\n        return this.nodeType;\n    }\n    getDragDistance() {\n        if (this.attrs.dragDistance !== undefined) {\n            return this.attrs.dragDistance;\n        }\n        else if (this.parent) {\n            return this.parent.getDragDistance();\n        }\n        else {\n            return Global_1.Konva.dragDistance;\n        }\n    }\n    _off(type, name, callback) {\n        var evtListeners = this.eventListeners[type], i, evtName, handler;\n        for (i = 0; i < evtListeners.length; i++) {\n            evtName = evtListeners[i].name;\n            handler = evtListeners[i].handler;\n            if ((evtName !== 'konva' || name === 'konva') &&\n                (!name || evtName === name) &&\n                (!callback || callback === handler)) {\n                evtListeners.splice(i, 1);\n                if (evtListeners.length === 0) {\n                    delete this.eventListeners[type];\n                    break;\n                }\n                i--;\n            }\n        }\n    }\n    _fireChangeEvent(attr, oldVal, newVal) {\n        this._fire(attr + CHANGE, {\n            oldVal: oldVal,\n            newVal: newVal,\n        });\n    }\n    addName(name) {\n        if (!this.hasName(name)) {\n            var oldName = this.name();\n            var newName = oldName ? oldName + ' ' + name : name;\n            this.name(newName);\n        }\n        return this;\n    }\n    hasName(name) {\n        if (!name) {\n            return false;\n        }\n        const fullName = this.name();\n        if (!fullName) {\n            return false;\n        }\n        var names = (fullName || '').split(/\\s/g);\n        return names.indexOf(name) !== -1;\n    }\n    removeName(name) {\n        var names = (this.name() || '').split(/\\s/g);\n        var index = names.indexOf(name);\n        if (index !== -1) {\n            names.splice(index, 1);\n            this.name(names.join(' '));\n        }\n        return this;\n    }\n    setAttr(attr, val) {\n        var func = this[SET + Util_1.Util._capitalize(attr)];\n        if (Util_1.Util._isFunction(func)) {\n            func.call(this, val);\n        }\n        else {\n            this._setAttr(attr, val);\n        }\n        return this;\n    }\n    _requestDraw() {\n        if (Global_1.Konva.autoDrawEnabled) {\n            const drawNode = this.getLayer() || this.getStage();\n            drawNode === null || drawNode === void 0 ? void 0 : drawNode.batchDraw();\n        }\n    }\n    _setAttr(key, val) {\n        var oldVal = this.attrs[key];\n        if (oldVal === val && !Util_1.Util.isObject(val)) {\n            return;\n        }\n        if (val === undefined || val === null) {\n            delete this.attrs[key];\n        }\n        else {\n            this.attrs[key] = val;\n        }\n        if (this._shouldFireChangeEvents) {\n            this._fireChangeEvent(key, oldVal, val);\n        }\n        this._requestDraw();\n    }\n    _setComponentAttr(key, component, val) {\n        var oldVal;\n        if (val !== undefined) {\n            oldVal = this.attrs[key];\n            if (!oldVal) {\n                this.attrs[key] = this.getAttr(key);\n            }\n            this.attrs[key][component] = val;\n            this._fireChangeEvent(key, oldVal, val);\n        }\n    }\n    _fireAndBubble(eventType, evt, compareShape) {\n        if (evt && this.nodeType === SHAPE) {\n            evt.target = this;\n        }\n        var shouldStop = (eventType === MOUSEENTER || eventType === MOUSELEAVE) &&\n            ((compareShape &&\n                (this === compareShape ||\n                    (this.isAncestorOf && this.isAncestorOf(compareShape)))) ||\n                (this.nodeType === 'Stage' && !compareShape));\n        if (!shouldStop) {\n            this._fire(eventType, evt);\n            var stopBubble = (eventType === MOUSEENTER || eventType === MOUSELEAVE) &&\n                compareShape &&\n                compareShape.isAncestorOf &&\n                compareShape.isAncestorOf(this) &&\n                !compareShape.isAncestorOf(this.parent);\n            if (((evt && !evt.cancelBubble) || !evt) &&\n                this.parent &&\n                this.parent.isListening() &&\n                !stopBubble) {\n                if (compareShape && compareShape.parent) {\n                    this._fireAndBubble.call(this.parent, eventType, evt, compareShape);\n                }\n                else {\n                    this._fireAndBubble.call(this.parent, eventType, evt);\n                }\n            }\n        }\n    }\n    _getProtoListeners(eventType) {\n        var _a, _b, _c;\n        const allListeners = (_a = this._cache.get(ALL_LISTENERS)) !== null && _a !== void 0 ? _a : {};\n        let events = allListeners === null || allListeners === void 0 ? void 0 : allListeners[eventType];\n        if (events === undefined) {\n            events = [];\n            let obj = Object.getPrototypeOf(this);\n            while (obj) {\n                const hierarchyEvents = (_c = (_b = obj.eventListeners) === null || _b === void 0 ? void 0 : _b[eventType]) !== null && _c !== void 0 ? _c : [];\n                events.push(...hierarchyEvents);\n                obj = Object.getPrototypeOf(obj);\n            }\n            allListeners[eventType] = events;\n            this._cache.set(ALL_LISTENERS, allListeners);\n        }\n        return events;\n    }\n    _fire(eventType, evt) {\n        evt = evt || {};\n        evt.currentTarget = this;\n        evt.type = eventType;\n        const topListeners = this._getProtoListeners(eventType);\n        if (topListeners) {\n            for (var i = 0; i < topListeners.length; i++) {\n                topListeners[i].handler.call(this, evt);\n            }\n        }\n        const selfListeners = this.eventListeners[eventType];\n        if (selfListeners) {\n            for (var i = 0; i < selfListeners.length; i++) {\n                selfListeners[i].handler.call(this, evt);\n            }\n        }\n    }\n    draw() {\n        this.drawScene();\n        this.drawHit();\n        return this;\n    }\n    _createDragElement(evt) {\n        var pointerId = evt ? evt.pointerId : undefined;\n        var stage = this.getStage();\n        var ap = this.getAbsolutePosition();\n        var pos = stage._getPointerById(pointerId) ||\n            stage._changedPointerPositions[0] ||\n            ap;\n        DragAndDrop_1.DD._dragElements.set(this._id, {\n            node: this,\n            startPointerPos: pos,\n            offset: {\n                x: pos.x - ap.x,\n                y: pos.y - ap.y,\n            },\n            dragStatus: 'ready',\n            pointerId,\n        });\n    }\n    startDrag(evt, bubbleEvent = true) {\n        if (!DragAndDrop_1.DD._dragElements.has(this._id)) {\n            this._createDragElement(evt);\n        }\n        const elem = DragAndDrop_1.DD._dragElements.get(this._id);\n        elem.dragStatus = 'dragging';\n        this.fire('dragstart', {\n            type: 'dragstart',\n            target: this,\n            evt: evt && evt.evt,\n        }, bubbleEvent);\n    }\n    _setDragPosition(evt, elem) {\n        const pos = this.getStage()._getPointerById(elem.pointerId);\n        if (!pos) {\n            return;\n        }\n        var newNodePos = {\n            x: pos.x - elem.offset.x,\n            y: pos.y - elem.offset.y,\n        };\n        var dbf = this.dragBoundFunc();\n        if (dbf !== undefined) {\n            const bounded = dbf.call(this, newNodePos, evt);\n            if (!bounded) {\n                Util_1.Util.warn('dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.');\n            }\n            else {\n                newNodePos = bounded;\n            }\n        }\n        if (!this._lastPos ||\n            this._lastPos.x !== newNodePos.x ||\n            this._lastPos.y !== newNodePos.y) {\n            this.setAbsolutePosition(newNodePos);\n            this._requestDraw();\n        }\n        this._lastPos = newNodePos;\n    }\n    stopDrag(evt) {\n        const elem = DragAndDrop_1.DD._dragElements.get(this._id);\n        if (elem) {\n            elem.dragStatus = 'stopped';\n        }\n        DragAndDrop_1.DD._endDragBefore(evt);\n        DragAndDrop_1.DD._endDragAfter(evt);\n    }\n    setDraggable(draggable) {\n        this._setAttr('draggable', draggable);\n        this._dragChange();\n    }\n    isDragging() {\n        const elem = DragAndDrop_1.DD._dragElements.get(this._id);\n        return elem ? elem.dragStatus === 'dragging' : false;\n    }\n    _listenDrag() {\n        this._dragCleanup();\n        this.on('mousedown.konva touchstart.konva', function (evt) {\n            var shouldCheckButton = evt.evt['button'] !== undefined;\n            var canDrag = !shouldCheckButton || Global_1.Konva.dragButtons.indexOf(evt.evt['button']) >= 0;\n            if (!canDrag) {\n                return;\n            }\n            if (this.isDragging()) {\n                return;\n            }\n            var hasDraggingChild = false;\n            DragAndDrop_1.DD._dragElements.forEach((elem) => {\n                if (this.isAncestorOf(elem.node)) {\n                    hasDraggingChild = true;\n                }\n            });\n            if (!hasDraggingChild) {\n                this._createDragElement(evt);\n            }\n        });\n    }\n    _dragChange() {\n        if (this.attrs.draggable) {\n            this._listenDrag();\n        }\n        else {\n            this._dragCleanup();\n            var stage = this.getStage();\n            if (!stage) {\n                return;\n            }\n            const dragElement = DragAndDrop_1.DD._dragElements.get(this._id);\n            const isDragging = dragElement && dragElement.dragStatus === 'dragging';\n            const isReady = dragElement && dragElement.dragStatus === 'ready';\n            if (isDragging) {\n                this.stopDrag();\n            }\n            else if (isReady) {\n                DragAndDrop_1.DD._dragElements.delete(this._id);\n            }\n        }\n    }\n    _dragCleanup() {\n        this.off('mousedown.konva');\n        this.off('touchstart.konva');\n    }\n    isClientRectOnScreen(margin = { x: 0, y: 0 }) {\n        const stage = this.getStage();\n        if (!stage) {\n            return false;\n        }\n        const screenRect = {\n            x: -margin.x,\n            y: -margin.y,\n            width: stage.width() + 2 * margin.x,\n            height: stage.height() + 2 * margin.y,\n        };\n        return Util_1.Util.haveIntersection(screenRect, this.getClientRect());\n    }\n    static create(data, container) {\n        if (Util_1.Util._isString(data)) {\n            data = JSON.parse(data);\n        }\n        return this._createNode(data, container);\n    }\n    static _createNode(obj, container) {\n        var className = Node.prototype.getClassName.call(obj), children = obj.children, no, len, n;\n        if (container) {\n            obj.attrs.container = container;\n        }\n        if (!Global_1.Konva[className]) {\n            Util_1.Util.warn('Can not find a node with class name \"' +\n                className +\n                '\". Fallback to \"Shape\".');\n            className = 'Shape';\n        }\n        const Class = Global_1.Konva[className];\n        no = new Class(obj.attrs);\n        if (children) {\n            len = children.length;\n            for (n = 0; n < len; n++) {\n                no.add(Node._createNode(children[n]));\n            }\n        }\n        return no;\n    }\n}\nexports.Node = Node;\nNode.prototype.nodeType = 'Node';\nNode.prototype._attrsAffectingSize = [];\nNode.prototype.eventListeners = {};\nNode.prototype.on.call(Node.prototype, TRANSFORM_CHANGE_STR, function () {\n    if (this._batchingTransformChange) {\n        this._needClearTransformCache = true;\n        return;\n    }\n    this._clearCache(TRANSFORM);\n    this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n});\nNode.prototype.on.call(Node.prototype, 'visibleChange.konva', function () {\n    this._clearSelfAndDescendantCache(VISIBLE);\n});\nNode.prototype.on.call(Node.prototype, 'listeningChange.konva', function () {\n    this._clearSelfAndDescendantCache(LISTENING);\n});\nNode.prototype.on.call(Node.prototype, 'opacityChange.konva', function () {\n    this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n});\nconst addGetterSetter = Factory_1.Factory.addGetterSetter;\naddGetterSetter(Node, 'zIndex');\naddGetterSetter(Node, 'absolutePosition');\naddGetterSetter(Node, 'position');\naddGetterSetter(Node, 'x', 0, (0, Validators_1.getNumberValidator)());\naddGetterSetter(Node, 'y', 0, (0, Validators_1.getNumberValidator)());\naddGetterSetter(Node, 'globalCompositeOperation', 'source-over', (0, Validators_1.getStringValidator)());\naddGetterSetter(Node, 'opacity', 1, (0, Validators_1.getNumberValidator)());\naddGetterSetter(Node, 'name', '', (0, Validators_1.getStringValidator)());\naddGetterSetter(Node, 'id', '', (0, Validators_1.getStringValidator)());\naddGetterSetter(Node, 'rotation', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addComponentsGetterSetter(Node, 'scale', ['x', 'y']);\naddGetterSetter(Node, 'scaleX', 1, (0, Validators_1.getNumberValidator)());\naddGetterSetter(Node, 'scaleY', 1, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addComponentsGetterSetter(Node, 'skew', ['x', 'y']);\naddGetterSetter(Node, 'skewX', 0, (0, Validators_1.getNumberValidator)());\naddGetterSetter(Node, 'skewY', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addComponentsGetterSetter(Node, 'offset', ['x', 'y']);\naddGetterSetter(Node, 'offsetX', 0, (0, Validators_1.getNumberValidator)());\naddGetterSetter(Node, 'offsetY', 0, (0, Validators_1.getNumberValidator)());\naddGetterSetter(Node, 'dragDistance', null, (0, Validators_1.getNumberValidator)());\naddGetterSetter(Node, 'width', 0, (0, Validators_1.getNumberValidator)());\naddGetterSetter(Node, 'height', 0, (0, Validators_1.getNumberValidator)());\naddGetterSetter(Node, 'listening', true, (0, Validators_1.getBooleanValidator)());\naddGetterSetter(Node, 'preventDefault', true, (0, Validators_1.getBooleanValidator)());\naddGetterSetter(Node, 'filters', null, function (val) {\n    this._filterUpToDate = false;\n    return val;\n});\naddGetterSetter(Node, 'visible', true, (0, Validators_1.getBooleanValidator)());\naddGetterSetter(Node, 'transformsEnabled', 'all', (0, Validators_1.getStringValidator)());\naddGetterSetter(Node, 'size');\naddGetterSetter(Node, 'dragBoundFunc');\naddGetterSetter(Node, 'draggable', false, (0, Validators_1.getBooleanValidator)());\nFactory_1.Factory.backCompat(Node, {\n    rotateDeg: 'rotate',\n    setRotationDeg: 'setRotation',\n    getRotationDeg: 'getRotation',\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Container = void 0;\nconst Factory_1 = require(\"./Factory\");\nconst Node_1 = require(\"./Node\");\nconst Validators_1 = require(\"./Validators\");\nclass Container extends Node_1.Node {\n    constructor() {\n        super(...arguments);\n        this.children = [];\n    }\n    getChildren(filterFunc) {\n        if (!filterFunc) {\n            return this.children || [];\n        }\n        const children = this.children || [];\n        var results = [];\n        children.forEach(function (child) {\n            if (filterFunc(child)) {\n                results.push(child);\n            }\n        });\n        return results;\n    }\n    hasChildren() {\n        return this.getChildren().length > 0;\n    }\n    removeChildren() {\n        this.getChildren().forEach((child) => {\n            child.parent = null;\n            child.index = 0;\n            child.remove();\n        });\n        this.children = [];\n        this._requestDraw();\n        return this;\n    }\n    destroyChildren() {\n        this.getChildren().forEach((child) => {\n            child.parent = null;\n            child.index = 0;\n            child.destroy();\n        });\n        this.children = [];\n        this._requestDraw();\n        return this;\n    }\n    add(...children) {\n        if (children.length === 0) {\n            return this;\n        }\n        if (children.length > 1) {\n            for (var i = 0; i < children.length; i++) {\n                this.add(children[i]);\n            }\n            return this;\n        }\n        const child = children[0];\n        if (child.getParent()) {\n            child.moveTo(this);\n            return this;\n        }\n        this._validateAdd(child);\n        child.index = this.getChildren().length;\n        child.parent = this;\n        child._clearCaches();\n        this.getChildren().push(child);\n        this._fire('add', {\n            child: child,\n        });\n        this._requestDraw();\n        return this;\n    }\n    destroy() {\n        if (this.hasChildren()) {\n            this.destroyChildren();\n        }\n        super.destroy();\n        return this;\n    }\n    find(selector) {\n        return this._generalFind(selector, false);\n    }\n    findOne(selector) {\n        var result = this._generalFind(selector, true);\n        return result.length > 0 ? result[0] : undefined;\n    }\n    _generalFind(selector, findOne) {\n        var retArr = [];\n        this._descendants((node) => {\n            const valid = node._isMatch(selector);\n            if (valid) {\n                retArr.push(node);\n            }\n            if (valid && findOne) {\n                return true;\n            }\n            return false;\n        });\n        return retArr;\n    }\n    _descendants(fn) {\n        let shouldStop = false;\n        const children = this.getChildren();\n        for (const child of children) {\n            shouldStop = fn(child);\n            if (shouldStop) {\n                return true;\n            }\n            if (!child.hasChildren()) {\n                continue;\n            }\n            shouldStop = child._descendants(fn);\n            if (shouldStop) {\n                return true;\n            }\n        }\n        return false;\n    }\n    toObject() {\n        var obj = Node_1.Node.prototype.toObject.call(this);\n        obj.children = [];\n        this.getChildren().forEach((child) => {\n            obj.children.push(child.toObject());\n        });\n        return obj;\n    }\n    isAncestorOf(node) {\n        var parent = node.getParent();\n        while (parent) {\n            if (parent._id === this._id) {\n                return true;\n            }\n            parent = parent.getParent();\n        }\n        return false;\n    }\n    clone(obj) {\n        var node = Node_1.Node.prototype.clone.call(this, obj);\n        this.getChildren().forEach(function (no) {\n            node.add(no.clone());\n        });\n        return node;\n    }\n    getAllIntersections(pos) {\n        var arr = [];\n        this.find('Shape').forEach(function (shape) {\n            if (shape.isVisible() && shape.intersects(pos)) {\n                arr.push(shape);\n            }\n        });\n        return arr;\n    }\n    _clearSelfAndDescendantCache(attr) {\n        var _a;\n        super._clearSelfAndDescendantCache(attr);\n        if (this.isCached()) {\n            return;\n        }\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (node) {\n            node._clearSelfAndDescendantCache(attr);\n        });\n    }\n    _setChildrenIndices() {\n        var _a;\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (child, n) {\n            child.index = n;\n        });\n        this._requestDraw();\n    }\n    drawScene(can, top) {\n        var layer = this.getLayer(), canvas = can || (layer && layer.getCanvas()), context = canvas && canvas.getContext(), cachedCanvas = this._getCanvasCache(), cachedSceneCanvas = cachedCanvas && cachedCanvas.scene;\n        var caching = canvas && canvas.isCache;\n        if (!this.isVisible() && !caching) {\n            return this;\n        }\n        if (cachedSceneCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedSceneCanvas(context);\n            context.restore();\n        }\n        else {\n            this._drawChildren('drawScene', canvas, top);\n        }\n        return this;\n    }\n    drawHit(can, top) {\n        if (!this.shouldDrawHit(top)) {\n            return this;\n        }\n        var layer = this.getLayer(), canvas = can || (layer && layer.hitCanvas), context = canvas && canvas.getContext(), cachedCanvas = this._getCanvasCache(), cachedHitCanvas = cachedCanvas && cachedCanvas.hit;\n        if (cachedHitCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedHitCanvas(context);\n            context.restore();\n        }\n        else {\n            this._drawChildren('drawHit', canvas, top);\n        }\n        return this;\n    }\n    _drawChildren(drawMethod, canvas, top) {\n        var _a;\n        var context = canvas && canvas.getContext(), clipWidth = this.clipWidth(), clipHeight = this.clipHeight(), clipFunc = this.clipFunc(), hasClip = (clipWidth && clipHeight) || clipFunc;\n        const selfCache = top === this;\n        if (hasClip) {\n            context.save();\n            var transform = this.getAbsoluteTransform(top);\n            var m = transform.getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            context.beginPath();\n            let clipArgs;\n            if (clipFunc) {\n                clipArgs = clipFunc.call(this, context, this);\n            }\n            else {\n                var clipX = this.clipX();\n                var clipY = this.clipY();\n                context.rect(clipX, clipY, clipWidth, clipHeight);\n            }\n            context.clip.apply(context, clipArgs);\n            m = transform.copy().invert().getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n        }\n        var hasComposition = !selfCache &&\n            this.globalCompositeOperation() !== 'source-over' &&\n            drawMethod === 'drawScene';\n        if (hasComposition) {\n            context.save();\n            context._applyGlobalCompositeOperation(this);\n        }\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (child) {\n            child[drawMethod](canvas, top);\n        });\n        if (hasComposition) {\n            context.restore();\n        }\n        if (hasClip) {\n            context.restore();\n        }\n    }\n    getClientRect(config) {\n        var _a;\n        config = config || {};\n        var skipTransform = config.skipTransform;\n        var relativeTo = config.relativeTo;\n        var minX, minY, maxX, maxY;\n        var selfRect = {\n            x: Infinity,\n            y: Infinity,\n            width: 0,\n            height: 0,\n        };\n        var that = this;\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (child) {\n            if (!child.visible()) {\n                return;\n            }\n            var rect = child.getClientRect({\n                relativeTo: that,\n                skipShadow: config.skipShadow,\n                skipStroke: config.skipStroke,\n            });\n            if (rect.width === 0 && rect.height === 0) {\n                return;\n            }\n            if (minX === undefined) {\n                minX = rect.x;\n                minY = rect.y;\n                maxX = rect.x + rect.width;\n                maxY = rect.y + rect.height;\n            }\n            else {\n                minX = Math.min(minX, rect.x);\n                minY = Math.min(minY, rect.y);\n                maxX = Math.max(maxX, rect.x + rect.width);\n                maxY = Math.max(maxY, rect.y + rect.height);\n            }\n        });\n        var shapes = this.find('Shape');\n        var hasVisible = false;\n        for (var i = 0; i < shapes.length; i++) {\n            var shape = shapes[i];\n            if (shape._isVisible(this)) {\n                hasVisible = true;\n                break;\n            }\n        }\n        if (hasVisible && minX !== undefined) {\n            selfRect = {\n                x: minX,\n                y: minY,\n                width: maxX - minX,\n                height: maxY - minY,\n            };\n        }\n        else {\n            selfRect = {\n                x: 0,\n                y: 0,\n                width: 0,\n                height: 0,\n            };\n        }\n        if (!skipTransform) {\n            return this._transformedRect(selfRect, relativeTo);\n        }\n        return selfRect;\n    }\n}\nexports.Container = Container;\nFactory_1.Factory.addComponentsGetterSetter(Container, 'clip', [\n    'x',\n    'y',\n    'width',\n    'height',\n]);\nFactory_1.Factory.addGetterSetter(Container, 'clipX', undefined, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Container, 'clipY', undefined, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Container, 'clipWidth', undefined, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Container, 'clipHeight', undefined, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Container, 'clipFunc');\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.releaseCapture = exports.setPointerCapture = exports.hasPointerCapture = exports.createEvent = exports.getCapturedShape = void 0;\nconst Global_1 = require(\"./Global\");\nconst Captures = new Map();\nconst SUPPORT_POINTER_EVENTS = Global_1.Konva._global['PointerEvent'] !== undefined;\nfunction getCapturedShape(pointerId) {\n    return Captures.get(pointerId);\n}\nexports.getCapturedShape = getCapturedShape;\nfunction createEvent(evt) {\n    return {\n        evt,\n        pointerId: evt.pointerId,\n    };\n}\nexports.createEvent = createEvent;\nfunction hasPointerCapture(pointerId, shape) {\n    return Captures.get(pointerId) === shape;\n}\nexports.hasPointerCapture = hasPointerCapture;\nfunction setPointerCapture(pointerId, shape) {\n    releaseCapture(pointerId);\n    const stage = shape.getStage();\n    if (!stage)\n        return;\n    Captures.set(pointerId, shape);\n    if (SUPPORT_POINTER_EVENTS) {\n        shape._fire('gotpointercapture', createEvent(new PointerEvent('gotpointercapture')));\n    }\n}\nexports.setPointerCapture = setPointerCapture;\nfunction releaseCapture(pointerId, target) {\n    const shape = Captures.get(pointerId);\n    if (!shape)\n        return;\n    const stage = shape.getStage();\n    if (stage && stage.content) {\n    }\n    Captures.delete(pointerId);\n    if (SUPPORT_POINTER_EVENTS) {\n        shape._fire('lostpointercapture', createEvent(new PointerEvent('lostpointercapture')));\n    }\n}\nexports.releaseCapture = releaseCapture;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Stage = exports.stages = void 0;\nconst Util_1 = require(\"./Util\");\nconst Factory_1 = require(\"./Factory\");\nconst Container_1 = require(\"./Container\");\nconst Global_1 = require(\"./Global\");\nconst Canvas_1 = require(\"./Canvas\");\nconst DragAndDrop_1 = require(\"./DragAndDrop\");\nconst Global_2 = require(\"./Global\");\nconst PointerEvents = require(\"./PointerEvents\");\nvar STAGE = 'Stage', STRING = 'string', PX = 'px', MOUSEOUT = 'mouseout', MOUSELEAVE = 'mouseleave', MOUSEOVER = 'mouseover', MOUSEENTER = 'mouseenter', MOUSEMOVE = 'mousemove', MOUSEDOWN = 'mousedown', MOUSEUP = 'mouseup', POINTERMOVE = 'pointermove', POINTERDOWN = 'pointerdown', POINTERUP = 'pointerup', POINTERCANCEL = 'pointercancel', LOSTPOINTERCAPTURE = 'lostpointercapture', POINTEROUT = 'pointerout', POINTERLEAVE = 'pointerleave', POINTEROVER = 'pointerover', POINTERENTER = 'pointerenter', CONTEXTMENU = 'contextmenu', TOUCHSTART = 'touchstart', TOUCHEND = 'touchend', TOUCHMOVE = 'touchmove', TOUCHCANCEL = 'touchcancel', WHEEL = 'wheel', MAX_LAYERS_NUMBER = 5, EVENTS = [\n    [MOUSEENTER, '_pointerenter'],\n    [MOUSEDOWN, '_pointerdown'],\n    [MOUSEMOVE, '_pointermove'],\n    [MOUSEUP, '_pointerup'],\n    [MOUSELEAVE, '_pointerleave'],\n    [TOUCHSTART, '_pointerdown'],\n    [TOUCHMOVE, '_pointermove'],\n    [TOUCHEND, '_pointerup'],\n    [TOUCHCANCEL, '_pointercancel'],\n    [MOUSEOVER, '_pointerover'],\n    [WHEEL, '_wheel'],\n    [CONTEXTMENU, '_contextmenu'],\n    [POINTERDOWN, '_pointerdown'],\n    [POINTERMOVE, '_pointermove'],\n    [POINTERUP, '_pointerup'],\n    [POINTERCANCEL, '_pointercancel'],\n    [LOSTPOINTERCAPTURE, '_lostpointercapture'],\n];\nconst EVENTS_MAP = {\n    mouse: {\n        [POINTEROUT]: MOUSEOUT,\n        [POINTERLEAVE]: MOUSELEAVE,\n        [POINTEROVER]: MOUSEOVER,\n        [POINTERENTER]: MOUSEENTER,\n        [POINTERMOVE]: MOUSEMOVE,\n        [POINTERDOWN]: MOUSEDOWN,\n        [POINTERUP]: MOUSEUP,\n        [POINTERCANCEL]: 'mousecancel',\n        pointerclick: 'click',\n        pointerdblclick: 'dblclick',\n    },\n    touch: {\n        [POINTEROUT]: 'touchout',\n        [POINTERLEAVE]: 'touchleave',\n        [POINTEROVER]: 'touchover',\n        [POINTERENTER]: 'touchenter',\n        [POINTERMOVE]: TOUCHMOVE,\n        [POINTERDOWN]: TOUCHSTART,\n        [POINTERUP]: TOUCHEND,\n        [POINTERCANCEL]: TOUCHCANCEL,\n        pointerclick: 'tap',\n        pointerdblclick: 'dbltap',\n    },\n    pointer: {\n        [POINTEROUT]: POINTEROUT,\n        [POINTERLEAVE]: POINTERLEAVE,\n        [POINTEROVER]: POINTEROVER,\n        [POINTERENTER]: POINTERENTER,\n        [POINTERMOVE]: POINTERMOVE,\n        [POINTERDOWN]: POINTERDOWN,\n        [POINTERUP]: POINTERUP,\n        [POINTERCANCEL]: POINTERCANCEL,\n        pointerclick: 'pointerclick',\n        pointerdblclick: 'pointerdblclick',\n    },\n};\nconst getEventType = (type) => {\n    if (type.indexOf('pointer') >= 0) {\n        return 'pointer';\n    }\n    if (type.indexOf('touch') >= 0) {\n        return 'touch';\n    }\n    return 'mouse';\n};\nconst getEventsMap = (eventType) => {\n    const type = getEventType(eventType);\n    if (type === 'pointer') {\n        return Global_1.Konva.pointerEventsEnabled && EVENTS_MAP.pointer;\n    }\n    if (type === 'touch') {\n        return EVENTS_MAP.touch;\n    }\n    if (type === 'mouse') {\n        return EVENTS_MAP.mouse;\n    }\n};\nfunction checkNoClip(attrs = {}) {\n    if (attrs.clipFunc || attrs.clipWidth || attrs.clipHeight) {\n        Util_1.Util.warn('Stage does not support clipping. Please use clip for Layers or Groups.');\n    }\n    return attrs;\n}\nconst NO_POINTERS_MESSAGE = `Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);`;\nexports.stages = [];\nclass Stage extends Container_1.Container {\n    constructor(config) {\n        super(checkNoClip(config));\n        this._pointerPositions = [];\n        this._changedPointerPositions = [];\n        this._buildDOM();\n        this._bindContentEvents();\n        exports.stages.push(this);\n        this.on('widthChange.konva heightChange.konva', this._resizeDOM);\n        this.on('visibleChange.konva', this._checkVisibility);\n        this.on('clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva', () => {\n            checkNoClip(this.attrs);\n        });\n        this._checkVisibility();\n    }\n    _validateAdd(child) {\n        const isLayer = child.getType() === 'Layer';\n        const isFastLayer = child.getType() === 'FastLayer';\n        const valid = isLayer || isFastLayer;\n        if (!valid) {\n            Util_1.Util.throw('You may only add layers to the stage.');\n        }\n    }\n    _checkVisibility() {\n        if (!this.content) {\n            return;\n        }\n        const style = this.visible() ? '' : 'none';\n        this.content.style.display = style;\n    }\n    setContainer(container) {\n        if (typeof container === STRING) {\n            if (container.charAt(0) === '.') {\n                var className = container.slice(1);\n                container = document.getElementsByClassName(className)[0];\n            }\n            else {\n                var id;\n                if (container.charAt(0) !== '#') {\n                    id = container;\n                }\n                else {\n                    id = container.slice(1);\n                }\n                container = document.getElementById(id);\n            }\n            if (!container) {\n                throw 'Can not find container in document with id ' + id;\n            }\n        }\n        this._setAttr('container', container);\n        if (this.content) {\n            if (this.content.parentElement) {\n                this.content.parentElement.removeChild(this.content);\n            }\n            container.appendChild(this.content);\n        }\n        return this;\n    }\n    shouldDrawHit() {\n        return true;\n    }\n    clear() {\n        var layers = this.children, len = layers.length, n;\n        for (n = 0; n < len; n++) {\n            layers[n].clear();\n        }\n        return this;\n    }\n    clone(obj) {\n        if (!obj) {\n            obj = {};\n        }\n        obj.container =\n            typeof document !== 'undefined' && document.createElement('div');\n        return Container_1.Container.prototype.clone.call(this, obj);\n    }\n    destroy() {\n        super.destroy();\n        var content = this.content;\n        if (content && Util_1.Util._isInDocument(content)) {\n            this.container().removeChild(content);\n        }\n        var index = exports.stages.indexOf(this);\n        if (index > -1) {\n            exports.stages.splice(index, 1);\n        }\n        Util_1.Util.releaseCanvas(this.bufferCanvas._canvas, this.bufferHitCanvas._canvas);\n        return this;\n    }\n    getPointerPosition() {\n        const pos = this._pointerPositions[0] || this._changedPointerPositions[0];\n        if (!pos) {\n            Util_1.Util.warn(NO_POINTERS_MESSAGE);\n            return null;\n        }\n        return {\n            x: pos.x,\n            y: pos.y,\n        };\n    }\n    _getPointerById(id) {\n        return this._pointerPositions.find((p) => p.id === id);\n    }\n    getPointersPositions() {\n        return this._pointerPositions;\n    }\n    getStage() {\n        return this;\n    }\n    getContent() {\n        return this.content;\n    }\n    _toKonvaCanvas(config) {\n        config = config || {};\n        config.x = config.x || 0;\n        config.y = config.y || 0;\n        config.width = config.width || this.width();\n        config.height = config.height || this.height();\n        var canvas = new Canvas_1.SceneCanvas({\n            width: config.width,\n            height: config.height,\n            pixelRatio: config.pixelRatio || 1,\n        });\n        var _context = canvas.getContext()._context;\n        var layers = this.children;\n        if (config.x || config.y) {\n            _context.translate(-1 * config.x, -1 * config.y);\n        }\n        layers.forEach(function (layer) {\n            if (!layer.isVisible()) {\n                return;\n            }\n            var layerCanvas = layer._toKonvaCanvas(config);\n            _context.drawImage(layerCanvas._canvas, config.x, config.y, layerCanvas.getWidth() / layerCanvas.getPixelRatio(), layerCanvas.getHeight() / layerCanvas.getPixelRatio());\n        });\n        return canvas;\n    }\n    getIntersection(pos) {\n        if (!pos) {\n            return null;\n        }\n        var layers = this.children, len = layers.length, end = len - 1, n;\n        for (n = end; n >= 0; n--) {\n            const shape = layers[n].getIntersection(pos);\n            if (shape) {\n                return shape;\n            }\n        }\n        return null;\n    }\n    _resizeDOM() {\n        var width = this.width();\n        var height = this.height();\n        if (this.content) {\n            this.content.style.width = width + PX;\n            this.content.style.height = height + PX;\n        }\n        this.bufferCanvas.setSize(width, height);\n        this.bufferHitCanvas.setSize(width, height);\n        this.children.forEach((layer) => {\n            layer.setSize({ width, height });\n            layer.draw();\n        });\n    }\n    add(layer, ...rest) {\n        if (arguments.length > 1) {\n            for (var i = 0; i < arguments.length; i++) {\n                this.add(arguments[i]);\n            }\n            return this;\n        }\n        super.add(layer);\n        var length = this.children.length;\n        if (length > MAX_LAYERS_NUMBER) {\n            Util_1.Util.warn('The stage has ' +\n                length +\n                ' layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group.');\n        }\n        layer.setSize({ width: this.width(), height: this.height() });\n        layer.draw();\n        if (Global_1.Konva.isBrowser) {\n            this.content.appendChild(layer.canvas._canvas);\n        }\n        return this;\n    }\n    getParent() {\n        return null;\n    }\n    getLayer() {\n        return null;\n    }\n    hasPointerCapture(pointerId) {\n        return PointerEvents.hasPointerCapture(pointerId, this);\n    }\n    setPointerCapture(pointerId) {\n        PointerEvents.setPointerCapture(pointerId, this);\n    }\n    releaseCapture(pointerId) {\n        PointerEvents.releaseCapture(pointerId, this);\n    }\n    getLayers() {\n        return this.children;\n    }\n    _bindContentEvents() {\n        if (!Global_1.Konva.isBrowser) {\n            return;\n        }\n        EVENTS.forEach(([event, methodName]) => {\n            this.content.addEventListener(event, (evt) => {\n                this[methodName](evt);\n            }, { passive: false });\n        });\n    }\n    _pointerenter(evt) {\n        this.setPointersPositions(evt);\n        const events = getEventsMap(evt.type);\n        this._fire(events.pointerenter, {\n            evt: evt,\n            target: this,\n            currentTarget: this,\n        });\n    }\n    _pointerover(evt) {\n        this.setPointersPositions(evt);\n        const events = getEventsMap(evt.type);\n        this._fire(events.pointerover, {\n            evt: evt,\n            target: this,\n            currentTarget: this,\n        });\n    }\n    _getTargetShape(evenType) {\n        let shape = this[evenType + 'targetShape'];\n        if (shape && !shape.getStage()) {\n            shape = null;\n        }\n        return shape;\n    }\n    _pointerleave(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        this.setPointersPositions(evt);\n        var targetShape = this._getTargetShape(eventType);\n        var eventsEnabled = !DragAndDrop_1.DD.isDragging || Global_1.Konva.hitOnDragEnabled;\n        if (targetShape && eventsEnabled) {\n            targetShape._fireAndBubble(events.pointerout, { evt: evt });\n            targetShape._fireAndBubble(events.pointerleave, { evt: evt });\n            this._fire(events.pointerleave, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n            this[eventType + 'targetShape'] = null;\n        }\n        else if (eventsEnabled) {\n            this._fire(events.pointerleave, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n            this._fire(events.pointerout, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n        }\n        this.pointerPos = undefined;\n        this._pointerPositions = [];\n    }\n    _pointerdown(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        this.setPointersPositions(evt);\n        var triggeredOnShape = false;\n        this._changedPointerPositions.forEach((pos) => {\n            var shape = this.getIntersection(pos);\n            DragAndDrop_1.DD.justDragged = false;\n            Global_1.Konva['_' + eventType + 'ListenClick'] = true;\n            const hasShape = shape && shape.isListening();\n            if (!hasShape) {\n                return;\n            }\n            if (Global_1.Konva.capturePointerEventsEnabled) {\n                shape.setPointerCapture(pos.id);\n            }\n            this[eventType + 'ClickStartShape'] = shape;\n            shape._fireAndBubble(events.pointerdown, {\n                evt: evt,\n                pointerId: pos.id,\n            });\n            triggeredOnShape = true;\n            const isTouch = evt.type.indexOf('touch') >= 0;\n            if (shape.preventDefault() && evt.cancelable && isTouch) {\n                evt.preventDefault();\n            }\n        });\n        if (!triggeredOnShape) {\n            this._fire(events.pointerdown, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n                pointerId: this._pointerPositions[0].id,\n            });\n        }\n    }\n    _pointermove(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        if (DragAndDrop_1.DD.isDragging && DragAndDrop_1.DD.node.preventDefault() && evt.cancelable) {\n            evt.preventDefault();\n        }\n        this.setPointersPositions(evt);\n        var eventsEnabled = !DragAndDrop_1.DD.isDragging || Global_1.Konva.hitOnDragEnabled;\n        if (!eventsEnabled) {\n            return;\n        }\n        var processedShapesIds = {};\n        let triggeredOnShape = false;\n        var targetShape = this._getTargetShape(eventType);\n        this._changedPointerPositions.forEach((pos) => {\n            const shape = (PointerEvents.getCapturedShape(pos.id) ||\n                this.getIntersection(pos));\n            const pointerId = pos.id;\n            const event = { evt: evt, pointerId };\n            var differentTarget = targetShape !== shape;\n            if (differentTarget && targetShape) {\n                targetShape._fireAndBubble(events.pointerout, Object.assign({}, event), shape);\n                targetShape._fireAndBubble(events.pointerleave, Object.assign({}, event), shape);\n            }\n            if (shape) {\n                if (processedShapesIds[shape._id]) {\n                    return;\n                }\n                processedShapesIds[shape._id] = true;\n            }\n            if (shape && shape.isListening()) {\n                triggeredOnShape = true;\n                if (differentTarget) {\n                    shape._fireAndBubble(events.pointerover, Object.assign({}, event), targetShape);\n                    shape._fireAndBubble(events.pointerenter, Object.assign({}, event), targetShape);\n                    this[eventType + 'targetShape'] = shape;\n                }\n                shape._fireAndBubble(events.pointermove, Object.assign({}, event));\n            }\n            else {\n                if (targetShape) {\n                    this._fire(events.pointerover, {\n                        evt: evt,\n                        target: this,\n                        currentTarget: this,\n                        pointerId,\n                    });\n                    this[eventType + 'targetShape'] = null;\n                }\n            }\n        });\n        if (!triggeredOnShape) {\n            this._fire(events.pointermove, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n                pointerId: this._changedPointerPositions[0].id,\n            });\n        }\n    }\n    _pointerup(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        this.setPointersPositions(evt);\n        const clickStartShape = this[eventType + 'ClickStartShape'];\n        const clickEndShape = this[eventType + 'ClickEndShape'];\n        var processedShapesIds = {};\n        let triggeredOnShape = false;\n        this._changedPointerPositions.forEach((pos) => {\n            const shape = (PointerEvents.getCapturedShape(pos.id) ||\n                this.getIntersection(pos));\n            if (shape) {\n                shape.releaseCapture(pos.id);\n                if (processedShapesIds[shape._id]) {\n                    return;\n                }\n                processedShapesIds[shape._id] = true;\n            }\n            const pointerId = pos.id;\n            const event = { evt: evt, pointerId };\n            let fireDblClick = false;\n            if (Global_1.Konva['_' + eventType + 'InDblClickWindow']) {\n                fireDblClick = true;\n                clearTimeout(this[eventType + 'DblTimeout']);\n            }\n            else if (!DragAndDrop_1.DD.justDragged) {\n                Global_1.Konva['_' + eventType + 'InDblClickWindow'] = true;\n                clearTimeout(this[eventType + 'DblTimeout']);\n            }\n            this[eventType + 'DblTimeout'] = setTimeout(function () {\n                Global_1.Konva['_' + eventType + 'InDblClickWindow'] = false;\n            }, Global_1.Konva.dblClickWindow);\n            if (shape && shape.isListening()) {\n                triggeredOnShape = true;\n                this[eventType + 'ClickEndShape'] = shape;\n                shape._fireAndBubble(events.pointerup, Object.assign({}, event));\n                if (Global_1.Konva['_' + eventType + 'ListenClick'] &&\n                    clickStartShape &&\n                    clickStartShape === shape) {\n                    shape._fireAndBubble(events.pointerclick, Object.assign({}, event));\n                    if (fireDblClick && clickEndShape && clickEndShape === shape) {\n                        shape._fireAndBubble(events.pointerdblclick, Object.assign({}, event));\n                    }\n                }\n            }\n            else {\n                this[eventType + 'ClickEndShape'] = null;\n                if (Global_1.Konva['_' + eventType + 'ListenClick']) {\n                    this._fire(events.pointerclick, {\n                        evt: evt,\n                        target: this,\n                        currentTarget: this,\n                        pointerId,\n                    });\n                }\n                if (fireDblClick) {\n                    this._fire(events.pointerdblclick, {\n                        evt: evt,\n                        target: this,\n                        currentTarget: this,\n                        pointerId,\n                    });\n                }\n            }\n        });\n        if (!triggeredOnShape) {\n            this._fire(events.pointerup, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n                pointerId: this._changedPointerPositions[0].id,\n            });\n        }\n        Global_1.Konva['_' + eventType + 'ListenClick'] = false;\n        if (evt.cancelable && eventType !== 'touch') {\n            evt.preventDefault();\n        }\n    }\n    _contextmenu(evt) {\n        this.setPointersPositions(evt);\n        var shape = this.getIntersection(this.getPointerPosition());\n        if (shape && shape.isListening()) {\n            shape._fireAndBubble(CONTEXTMENU, { evt: evt });\n        }\n        else {\n            this._fire(CONTEXTMENU, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n        }\n    }\n    _wheel(evt) {\n        this.setPointersPositions(evt);\n        var shape = this.getIntersection(this.getPointerPosition());\n        if (shape && shape.isListening()) {\n            shape._fireAndBubble(WHEEL, { evt: evt });\n        }\n        else {\n            this._fire(WHEEL, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n        }\n    }\n    _pointercancel(evt) {\n        this.setPointersPositions(evt);\n        const shape = PointerEvents.getCapturedShape(evt.pointerId) ||\n            this.getIntersection(this.getPointerPosition());\n        if (shape) {\n            shape._fireAndBubble(POINTERUP, PointerEvents.createEvent(evt));\n        }\n        PointerEvents.releaseCapture(evt.pointerId);\n    }\n    _lostpointercapture(evt) {\n        PointerEvents.releaseCapture(evt.pointerId);\n    }\n    setPointersPositions(evt) {\n        var contentPosition = this._getContentPosition(), x = null, y = null;\n        evt = evt ? evt : window.event;\n        if (evt.touches !== undefined) {\n            this._pointerPositions = [];\n            this._changedPointerPositions = [];\n            Array.prototype.forEach.call(evt.touches, (touch) => {\n                this._pointerPositions.push({\n                    id: touch.identifier,\n                    x: (touch.clientX - contentPosition.left) / contentPosition.scaleX,\n                    y: (touch.clientY - contentPosition.top) / contentPosition.scaleY,\n                });\n            });\n            Array.prototype.forEach.call(evt.changedTouches || evt.touches, (touch) => {\n                this._changedPointerPositions.push({\n                    id: touch.identifier,\n                    x: (touch.clientX - contentPosition.left) / contentPosition.scaleX,\n                    y: (touch.clientY - contentPosition.top) / contentPosition.scaleY,\n                });\n            });\n        }\n        else {\n            x = (evt.clientX - contentPosition.left) / contentPosition.scaleX;\n            y = (evt.clientY - contentPosition.top) / contentPosition.scaleY;\n            this.pointerPos = {\n                x: x,\n                y: y,\n            };\n            this._pointerPositions = [{ x, y, id: Util_1.Util._getFirstPointerId(evt) }];\n            this._changedPointerPositions = [\n                { x, y, id: Util_1.Util._getFirstPointerId(evt) },\n            ];\n        }\n    }\n    _setPointerPosition(evt) {\n        Util_1.Util.warn('Method _setPointerPosition is deprecated. Use \"stage.setPointersPositions(event)\" instead.');\n        this.setPointersPositions(evt);\n    }\n    _getContentPosition() {\n        if (!this.content || !this.content.getBoundingClientRect) {\n            return {\n                top: 0,\n                left: 0,\n                scaleX: 1,\n                scaleY: 1,\n            };\n        }\n        var rect = this.content.getBoundingClientRect();\n        return {\n            top: rect.top,\n            left: rect.left,\n            scaleX: rect.width / this.content.clientWidth || 1,\n            scaleY: rect.height / this.content.clientHeight || 1,\n        };\n    }\n    _buildDOM() {\n        this.bufferCanvas = new Canvas_1.SceneCanvas({\n            width: this.width(),\n            height: this.height(),\n        });\n        this.bufferHitCanvas = new Canvas_1.HitCanvas({\n            pixelRatio: 1,\n            width: this.width(),\n            height: this.height(),\n        });\n        if (!Global_1.Konva.isBrowser) {\n            return;\n        }\n        var container = this.container();\n        if (!container) {\n            throw 'Stage has no container. A container is required.';\n        }\n        container.innerHTML = '';\n        this.content = document.createElement('div');\n        this.content.style.position = 'relative';\n        this.content.style.userSelect = 'none';\n        this.content.className = 'konvajs-content';\n        this.content.setAttribute('role', 'presentation');\n        container.appendChild(this.content);\n        this._resizeDOM();\n    }\n    cache() {\n        Util_1.Util.warn('Cache function is not allowed for stage. You may use cache only for layers, groups and shapes.');\n        return this;\n    }\n    clearCache() {\n        return this;\n    }\n    batchDraw() {\n        this.getChildren().forEach(function (layer) {\n            layer.batchDraw();\n        });\n        return this;\n    }\n}\nexports.Stage = Stage;\nStage.prototype.nodeType = STAGE;\n(0, Global_2._registerNode)(Stage);\nFactory_1.Factory.addGetterSetter(Stage, 'container');\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Shape = exports.shapes = void 0;\nconst Global_1 = require(\"./Global\");\nconst Util_1 = require(\"./Util\");\nconst Factory_1 = require(\"./Factory\");\nconst Node_1 = require(\"./Node\");\nconst Validators_1 = require(\"./Validators\");\nconst Global_2 = require(\"./Global\");\nconst PointerEvents = require(\"./PointerEvents\");\nvar HAS_SHADOW = 'hasShadow';\nvar SHADOW_RGBA = 'shadowRGBA';\nvar patternImage = 'patternImage';\nvar linearGradient = 'linearGradient';\nvar radialGradient = 'radialGradient';\nlet dummyContext;\nfunction getDummyContext() {\n    if (dummyContext) {\n        return dummyContext;\n    }\n    dummyContext = Util_1.Util.createCanvasElement().getContext('2d');\n    return dummyContext;\n}\nexports.shapes = {};\nfunction _fillFunc(context) {\n    const fillRule = this.attrs.fillRule;\n    if (fillRule) {\n        context.fill(fillRule);\n    }\n    else {\n        context.fill();\n    }\n}\nfunction _strokeFunc(context) {\n    context.stroke();\n}\nfunction _fillFuncHit(context) {\n    context.fill();\n}\nfunction _strokeFuncHit(context) {\n    context.stroke();\n}\nfunction _clearHasShadowCache() {\n    this._clearCache(HAS_SHADOW);\n}\nfunction _clearGetShadowRGBACache() {\n    this._clearCache(SHADOW_RGBA);\n}\nfunction _clearFillPatternCache() {\n    this._clearCache(patternImage);\n}\nfunction _clearLinearGradientCache() {\n    this._clearCache(linearGradient);\n}\nfunction _clearRadialGradientCache() {\n    this._clearCache(radialGradient);\n}\nclass Shape extends Node_1.Node {\n    constructor(config) {\n        super(config);\n        let key;\n        while (true) {\n            key = Util_1.Util.getRandomColor();\n            if (key && !(key in exports.shapes)) {\n                break;\n            }\n        }\n        this.colorKey = key;\n        exports.shapes[key] = this;\n    }\n    getContext() {\n        Util_1.Util.warn('shape.getContext() method is deprecated. Please do not use it.');\n        return this.getLayer().getContext();\n    }\n    getCanvas() {\n        Util_1.Util.warn('shape.getCanvas() method is deprecated. Please do not use it.');\n        return this.getLayer().getCanvas();\n    }\n    getSceneFunc() {\n        return this.attrs.sceneFunc || this['_sceneFunc'];\n    }\n    getHitFunc() {\n        return this.attrs.hitFunc || this['_hitFunc'];\n    }\n    hasShadow() {\n        return this._getCache(HAS_SHADOW, this._hasShadow);\n    }\n    _hasShadow() {\n        return (this.shadowEnabled() &&\n            this.shadowOpacity() !== 0 &&\n            !!(this.shadowColor() ||\n                this.shadowBlur() ||\n                this.shadowOffsetX() ||\n                this.shadowOffsetY()));\n    }\n    _getFillPattern() {\n        return this._getCache(patternImage, this.__getFillPattern);\n    }\n    __getFillPattern() {\n        if (this.fillPatternImage()) {\n            var ctx = getDummyContext();\n            const pattern = ctx.createPattern(this.fillPatternImage(), this.fillPatternRepeat() || 'repeat');\n            if (pattern && pattern.setTransform) {\n                const tr = new Util_1.Transform();\n                tr.translate(this.fillPatternX(), this.fillPatternY());\n                tr.rotate(Global_1.Konva.getAngle(this.fillPatternRotation()));\n                tr.scale(this.fillPatternScaleX(), this.fillPatternScaleY());\n                tr.translate(-1 * this.fillPatternOffsetX(), -1 * this.fillPatternOffsetY());\n                const m = tr.getMatrix();\n                const matrix = typeof DOMMatrix === 'undefined'\n                    ? {\n                        a: m[0],\n                        b: m[1],\n                        c: m[2],\n                        d: m[3],\n                        e: m[4],\n                        f: m[5],\n                    }\n                    : new DOMMatrix(m);\n                pattern.setTransform(matrix);\n            }\n            return pattern;\n        }\n    }\n    _getLinearGradient() {\n        return this._getCache(linearGradient, this.__getLinearGradient);\n    }\n    __getLinearGradient() {\n        var colorStops = this.fillLinearGradientColorStops();\n        if (colorStops) {\n            var ctx = getDummyContext();\n            var start = this.fillLinearGradientStartPoint();\n            var end = this.fillLinearGradientEndPoint();\n            var grd = ctx.createLinearGradient(start.x, start.y, end.x, end.y);\n            for (var n = 0; n < colorStops.length; n += 2) {\n                grd.addColorStop(colorStops[n], colorStops[n + 1]);\n            }\n            return grd;\n        }\n    }\n    _getRadialGradient() {\n        return this._getCache(radialGradient, this.__getRadialGradient);\n    }\n    __getRadialGradient() {\n        var colorStops = this.fillRadialGradientColorStops();\n        if (colorStops) {\n            var ctx = getDummyContext();\n            var start = this.fillRadialGradientStartPoint();\n            var end = this.fillRadialGradientEndPoint();\n            var grd = ctx.createRadialGradient(start.x, start.y, this.fillRadialGradientStartRadius(), end.x, end.y, this.fillRadialGradientEndRadius());\n            for (var n = 0; n < colorStops.length; n += 2) {\n                grd.addColorStop(colorStops[n], colorStops[n + 1]);\n            }\n            return grd;\n        }\n    }\n    getShadowRGBA() {\n        return this._getCache(SHADOW_RGBA, this._getShadowRGBA);\n    }\n    _getShadowRGBA() {\n        if (!this.hasShadow()) {\n            return;\n        }\n        var rgba = Util_1.Util.colorToRGBA(this.shadowColor());\n        if (rgba) {\n            return ('rgba(' +\n                rgba.r +\n                ',' +\n                rgba.g +\n                ',' +\n                rgba.b +\n                ',' +\n                rgba.a * (this.shadowOpacity() || 1) +\n                ')');\n        }\n    }\n    hasFill() {\n        return this._calculate('hasFill', [\n            'fillEnabled',\n            'fill',\n            'fillPatternImage',\n            'fillLinearGradientColorStops',\n            'fillRadialGradientColorStops',\n        ], () => {\n            return (this.fillEnabled() &&\n                !!(this.fill() ||\n                    this.fillPatternImage() ||\n                    this.fillLinearGradientColorStops() ||\n                    this.fillRadialGradientColorStops()));\n        });\n    }\n    hasStroke() {\n        return this._calculate('hasStroke', [\n            'strokeEnabled',\n            'strokeWidth',\n            'stroke',\n            'strokeLinearGradientColorStops',\n        ], () => {\n            return (this.strokeEnabled() &&\n                this.strokeWidth() &&\n                !!(this.stroke() || this.strokeLinearGradientColorStops()));\n        });\n    }\n    hasHitStroke() {\n        const width = this.hitStrokeWidth();\n        if (width === 'auto') {\n            return this.hasStroke();\n        }\n        return this.strokeEnabled() && !!width;\n    }\n    intersects(point) {\n        var stage = this.getStage(), bufferHitCanvas = stage.bufferHitCanvas, p;\n        bufferHitCanvas.getContext().clear();\n        this.drawHit(bufferHitCanvas, null, true);\n        p = bufferHitCanvas.context.getImageData(Math.round(point.x), Math.round(point.y), 1, 1).data;\n        return p[3] > 0;\n    }\n    destroy() {\n        Node_1.Node.prototype.destroy.call(this);\n        delete exports.shapes[this.colorKey];\n        delete this.colorKey;\n        return this;\n    }\n    _useBufferCanvas(forceFill) {\n        var _a;\n        if (!this.getStage()) {\n            return false;\n        }\n        const perfectDrawEnabled = (_a = this.attrs.perfectDrawEnabled) !== null && _a !== void 0 ? _a : true;\n        if (!perfectDrawEnabled) {\n            return false;\n        }\n        const hasFill = forceFill || this.hasFill();\n        const hasStroke = this.hasStroke();\n        const isTransparent = this.getAbsoluteOpacity() !== 1;\n        if (hasFill && hasStroke && isTransparent) {\n            return true;\n        }\n        const hasShadow = this.hasShadow();\n        const strokeForShadow = this.shadowForStrokeEnabled();\n        if (hasFill && hasStroke && hasShadow && strokeForShadow) {\n            return true;\n        }\n        return false;\n    }\n    setStrokeHitEnabled(val) {\n        Util_1.Util.warn('strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead.');\n        if (val) {\n            this.hitStrokeWidth('auto');\n        }\n        else {\n            this.hitStrokeWidth(0);\n        }\n    }\n    getStrokeHitEnabled() {\n        if (this.hitStrokeWidth() === 0) {\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n    getSelfRect() {\n        var size = this.size();\n        return {\n            x: this._centroid ? -size.width / 2 : 0,\n            y: this._centroid ? -size.height / 2 : 0,\n            width: size.width,\n            height: size.height,\n        };\n    }\n    getClientRect(config = {}) {\n        const skipTransform = config.skipTransform;\n        const relativeTo = config.relativeTo;\n        const fillRect = this.getSelfRect();\n        const applyStroke = !config.skipStroke && this.hasStroke();\n        const strokeWidth = (applyStroke && this.strokeWidth()) || 0;\n        const fillAndStrokeWidth = fillRect.width + strokeWidth;\n        const fillAndStrokeHeight = fillRect.height + strokeWidth;\n        const applyShadow = !config.skipShadow && this.hasShadow();\n        const shadowOffsetX = applyShadow ? this.shadowOffsetX() : 0;\n        const shadowOffsetY = applyShadow ? this.shadowOffsetY() : 0;\n        const preWidth = fillAndStrokeWidth + Math.abs(shadowOffsetX);\n        const preHeight = fillAndStrokeHeight + Math.abs(shadowOffsetY);\n        const blurRadius = (applyShadow && this.shadowBlur()) || 0;\n        const width = preWidth + blurRadius * 2;\n        const height = preHeight + blurRadius * 2;\n        const rect = {\n            width: width,\n            height: height,\n            x: -(strokeWidth / 2 + blurRadius) +\n                Math.min(shadowOffsetX, 0) +\n                fillRect.x,\n            y: -(strokeWidth / 2 + blurRadius) +\n                Math.min(shadowOffsetY, 0) +\n                fillRect.y,\n        };\n        if (!skipTransform) {\n            return this._transformedRect(rect, relativeTo);\n        }\n        return rect;\n    }\n    drawScene(can, top) {\n        var layer = this.getLayer(), canvas = can || layer.getCanvas(), context = canvas.getContext(), cachedCanvas = this._getCanvasCache(), drawFunc = this.getSceneFunc(), hasShadow = this.hasShadow(), stage, bufferCanvas, bufferContext;\n        var skipBuffer = canvas.isCache;\n        var cachingSelf = top === this;\n        if (!this.isVisible() && !cachingSelf) {\n            return this;\n        }\n        if (cachedCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedSceneCanvas(context);\n            context.restore();\n            return this;\n        }\n        if (!drawFunc) {\n            return this;\n        }\n        context.save();\n        if (this._useBufferCanvas() && !skipBuffer) {\n            stage = this.getStage();\n            bufferCanvas = stage.bufferCanvas;\n            bufferContext = bufferCanvas.getContext();\n            bufferContext.clear();\n            bufferContext.save();\n            bufferContext._applyLineJoin(this);\n            var o = this.getAbsoluteTransform(top).getMatrix();\n            bufferContext.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n            drawFunc.call(this, bufferContext, this);\n            bufferContext.restore();\n            var ratio = bufferCanvas.pixelRatio;\n            if (hasShadow) {\n                context._applyShadow(this);\n            }\n            context._applyOpacity(this);\n            context._applyGlobalCompositeOperation(this);\n            context.drawImage(bufferCanvas._canvas, 0, 0, bufferCanvas.width / ratio, bufferCanvas.height / ratio);\n        }\n        else {\n            context._applyLineJoin(this);\n            if (!cachingSelf) {\n                var o = this.getAbsoluteTransform(top).getMatrix();\n                context.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n                context._applyOpacity(this);\n                context._applyGlobalCompositeOperation(this);\n            }\n            if (hasShadow) {\n                context._applyShadow(this);\n            }\n            drawFunc.call(this, context, this);\n        }\n        context.restore();\n        return this;\n    }\n    drawHit(can, top, skipDragCheck = false) {\n        if (!this.shouldDrawHit(top, skipDragCheck)) {\n            return this;\n        }\n        var layer = this.getLayer(), canvas = can || layer.hitCanvas, context = canvas && canvas.getContext(), drawFunc = this.hitFunc() || this.sceneFunc(), cachedCanvas = this._getCanvasCache(), cachedHitCanvas = cachedCanvas && cachedCanvas.hit;\n        if (!this.colorKey) {\n            Util_1.Util.warn('Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()');\n        }\n        if (cachedHitCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedHitCanvas(context);\n            context.restore();\n            return this;\n        }\n        if (!drawFunc) {\n            return this;\n        }\n        context.save();\n        context._applyLineJoin(this);\n        const selfCache = this === top;\n        if (!selfCache) {\n            var o = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n        }\n        drawFunc.call(this, context, this);\n        context.restore();\n        return this;\n    }\n    drawHitFromCache(alphaThreshold = 0) {\n        var cachedCanvas = this._getCanvasCache(), sceneCanvas = this._getCachedSceneCanvas(), hitCanvas = cachedCanvas.hit, hitContext = hitCanvas.getContext(), hitWidth = hitCanvas.getWidth(), hitHeight = hitCanvas.getHeight(), hitImageData, hitData, len, rgbColorKey, i, alpha;\n        hitContext.clear();\n        hitContext.drawImage(sceneCanvas._canvas, 0, 0, hitWidth, hitHeight);\n        try {\n            hitImageData = hitContext.getImageData(0, 0, hitWidth, hitHeight);\n            hitData = hitImageData.data;\n            len = hitData.length;\n            rgbColorKey = Util_1.Util._hexToRgb(this.colorKey);\n            for (i = 0; i < len; i += 4) {\n                alpha = hitData[i + 3];\n                if (alpha > alphaThreshold) {\n                    hitData[i] = rgbColorKey.r;\n                    hitData[i + 1] = rgbColorKey.g;\n                    hitData[i + 2] = rgbColorKey.b;\n                    hitData[i + 3] = 255;\n                }\n                else {\n                    hitData[i + 3] = 0;\n                }\n            }\n            hitContext.putImageData(hitImageData, 0, 0);\n        }\n        catch (e) {\n            Util_1.Util.error('Unable to draw hit graph from cached scene canvas. ' + e.message);\n        }\n        return this;\n    }\n    hasPointerCapture(pointerId) {\n        return PointerEvents.hasPointerCapture(pointerId, this);\n    }\n    setPointerCapture(pointerId) {\n        PointerEvents.setPointerCapture(pointerId, this);\n    }\n    releaseCapture(pointerId) {\n        PointerEvents.releaseCapture(pointerId, this);\n    }\n}\nexports.Shape = Shape;\nShape.prototype._fillFunc = _fillFunc;\nShape.prototype._strokeFunc = _strokeFunc;\nShape.prototype._fillFuncHit = _fillFuncHit;\nShape.prototype._strokeFuncHit = _strokeFuncHit;\nShape.prototype._centroid = false;\nShape.prototype.nodeType = 'Shape';\n(0, Global_2._registerNode)(Shape);\nShape.prototype.eventListeners = {};\nShape.prototype.on.call(Shape.prototype, 'shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva', _clearHasShadowCache);\nShape.prototype.on.call(Shape.prototype, 'shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva', _clearGetShadowRGBACache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva', _clearFillPatternCache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva', _clearLinearGradientCache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva', _clearRadialGradientCache);\nFactory_1.Factory.addGetterSetter(Shape, 'stroke', undefined, (0, Validators_1.getStringOrGradientValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'strokeWidth', 2, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'fillAfterStrokeEnabled', false);\nFactory_1.Factory.addGetterSetter(Shape, 'hitStrokeWidth', 'auto', (0, Validators_1.getNumberOrAutoValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'strokeHitEnabled', true, (0, Validators_1.getBooleanValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'perfectDrawEnabled', true, (0, Validators_1.getBooleanValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'shadowForStrokeEnabled', true, (0, Validators_1.getBooleanValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'lineJoin');\nFactory_1.Factory.addGetterSetter(Shape, 'lineCap');\nFactory_1.Factory.addGetterSetter(Shape, 'sceneFunc');\nFactory_1.Factory.addGetterSetter(Shape, 'hitFunc');\nFactory_1.Factory.addGetterSetter(Shape, 'dash');\nFactory_1.Factory.addGetterSetter(Shape, 'dashOffset', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'shadowColor', undefined, (0, Validators_1.getStringValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'shadowBlur', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'shadowOpacity', 1, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'shadowOffset', ['x', 'y']);\nFactory_1.Factory.addGetterSetter(Shape, 'shadowOffsetX', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'shadowOffsetY', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternImage');\nFactory_1.Factory.addGetterSetter(Shape, 'fill', undefined, (0, Validators_1.getStringOrGradientValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternX', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternY', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientColorStops');\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientColorStops');\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientStartRadius', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientEndRadius', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientColorStops');\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternRepeat', 'repeat');\nFactory_1.Factory.addGetterSetter(Shape, 'fillEnabled', true);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeEnabled', true);\nFactory_1.Factory.addGetterSetter(Shape, 'shadowEnabled', true);\nFactory_1.Factory.addGetterSetter(Shape, 'dashEnabled', true);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeScaleEnabled', true);\nFactory_1.Factory.addGetterSetter(Shape, 'fillPriority', 'color');\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillPatternOffset', ['x', 'y']);\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternOffsetX', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternOffsetY', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillPatternScale', ['x', 'y']);\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternScaleX', 1, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternScaleY', 1, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillLinearGradientStartPoint', [\n    'x',\n    'y',\n]);\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'strokeLinearGradientStartPoint', [\n    'x',\n    'y',\n]);\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientStartPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientStartPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientStartPointY', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientStartPointY', 0);\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillLinearGradientEndPoint', [\n    'x',\n    'y',\n]);\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'strokeLinearGradientEndPoint', [\n    'x',\n    'y',\n]);\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientEndPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientEndPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientEndPointY', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientEndPointY', 0);\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillRadialGradientStartPoint', [\n    'x',\n    'y',\n]);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientStartPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientStartPointY', 0);\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillRadialGradientEndPoint', [\n    'x',\n    'y',\n]);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientEndPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientEndPointY', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternRotation', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRule', undefined, (0, Validators_1.getStringValidator)());\nFactory_1.Factory.backCompat(Shape, {\n    dashArray: 'dash',\n    getDashArray: 'getDash',\n    setDashArray: 'getDash',\n    drawFunc: 'sceneFunc',\n    getDrawFunc: 'getSceneFunc',\n    setDrawFunc: 'setSceneFunc',\n    drawHitFunc: 'hitFunc',\n    getDrawHitFunc: 'getHitFunc',\n    setDrawHitFunc: 'setHitFunc',\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Layer = void 0;\nconst Util_1 = require(\"./Util\");\nconst Container_1 = require(\"./Container\");\nconst Node_1 = require(\"./Node\");\nconst Factory_1 = require(\"./Factory\");\nconst Canvas_1 = require(\"./Canvas\");\nconst Validators_1 = require(\"./Validators\");\nconst Shape_1 = require(\"./Shape\");\nconst Global_1 = require(\"./Global\");\nvar HASH = '#', BEFORE_DRAW = 'beforeDraw', DRAW = 'draw', INTERSECTION_OFFSETS = [\n    { x: 0, y: 0 },\n    { x: -1, y: -1 },\n    { x: 1, y: -1 },\n    { x: 1, y: 1 },\n    { x: -1, y: 1 },\n], INTERSECTION_OFFSETS_LEN = INTERSECTION_OFFSETS.length;\nclass Layer extends Container_1.Container {\n    constructor(config) {\n        super(config);\n        this.canvas = new Canvas_1.SceneCanvas();\n        this.hitCanvas = new Canvas_1.HitCanvas({\n            pixelRatio: 1,\n        });\n        this._waitingForDraw = false;\n        this.on('visibleChange.konva', this._checkVisibility);\n        this._checkVisibility();\n        this.on('imageSmoothingEnabledChange.konva', this._setSmoothEnabled);\n        this._setSmoothEnabled();\n    }\n    createPNGStream() {\n        const c = this.canvas._canvas;\n        return c.createPNGStream();\n    }\n    getCanvas() {\n        return this.canvas;\n    }\n    getNativeCanvasElement() {\n        return this.canvas._canvas;\n    }\n    getHitCanvas() {\n        return this.hitCanvas;\n    }\n    getContext() {\n        return this.getCanvas().getContext();\n    }\n    clear(bounds) {\n        this.getContext().clear(bounds);\n        this.getHitCanvas().getContext().clear(bounds);\n        return this;\n    }\n    setZIndex(index) {\n        super.setZIndex(index);\n        var stage = this.getStage();\n        if (stage && stage.content) {\n            stage.content.removeChild(this.getNativeCanvasElement());\n            if (index < stage.children.length - 1) {\n                stage.content.insertBefore(this.getNativeCanvasElement(), stage.children[index + 1].getCanvas()._canvas);\n            }\n            else {\n                stage.content.appendChild(this.getNativeCanvasElement());\n            }\n        }\n        return this;\n    }\n    moveToTop() {\n        Node_1.Node.prototype.moveToTop.call(this);\n        var stage = this.getStage();\n        if (stage && stage.content) {\n            stage.content.removeChild(this.getNativeCanvasElement());\n            stage.content.appendChild(this.getNativeCanvasElement());\n        }\n        return true;\n    }\n    moveUp() {\n        var moved = Node_1.Node.prototype.moveUp.call(this);\n        if (!moved) {\n            return false;\n        }\n        var stage = this.getStage();\n        if (!stage || !stage.content) {\n            return false;\n        }\n        stage.content.removeChild(this.getNativeCanvasElement());\n        if (this.index < stage.children.length - 1) {\n            stage.content.insertBefore(this.getNativeCanvasElement(), stage.children[this.index + 1].getCanvas()._canvas);\n        }\n        else {\n            stage.content.appendChild(this.getNativeCanvasElement());\n        }\n        return true;\n    }\n    moveDown() {\n        if (Node_1.Node.prototype.moveDown.call(this)) {\n            var stage = this.getStage();\n            if (stage) {\n                var children = stage.children;\n                if (stage.content) {\n                    stage.content.removeChild(this.getNativeCanvasElement());\n                    stage.content.insertBefore(this.getNativeCanvasElement(), children[this.index + 1].getCanvas()._canvas);\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    moveToBottom() {\n        if (Node_1.Node.prototype.moveToBottom.call(this)) {\n            var stage = this.getStage();\n            if (stage) {\n                var children = stage.children;\n                if (stage.content) {\n                    stage.content.removeChild(this.getNativeCanvasElement());\n                    stage.content.insertBefore(this.getNativeCanvasElement(), children[1].getCanvas()._canvas);\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    getLayer() {\n        return this;\n    }\n    remove() {\n        var _canvas = this.getNativeCanvasElement();\n        Node_1.Node.prototype.remove.call(this);\n        if (_canvas && _canvas.parentNode && Util_1.Util._isInDocument(_canvas)) {\n            _canvas.parentNode.removeChild(_canvas);\n        }\n        return this;\n    }\n    getStage() {\n        return this.parent;\n    }\n    setSize({ width, height }) {\n        this.canvas.setSize(width, height);\n        this.hitCanvas.setSize(width, height);\n        this._setSmoothEnabled();\n        return this;\n    }\n    _validateAdd(child) {\n        var type = child.getType();\n        if (type !== 'Group' && type !== 'Shape') {\n            Util_1.Util.throw('You may only add groups and shapes to a layer.');\n        }\n    }\n    _toKonvaCanvas(config) {\n        config = config || {};\n        config.width = config.width || this.getWidth();\n        config.height = config.height || this.getHeight();\n        config.x = config.x !== undefined ? config.x : this.x();\n        config.y = config.y !== undefined ? config.y : this.y();\n        return Node_1.Node.prototype._toKonvaCanvas.call(this, config);\n    }\n    _checkVisibility() {\n        const visible = this.visible();\n        if (visible) {\n            this.canvas._canvas.style.display = 'block';\n        }\n        else {\n            this.canvas._canvas.style.display = 'none';\n        }\n    }\n    _setSmoothEnabled() {\n        this.getContext()._context.imageSmoothingEnabled =\n            this.imageSmoothingEnabled();\n    }\n    getWidth() {\n        if (this.parent) {\n            return this.parent.width();\n        }\n    }\n    setWidth() {\n        Util_1.Util.warn('Can not change width of layer. Use \"stage.width(value)\" function instead.');\n    }\n    getHeight() {\n        if (this.parent) {\n            return this.parent.height();\n        }\n    }\n    setHeight() {\n        Util_1.Util.warn('Can not change height of layer. Use \"stage.height(value)\" function instead.');\n    }\n    batchDraw() {\n        if (!this._waitingForDraw) {\n            this._waitingForDraw = true;\n            Util_1.Util.requestAnimFrame(() => {\n                this.draw();\n                this._waitingForDraw = false;\n            });\n        }\n        return this;\n    }\n    getIntersection(pos) {\n        if (!this.isListening() || !this.isVisible()) {\n            return null;\n        }\n        var spiralSearchDistance = 1;\n        var continueSearch = false;\n        while (true) {\n            for (let i = 0; i < INTERSECTION_OFFSETS_LEN; i++) {\n                const intersectionOffset = INTERSECTION_OFFSETS[i];\n                const obj = this._getIntersection({\n                    x: pos.x + intersectionOffset.x * spiralSearchDistance,\n                    y: pos.y + intersectionOffset.y * spiralSearchDistance,\n                });\n                const shape = obj.shape;\n                if (shape) {\n                    return shape;\n                }\n                continueSearch = !!obj.antialiased;\n                if (!obj.antialiased) {\n                    break;\n                }\n            }\n            if (continueSearch) {\n                spiralSearchDistance += 1;\n            }\n            else {\n                return null;\n            }\n        }\n    }\n    _getIntersection(pos) {\n        const ratio = this.hitCanvas.pixelRatio;\n        const p = this.hitCanvas.context.getImageData(Math.round(pos.x * ratio), Math.round(pos.y * ratio), 1, 1).data;\n        const p3 = p[3];\n        if (p3 === 255) {\n            const colorKey = Util_1.Util._rgbToHex(p[0], p[1], p[2]);\n            const shape = Shape_1.shapes[HASH + colorKey];\n            if (shape) {\n                return {\n                    shape: shape,\n                };\n            }\n            return {\n                antialiased: true,\n            };\n        }\n        else if (p3 > 0) {\n            return {\n                antialiased: true,\n            };\n        }\n        return {};\n    }\n    drawScene(can, top) {\n        var layer = this.getLayer(), canvas = can || (layer && layer.getCanvas());\n        this._fire(BEFORE_DRAW, {\n            node: this,\n        });\n        if (this.clearBeforeDraw()) {\n            canvas.getContext().clear();\n        }\n        Container_1.Container.prototype.drawScene.call(this, canvas, top);\n        this._fire(DRAW, {\n            node: this,\n        });\n        return this;\n    }\n    drawHit(can, top) {\n        var layer = this.getLayer(), canvas = can || (layer && layer.hitCanvas);\n        if (layer && layer.clearBeforeDraw()) {\n            layer.getHitCanvas().getContext().clear();\n        }\n        Container_1.Container.prototype.drawHit.call(this, canvas, top);\n        return this;\n    }\n    enableHitGraph() {\n        this.hitGraphEnabled(true);\n        return this;\n    }\n    disableHitGraph() {\n        this.hitGraphEnabled(false);\n        return this;\n    }\n    setHitGraphEnabled(val) {\n        Util_1.Util.warn('hitGraphEnabled method is deprecated. Please use layer.listening() instead.');\n        this.listening(val);\n    }\n    getHitGraphEnabled(val) {\n        Util_1.Util.warn('hitGraphEnabled method is deprecated. Please use layer.listening() instead.');\n        return this.listening();\n    }\n    toggleHitCanvas() {\n        if (!this.parent || !this.parent['content']) {\n            return;\n        }\n        var parent = this.parent;\n        var added = !!this.hitCanvas._canvas.parentNode;\n        if (added) {\n            parent.content.removeChild(this.hitCanvas._canvas);\n        }\n        else {\n            parent.content.appendChild(this.hitCanvas._canvas);\n        }\n    }\n    destroy() {\n        Util_1.Util.releaseCanvas(this.getNativeCanvasElement(), this.getHitCanvas()._canvas);\n        return super.destroy();\n    }\n}\nexports.Layer = Layer;\nLayer.prototype.nodeType = 'Layer';\n(0, Global_1._registerNode)(Layer);\nFactory_1.Factory.addGetterSetter(Layer, 'imageSmoothingEnabled', true);\nFactory_1.Factory.addGetterSetter(Layer, 'clearBeforeDraw', true);\nFactory_1.Factory.addGetterSetter(Layer, 'hitGraphEnabled', true, (0, Validators_1.getBooleanValidator)());\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FastLayer = void 0;\nconst Util_1 = require(\"./Util\");\nconst Layer_1 = require(\"./Layer\");\nconst Global_1 = require(\"./Global\");\nclass FastLayer extends Layer_1.Layer {\n    constructor(attrs) {\n        super(attrs);\n        this.listening(false);\n        Util_1.Util.warn('Konva.Fast layer is deprecated. Please use \"new Konva.Layer({ listening: false })\" instead.');\n    }\n}\nexports.FastLayer = FastLayer;\nFastLayer.prototype.nodeType = 'FastLayer';\n(0, Global_1._registerNode)(FastLayer);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Group = void 0;\nconst Util_1 = require(\"./Util\");\nconst Container_1 = require(\"./Container\");\nconst Global_1 = require(\"./Global\");\nclass Group extends Container_1.Container {\n    _validateAdd(child) {\n        var type = child.getType();\n        if (type !== 'Group' && type !== 'Shape') {\n            Util_1.Util.throw('You may only add groups and shapes to groups.');\n        }\n    }\n}\nexports.Group = Group;\nGroup.prototype.nodeType = 'Group';\n(0, Global_1._registerNode)(Group);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Animation = void 0;\nconst Global_1 = require(\"./Global\");\nconst Util_1 = require(\"./Util\");\nvar now = (function () {\n    if (Global_1.glob.performance && Global_1.glob.performance.now) {\n        return function () {\n            return Global_1.glob.performance.now();\n        };\n    }\n    return function () {\n        return new Date().getTime();\n    };\n})();\nclass Animation {\n    constructor(func, layers) {\n        this.id = Animation.animIdCounter++;\n        this.frame = {\n            time: 0,\n            timeDiff: 0,\n            lastTime: now(),\n            frameRate: 0,\n        };\n        this.func = func;\n        this.setLayers(layers);\n    }\n    setLayers(layers) {\n        var lays = [];\n        if (!layers) {\n            lays = [];\n        }\n        else if (layers.length > 0) {\n            lays = layers;\n        }\n        else {\n            lays = [layers];\n        }\n        this.layers = lays;\n        return this;\n    }\n    getLayers() {\n        return this.layers;\n    }\n    addLayer(layer) {\n        var layers = this.layers, len = layers.length, n;\n        for (n = 0; n < len; n++) {\n            if (layers[n]._id === layer._id) {\n                return false;\n            }\n        }\n        this.layers.push(layer);\n        return true;\n    }\n    isRunning() {\n        var a = Animation, animations = a.animations, len = animations.length, n;\n        for (n = 0; n < len; n++) {\n            if (animations[n].id === this.id) {\n                return true;\n            }\n        }\n        return false;\n    }\n    start() {\n        this.stop();\n        this.frame.timeDiff = 0;\n        this.frame.lastTime = now();\n        Animation._addAnimation(this);\n        return this;\n    }\n    stop() {\n        Animation._removeAnimation(this);\n        return this;\n    }\n    _updateFrameObject(time) {\n        this.frame.timeDiff = time - this.frame.lastTime;\n        this.frame.lastTime = time;\n        this.frame.time += this.frame.timeDiff;\n        this.frame.frameRate = 1000 / this.frame.timeDiff;\n    }\n    static _addAnimation(anim) {\n        this.animations.push(anim);\n        this._handleAnimation();\n    }\n    static _removeAnimation(anim) {\n        var id = anim.id, animations = this.animations, len = animations.length, n;\n        for (n = 0; n < len; n++) {\n            if (animations[n].id === id) {\n                this.animations.splice(n, 1);\n                break;\n            }\n        }\n    }\n    static _runFrames() {\n        var layerHash = {}, animations = this.animations, anim, layers, func, n, i, layersLen, layer, key, needRedraw;\n        for (n = 0; n < animations.length; n++) {\n            anim = animations[n];\n            layers = anim.layers;\n            func = anim.func;\n            anim._updateFrameObject(now());\n            layersLen = layers.length;\n            if (func) {\n                needRedraw = func.call(anim, anim.frame) !== false;\n            }\n            else {\n                needRedraw = true;\n            }\n            if (!needRedraw) {\n                continue;\n            }\n            for (i = 0; i < layersLen; i++) {\n                layer = layers[i];\n                if (layer._id !== undefined) {\n                    layerHash[layer._id] = layer;\n                }\n            }\n        }\n        for (key in layerHash) {\n            if (!layerHash.hasOwnProperty(key)) {\n                continue;\n            }\n            layerHash[key].batchDraw();\n        }\n    }\n    static _animationLoop() {\n        var Anim = Animation;\n        if (Anim.animations.length) {\n            Anim._runFrames();\n            Util_1.Util.requestAnimFrame(Anim._animationLoop);\n        }\n        else {\n            Anim.animRunning = false;\n        }\n    }\n    static _handleAnimation() {\n        if (!this.animRunning) {\n            this.animRunning = true;\n            Util_1.Util.requestAnimFrame(this._animationLoop);\n        }\n    }\n}\nexports.Animation = Animation;\nAnimation.animations = [];\nAnimation.animIdCounter = 0;\nAnimation.animRunning = false;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Easings = exports.Tween = void 0;\nconst Util_1 = require(\"./Util\");\nconst Animation_1 = require(\"./Animation\");\nconst Node_1 = require(\"./Node\");\nconst Global_1 = require(\"./Global\");\nvar blacklist = {\n    node: 1,\n    duration: 1,\n    easing: 1,\n    onFinish: 1,\n    yoyo: 1,\n}, PAUSED = 1, PLAYING = 2, REVERSING = 3, idCounter = 0, colorAttrs = ['fill', 'stroke', 'shadowColor'];\nclass TweenEngine {\n    constructor(prop, propFunc, func, begin, finish, duration, yoyo) {\n        this.prop = prop;\n        this.propFunc = propFunc;\n        this.begin = begin;\n        this._pos = begin;\n        this.duration = duration;\n        this._change = 0;\n        this.prevPos = 0;\n        this.yoyo = yoyo;\n        this._time = 0;\n        this._position = 0;\n        this._startTime = 0;\n        this._finish = 0;\n        this.func = func;\n        this._change = finish - this.begin;\n        this.pause();\n    }\n    fire(str) {\n        var handler = this[str];\n        if (handler) {\n            handler();\n        }\n    }\n    setTime(t) {\n        if (t > this.duration) {\n            if (this.yoyo) {\n                this._time = this.duration;\n                this.reverse();\n            }\n            else {\n                this.finish();\n            }\n        }\n        else if (t < 0) {\n            if (this.yoyo) {\n                this._time = 0;\n                this.play();\n            }\n            else {\n                this.reset();\n            }\n        }\n        else {\n            this._time = t;\n            this.update();\n        }\n    }\n    getTime() {\n        return this._time;\n    }\n    setPosition(p) {\n        this.prevPos = this._pos;\n        this.propFunc(p);\n        this._pos = p;\n    }\n    getPosition(t) {\n        if (t === undefined) {\n            t = this._time;\n        }\n        return this.func(t, this.begin, this._change, this.duration);\n    }\n    play() {\n        this.state = PLAYING;\n        this._startTime = this.getTimer() - this._time;\n        this.onEnterFrame();\n        this.fire('onPlay');\n    }\n    reverse() {\n        this.state = REVERSING;\n        this._time = this.duration - this._time;\n        this._startTime = this.getTimer() - this._time;\n        this.onEnterFrame();\n        this.fire('onReverse');\n    }\n    seek(t) {\n        this.pause();\n        this._time = t;\n        this.update();\n        this.fire('onSeek');\n    }\n    reset() {\n        this.pause();\n        this._time = 0;\n        this.update();\n        this.fire('onReset');\n    }\n    finish() {\n        this.pause();\n        this._time = this.duration;\n        this.update();\n        this.fire('onFinish');\n    }\n    update() {\n        this.setPosition(this.getPosition(this._time));\n        this.fire('onUpdate');\n    }\n    onEnterFrame() {\n        var t = this.getTimer() - this._startTime;\n        if (this.state === PLAYING) {\n            this.setTime(t);\n        }\n        else if (this.state === REVERSING) {\n            this.setTime(this.duration - t);\n        }\n    }\n    pause() {\n        this.state = PAUSED;\n        this.fire('onPause');\n    }\n    getTimer() {\n        return new Date().getTime();\n    }\n}\nclass Tween {\n    constructor(config) {\n        var that = this, node = config.node, nodeId = node._id, duration, easing = config.easing || exports.Easings.Linear, yoyo = !!config.yoyo, key;\n        if (typeof config.duration === 'undefined') {\n            duration = 0.3;\n        }\n        else if (config.duration === 0) {\n            duration = 0.001;\n        }\n        else {\n            duration = config.duration;\n        }\n        this.node = node;\n        this._id = idCounter++;\n        var layers = node.getLayer() ||\n            (node instanceof Global_1.Konva['Stage'] ? node.getLayers() : null);\n        if (!layers) {\n            Util_1.Util.error('Tween constructor have `node` that is not in a layer. Please add node into layer first.');\n        }\n        this.anim = new Animation_1.Animation(function () {\n            that.tween.onEnterFrame();\n        }, layers);\n        this.tween = new TweenEngine(key, function (i) {\n            that._tweenFunc(i);\n        }, easing, 0, 1, duration * 1000, yoyo);\n        this._addListeners();\n        if (!Tween.attrs[nodeId]) {\n            Tween.attrs[nodeId] = {};\n        }\n        if (!Tween.attrs[nodeId][this._id]) {\n            Tween.attrs[nodeId][this._id] = {};\n        }\n        if (!Tween.tweens[nodeId]) {\n            Tween.tweens[nodeId] = {};\n        }\n        for (key in config) {\n            if (blacklist[key] === undefined) {\n                this._addAttr(key, config[key]);\n            }\n        }\n        this.reset();\n        this.onFinish = config.onFinish;\n        this.onReset = config.onReset;\n        this.onUpdate = config.onUpdate;\n    }\n    _addAttr(key, end) {\n        var node = this.node, nodeId = node._id, start, diff, tweenId, n, len, trueEnd, trueStart, endRGBA;\n        tweenId = Tween.tweens[nodeId][key];\n        if (tweenId) {\n            delete Tween.attrs[nodeId][tweenId][key];\n        }\n        start = node.getAttr(key);\n        if (Util_1.Util._isArray(end)) {\n            diff = [];\n            len = Math.max(end.length, start.length);\n            if (key === 'points' && end.length !== start.length) {\n                if (end.length > start.length) {\n                    trueStart = start;\n                    start = Util_1.Util._prepareArrayForTween(start, end, node.closed());\n                }\n                else {\n                    trueEnd = end;\n                    end = Util_1.Util._prepareArrayForTween(end, start, node.closed());\n                }\n            }\n            if (key.indexOf('fill') === 0) {\n                for (n = 0; n < len; n++) {\n                    if (n % 2 === 0) {\n                        diff.push(end[n] - start[n]);\n                    }\n                    else {\n                        var startRGBA = Util_1.Util.colorToRGBA(start[n]);\n                        endRGBA = Util_1.Util.colorToRGBA(end[n]);\n                        start[n] = startRGBA;\n                        diff.push({\n                            r: endRGBA.r - startRGBA.r,\n                            g: endRGBA.g - startRGBA.g,\n                            b: endRGBA.b - startRGBA.b,\n                            a: endRGBA.a - startRGBA.a,\n                        });\n                    }\n                }\n            }\n            else {\n                for (n = 0; n < len; n++) {\n                    diff.push(end[n] - start[n]);\n                }\n            }\n        }\n        else if (colorAttrs.indexOf(key) !== -1) {\n            start = Util_1.Util.colorToRGBA(start);\n            endRGBA = Util_1.Util.colorToRGBA(end);\n            diff = {\n                r: endRGBA.r - start.r,\n                g: endRGBA.g - start.g,\n                b: endRGBA.b - start.b,\n                a: endRGBA.a - start.a,\n            };\n        }\n        else {\n            diff = end - start;\n        }\n        Tween.attrs[nodeId][this._id][key] = {\n            start: start,\n            diff: diff,\n            end: end,\n            trueEnd: trueEnd,\n            trueStart: trueStart,\n        };\n        Tween.tweens[nodeId][key] = this._id;\n    }\n    _tweenFunc(i) {\n        var node = this.node, attrs = Tween.attrs[node._id][this._id], key, attr, start, diff, newVal, n, len, end;\n        for (key in attrs) {\n            attr = attrs[key];\n            start = attr.start;\n            diff = attr.diff;\n            end = attr.end;\n            if (Util_1.Util._isArray(start)) {\n                newVal = [];\n                len = Math.max(start.length, end.length);\n                if (key.indexOf('fill') === 0) {\n                    for (n = 0; n < len; n++) {\n                        if (n % 2 === 0) {\n                            newVal.push((start[n] || 0) + diff[n] * i);\n                        }\n                        else {\n                            newVal.push('rgba(' +\n                                Math.round(start[n].r + diff[n].r * i) +\n                                ',' +\n                                Math.round(start[n].g + diff[n].g * i) +\n                                ',' +\n                                Math.round(start[n].b + diff[n].b * i) +\n                                ',' +\n                                (start[n].a + diff[n].a * i) +\n                                ')');\n                        }\n                    }\n                }\n                else {\n                    for (n = 0; n < len; n++) {\n                        newVal.push((start[n] || 0) + diff[n] * i);\n                    }\n                }\n            }\n            else if (colorAttrs.indexOf(key) !== -1) {\n                newVal =\n                    'rgba(' +\n                        Math.round(start.r + diff.r * i) +\n                        ',' +\n                        Math.round(start.g + diff.g * i) +\n                        ',' +\n                        Math.round(start.b + diff.b * i) +\n                        ',' +\n                        (start.a + diff.a * i) +\n                        ')';\n            }\n            else {\n                newVal = start + diff * i;\n            }\n            node.setAttr(key, newVal);\n        }\n    }\n    _addListeners() {\n        this.tween.onPlay = () => {\n            this.anim.start();\n        };\n        this.tween.onReverse = () => {\n            this.anim.start();\n        };\n        this.tween.onPause = () => {\n            this.anim.stop();\n        };\n        this.tween.onFinish = () => {\n            var node = this.node;\n            var attrs = Tween.attrs[node._id][this._id];\n            if (attrs.points && attrs.points.trueEnd) {\n                node.setAttr('points', attrs.points.trueEnd);\n            }\n            if (this.onFinish) {\n                this.onFinish.call(this);\n            }\n        };\n        this.tween.onReset = () => {\n            var node = this.node;\n            var attrs = Tween.attrs[node._id][this._id];\n            if (attrs.points && attrs.points.trueStart) {\n                node.points(attrs.points.trueStart);\n            }\n            if (this.onReset) {\n                this.onReset();\n            }\n        };\n        this.tween.onUpdate = () => {\n            if (this.onUpdate) {\n                this.onUpdate.call(this);\n            }\n        };\n    }\n    play() {\n        this.tween.play();\n        return this;\n    }\n    reverse() {\n        this.tween.reverse();\n        return this;\n    }\n    reset() {\n        this.tween.reset();\n        return this;\n    }\n    seek(t) {\n        this.tween.seek(t * 1000);\n        return this;\n    }\n    pause() {\n        this.tween.pause();\n        return this;\n    }\n    finish() {\n        this.tween.finish();\n        return this;\n    }\n    destroy() {\n        var nodeId = this.node._id, thisId = this._id, attrs = Tween.tweens[nodeId], key;\n        this.pause();\n        for (key in attrs) {\n            delete Tween.tweens[nodeId][key];\n        }\n        delete Tween.attrs[nodeId][thisId];\n    }\n}\nexports.Tween = Tween;\nTween.attrs = {};\nTween.tweens = {};\nNode_1.Node.prototype.to = function (params) {\n    var onFinish = params.onFinish;\n    params.node = this;\n    params.onFinish = function () {\n        this.destroy();\n        if (onFinish) {\n            onFinish();\n        }\n    };\n    var tween = new Tween(params);\n    tween.play();\n};\nexports.Easings = {\n    BackEaseIn(t, b, c, d) {\n        var s = 1.70158;\n        return c * (t /= d) * t * ((s + 1) * t - s) + b;\n    },\n    BackEaseOut(t, b, c, d) {\n        var s = 1.70158;\n        return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n    },\n    BackEaseInOut(t, b, c, d) {\n        var s = 1.70158;\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n        }\n        return (c / 2) * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n    },\n    ElasticEaseIn(t, b, c, d, a, p) {\n        var s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d) === 1) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * 0.3;\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        return (-(a *\n            Math.pow(2, 10 * (t -= 1)) *\n            Math.sin(((t * d - s) * (2 * Math.PI)) / p)) + b);\n    },\n    ElasticEaseOut(t, b, c, d, a, p) {\n        var s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d) === 1) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * 0.3;\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        return (a * Math.pow(2, -10 * t) * Math.sin(((t * d - s) * (2 * Math.PI)) / p) +\n            c +\n            b);\n    },\n    ElasticEaseInOut(t, b, c, d, a, p) {\n        var s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d / 2) === 2) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * (0.3 * 1.5);\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        if (t < 1) {\n            return (-0.5 *\n                (a *\n                    Math.pow(2, 10 * (t -= 1)) *\n                    Math.sin(((t * d - s) * (2 * Math.PI)) / p)) +\n                b);\n        }\n        return (a *\n            Math.pow(2, -10 * (t -= 1)) *\n            Math.sin(((t * d - s) * (2 * Math.PI)) / p) *\n            0.5 +\n            c +\n            b);\n    },\n    BounceEaseOut(t, b, c, d) {\n        if ((t /= d) < 1 / 2.75) {\n            return c * (7.5625 * t * t) + b;\n        }\n        else if (t < 2 / 2.75) {\n            return c * (7.5625 * (t -= 1.5 / 2.75) * t + 0.75) + b;\n        }\n        else if (t < 2.5 / 2.75) {\n            return c * (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375) + b;\n        }\n        else {\n            return c * (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375) + b;\n        }\n    },\n    BounceEaseIn(t, b, c, d) {\n        return c - exports.Easings.BounceEaseOut(d - t, 0, c, d) + b;\n    },\n    BounceEaseInOut(t, b, c, d) {\n        if (t < d / 2) {\n            return exports.Easings.BounceEaseIn(t * 2, 0, c, d) * 0.5 + b;\n        }\n        else {\n            return exports.Easings.BounceEaseOut(t * 2 - d, 0, c, d) * 0.5 + c * 0.5 + b;\n        }\n    },\n    EaseIn(t, b, c, d) {\n        return c * (t /= d) * t + b;\n    },\n    EaseOut(t, b, c, d) {\n        return -c * (t /= d) * (t - 2) + b;\n    },\n    EaseInOut(t, b, c, d) {\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * t * t + b;\n        }\n        return (-c / 2) * (--t * (t - 2) - 1) + b;\n    },\n    StrongEaseIn(t, b, c, d) {\n        return c * (t /= d) * t * t * t * t + b;\n    },\n    StrongEaseOut(t, b, c, d) {\n        return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n    },\n    StrongEaseInOut(t, b, c, d) {\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * t * t * t * t * t + b;\n        }\n        return (c / 2) * ((t -= 2) * t * t * t * t + 2) + b;\n    },\n    Linear(t, b, c, d) {\n        return (c * t) / d + b;\n    },\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Konva = void 0;\nconst Global_1 = require(\"./Global\");\nconst Util_1 = require(\"./Util\");\nconst Node_1 = require(\"./Node\");\nconst Container_1 = require(\"./Container\");\nconst Stage_1 = require(\"./Stage\");\nconst Layer_1 = require(\"./Layer\");\nconst FastLayer_1 = require(\"./FastLayer\");\nconst Group_1 = require(\"./Group\");\nconst DragAndDrop_1 = require(\"./DragAndDrop\");\nconst Shape_1 = require(\"./Shape\");\nconst Animation_1 = require(\"./Animation\");\nconst Tween_1 = require(\"./Tween\");\nconst Context_1 = require(\"./Context\");\nconst Canvas_1 = require(\"./Canvas\");\nexports.Konva = Util_1.Util._assign(Global_1.Konva, {\n    Util: Util_1.Util,\n    Transform: Util_1.Transform,\n    Node: Node_1.Node,\n    Container: Container_1.Container,\n    Stage: Stage_1.Stage,\n    stages: Stage_1.stages,\n    Layer: Layer_1.Layer,\n    FastLayer: FastLayer_1.FastLayer,\n    Group: Group_1.Group,\n    DD: DragAndDrop_1.DD,\n    Shape: Shape_1.Shape,\n    shapes: Shape_1.shapes,\n    Animation: Animation_1.Animation,\n    Tween: Tween_1.Tween,\n    Easings: Tween_1.Easings,\n    Context: Context_1.Context,\n    Canvas: Canvas_1.Canvas,\n});\nexports.default = exports.Konva;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Konva = void 0;\nvar _CoreInternals_1 = require(\"./_CoreInternals\");\nObject.defineProperty(exports, \"Konva\", { enumerable: true, get: function () { return _CoreInternals_1.Konva; } });\nconst _CoreInternals_2 = require(\"./_CoreInternals\");\nmodule.exports = _CoreInternals_2.Konva;\n","import Konva from 'konva/lib/Core';\n\nfunction zeroPad(number, precision) {\n  number = number.toString();\n\n  while (number.length < precision) {\n    number = '0' + number;\n  }\n\n  return number;\n}\n\n/**\n * Returns a formatted time string.\n *\n * @param {Number} time The time to be formatted, in seconds.\n * @param {Number} precision Decimal places to which time is displayed\n * @returns {String}\n */\n\nexport function formatTime(time, precision) {\n  let result = [];\n\n  const fractionSeconds = Math.floor((time % 1) * Math.pow(10, precision));\n  const seconds = Math.floor(time);\n  const minutes = Math.floor(seconds / 60);\n  const hours = Math.floor(minutes / 60);\n\n  if (hours > 0) {\n    result.push(hours); // Hours\n  }\n  result.push(minutes % 60); // Mins\n  result.push(seconds % 60); // Seconds\n\n  for (let i = 0; i < result.length; i++) {\n    result[i] = zeroPad(result[i], 2);\n  }\n\n  result = result.join(':');\n\n  if (precision > 0) {\n    result += '.' + zeroPad(fractionSeconds, precision);\n  }\n\n  return result;\n}\n\n/**\n * Rounds the given value up to the nearest given multiple.\n *\n * @param {Number} value\n * @param {Number} multiple\n * @returns {Number}\n *\n * @example\n * roundUpToNearest(5.5, 3); // returns 6\n * roundUpToNearest(141.0, 10); // returns 150\n * roundUpToNearest(-5.5, 3); // returns -6\n */\n\nexport function roundUpToNearest(value, multiple) {\n  if (multiple === 0) {\n    return 0;\n  }\n\n  let multiplier = 1;\n\n  if (value < 0.0) {\n    multiplier = -1;\n    value = -value;\n  }\n\n  const roundedUp = Math.ceil(value);\n\n  return multiplier * (((roundedUp + multiple - 1) / multiple) | 0) * multiple;\n}\n\nexport function clamp(value, min, max) {\n  if (value < min) {\n    return min;\n  }\n  else if (value > max) {\n    return max;\n  }\n  else {\n    return value;\n  }\n}\n\nexport function objectHasProperty(object, field) {\n  return Object.prototype.hasOwnProperty.call(object, field);\n}\n\nexport function extend(to, from) {\n  for (const key in from) {\n    if (objectHasProperty(from, key)) {\n      to[key] = from[key];\n    }\n  }\n\n  return to;\n}\n\n/**\n * Checks whether the given array contains values in ascending order.\n *\n * @param {Array<Number>} array The array to test\n * @returns {Boolean}\n */\n\nexport function isInAscendingOrder(array) {\n  if (array.length === 0) {\n    return true;\n  }\n\n  let value = array[0];\n\n  for (let i = 1; i < array.length; i++) {\n    if (value >= array[i]) {\n      return false;\n    }\n\n    value = array[i];\n  }\n\n  return true;\n}\n\n/**\n * Checks whether the given value is a number.\n *\n * @param {Number} value The value to test\n * @returns {Boolean}\n */\n\nexport function isNumber(value) {\n  return typeof value === 'number';\n}\n\n/**\n * Checks whether the given value is a finite number.\n *\n * @param {Number} value The value to test\n * @returns {Boolean}\n */\n\nexport function isFinite(value) {\n  if (typeof value !== 'number') {\n    return false;\n  }\n\n  // Check for NaN and infinity\n  // eslint-disable-next-line no-self-compare\n  if (value !== value || value === Infinity || value === -Infinity) {\n    return false;\n  }\n\n  return true;\n}\n\n/**\n * Checks whether the given value is a valid timestamp.\n *\n * @param {Number} value The value to test\n * @returns {Boolean}\n */\n\nexport function isValidTime(value) {\n  return (typeof value === 'number') && Number.isFinite(value);\n}\n\n/**\n * Checks whether the given value is a valid object.\n *\n * @param {Object|Array} value The value to test\n * @returns {Boolean}\n */\n\nexport function isObject(value) {\n  return (value !== null) && (typeof value === 'object')\n    && !Array.isArray(value);\n}\n\n/**\n * Checks whether the given value is a valid string.\n *\n * @param {String} value The value to test\n * @returns {Boolean}\n */\n\nexport function isString(value) {\n  return typeof value === 'string';\n}\n\n/**\n * Checks whether the given value is a valid ArrayBuffer.\n *\n * @param {ArrayBuffer} value The value to test\n * @returns {Boolean}\n */\n\nexport function isArrayBuffer(value) {\n  return Object.prototype.toString.call(value).includes('ArrayBuffer');\n}\n\n/**\n * Checks whether the given value is null or undefined.\n *\n * @param {Object} value The value to test\n * @returns {Boolean}\n */\n\nexport function isNullOrUndefined(value) {\n  return value === undefined || value === null;\n}\n\n/**\n * Checks whether the given value is a function.\n *\n * @param {Function} value The value to test\n * @returns {Boolean}\n */\n\nexport function isFunction(value) {\n  return typeof value === 'function';\n}\n\n/**\n * Checks whether the given value is a boolean.\n *\n * @param {Function} value The value to test\n * @returns {Boolean}\n */\n\nexport function isBoolean(value) {\n  return value === true || value === false;\n}\n\n/**\n * Checks whether the given value is a valid HTML element.\n *\n * @param {HTMLElement} value The value to test\n * @returns {Boolean}\n */\n\nexport function isHTMLElement(value) {\n  return value instanceof HTMLElement;\n}\n\n/**\n * Checks whether the given value is an array\n *\n * @param {Function} value The value to test\n * @returns {Boolean}\n */\n\nexport function isArray(value) {\n  return Array.isArray(value);\n}\n\n/**\n * Checks whether the given value is a valid linear gradient color\n *\n * @param {Function} value The value to test\n * @returns {Boolean}\n */\n\nexport function isLinearGradientColor(value) {\n  return isObject(value) &&\n    objectHasProperty(value, 'linearGradientStart') &&\n    objectHasProperty(value, 'linearGradientEnd') &&\n    objectHasProperty(value, 'linearGradientColorStops') &&\n    isNumber(value.linearGradientStart) &&\n    isNumber(value.linearGradientEnd) &&\n    isArray(value.linearGradientColorStops) &&\n    value.linearGradientColorStops.length === 2;\n}\n\nexport function getMarkerObject(obj) {\n  while (obj.parent !== null) {\n    if (obj.parent instanceof Konva.Layer) {\n      return obj;\n    }\n\n    obj = obj.parent;\n  }\n\n  return null;\n}\n","/**\n * @file\n *\n * Defines the {@link CueEmitter} class.\n *\n * @module cue-emitter\n */\n\nimport Cue from './cue';\nimport { objectHasProperty } from './utils';\n\nconst isHeadless = /HeadlessChrome/.test(navigator.userAgent);\n\nfunction windowIsVisible() {\n  if (isHeadless || navigator.webdriver) {\n    return false;\n  }\n\n  return (typeof document === 'object') &&\n    ('visibilityState' in document) &&\n    (document.visibilityState === 'visible');\n}\n\nconst requestAnimationFrame =\n  window.requestAnimationFrame ||\n  window.mozRequestAnimationFrame ||\n  window.webkitRequestAnimationFrame ||\n  window.msRequestAnimationFrame;\n\nconst cancelAnimationFrame =\n  window.cancelAnimationFrame ||\n  window.mozCancelAnimationFrame ||\n  window.webkitCancelAnimationFrame ||\n  window.msCancelAnimationFrame;\n\nconst eventTypes = {\n  forward: {},\n  reverse: {}\n};\n\nconst EVENT_TYPE_POINT = 0;\nconst EVENT_TYPE_SEGMENT_ENTER = 1;\nconst EVENT_TYPE_SEGMENT_EXIT = 2;\n\neventTypes.forward[Cue.POINT] = EVENT_TYPE_POINT;\neventTypes.forward[Cue.SEGMENT_START] = EVENT_TYPE_SEGMENT_ENTER;\neventTypes.forward[Cue.SEGMENT_END] = EVENT_TYPE_SEGMENT_EXIT;\n\neventTypes.reverse[Cue.POINT] = EVENT_TYPE_POINT;\neventTypes.reverse[Cue.SEGMENT_START] = EVENT_TYPE_SEGMENT_EXIT;\neventTypes.reverse[Cue.SEGMENT_END] = EVENT_TYPE_SEGMENT_ENTER;\n\nconst eventNames = {};\n\neventNames[EVENT_TYPE_POINT] = 'points.enter';\neventNames[EVENT_TYPE_SEGMENT_ENTER] = 'segments.enter';\neventNames[EVENT_TYPE_SEGMENT_EXIT] = 'segments.exit';\n\nconst eventAttributes = {};\n\neventAttributes[EVENT_TYPE_POINT] = 'point';\neventAttributes[EVENT_TYPE_SEGMENT_ENTER] = 'segment';\neventAttributes[EVENT_TYPE_SEGMENT_EXIT] = 'segment';\n\n/**\n * Given a cue instance, returns the corresponding {@link Point}\n * {@link Segment}.\n *\n * @param {Peaks} peaks\n * @param {Cue} cue\n * @return {Point|Segment}\n * @throws {Error}\n */\n\nfunction getPointOrSegment(peaks, cue) {\n  switch (cue.type) {\n    case Cue.POINT:\n      return peaks.points.getPoint(cue.id);\n\n    case Cue.SEGMENT_START:\n    case Cue.SEGMENT_END:\n      return peaks.segments.getSegment(cue.id);\n\n    default:\n      throw new Error('getPointOrSegment: id not found?');\n  }\n}\n\n/**\n * CueEmitter is responsible for emitting <code>points.enter</code>,\n * <code>segments.enter</code>, and <code>segments.exit</code> events.\n *\n * @class\n * @alias CueEmitter\n *\n * @param {Peaks} peaks Parent {@link Peaks} instance.\n */\n\nfunction CueEmitter(peaks) {\n  this._cues = [];\n  this._peaks = peaks;\n  this._previousTime = -1;\n  this._updateCues = this._updateCues.bind(this);\n  this._onPlaying = this._onPlaying.bind(this);\n  this._onSeeked = this._onSeeked.bind(this);\n  this._onTimeUpdate = this._onTimeUpdate.bind(this);\n  this._onAnimationFrame = this._onAnimationFrame.bind(this);\n  this._rAFHandle = null;\n  this._activeSegments = {};\n  this._attachEventHandlers();\n}\n\n/**\n * This function is bound to all {@link Peaks} events relating to mutated\n * [Points]{@link Point} or [Segments]{@link Segment}, and updates the\n * list of cues accordingly.\n *\n * @private\n */\n\nCueEmitter.prototype._updateCues = function() {\n  const self = this;\n\n  const points = self._peaks.points.getPoints();\n  const segments = self._peaks.segments.getSegments();\n\n  self._cues.length = 0;\n\n  points.forEach(function(point) {\n    self._cues.push(new Cue(point.time, Cue.POINT, point.id));\n  });\n\n  segments.forEach(function(segment) {\n    self._cues.push(new Cue(segment.startTime, Cue.SEGMENT_START, segment.id));\n    self._cues.push(new Cue(segment.endTime, Cue.SEGMENT_END, segment.id));\n  });\n\n  self._cues.sort(Cue.sorter);\n\n  const time = self._peaks.player.getCurrentTime();\n\n  self._updateActiveSegments(time);\n};\n\n/**\n * Emits events for any cues passed through during media playback.\n *\n * @param {Number} time The current time on the media timeline.\n * @param {Number} previousTime The previous time on the media timeline when\n *   this function was called.\n */\n\nCueEmitter.prototype._onUpdate = function(time, previousTime) {\n  const isForward = time > previousTime;\n  let start;\n  let end;\n  let step;\n\n  if (isForward) {\n    start = 0;\n    end = this._cues.length;\n    step = 1;\n  }\n  else {\n    start = this._cues.length - 1;\n    end = -1;\n    step = -1;\n  }\n\n  // Cues are sorted.\n\n  for (let i = start; isForward ? i < end : i > end; i += step) {\n    const cue = this._cues[i];\n\n    if (isForward ? cue.time > previousTime : cue.time < previousTime) {\n      if (isForward ? cue.time > time : cue.time < time) {\n        break;\n      }\n\n      // Cue falls between time and previousTime.\n\n      const marker = getPointOrSegment(this._peaks, cue);\n\n      const eventType = isForward ? eventTypes.forward[cue.type] :\n                                    eventTypes.reverse[cue.type];\n\n      if (eventType === EVENT_TYPE_SEGMENT_ENTER) {\n        this._activeSegments[marker.id] = marker;\n      }\n      else if (eventType === EVENT_TYPE_SEGMENT_EXIT) {\n        delete this._activeSegments[marker.id];\n      }\n\n      const event = {\n        time: time\n      };\n\n      event[eventAttributes[eventType]] = marker;\n\n      this._peaks.emit(eventNames[eventType], event);\n    }\n  }\n};\n\n// The next handler and onAnimationFrame are bound together\n// when the window isn't in focus, rAF is throttled\n// falling back to timeUpdate.\n\nCueEmitter.prototype._onTimeUpdate = function(time) {\n  if (windowIsVisible()) {\n    return;\n  }\n\n  if (this._peaks.player.isPlaying() && !this._peaks.player.isSeeking()) {\n    this._onUpdate(time, this._previousTime);\n  }\n\n  this._previousTime = time;\n};\n\nCueEmitter.prototype._onAnimationFrame = function() {\n  const time = this._peaks.player.getCurrentTime();\n\n  if (!this._peaks.player.isSeeking()) {\n    this._onUpdate(time, this._previousTime);\n  }\n\n  this._previousTime = time;\n\n  if (this._peaks.player.isPlaying()) {\n    this._rAFHandle = requestAnimationFrame(this._onAnimationFrame);\n  }\n};\n\nCueEmitter.prototype._onPlaying = function() {\n  this._previousTime = this._peaks.player.getCurrentTime();\n  this._rAFHandle = requestAnimationFrame(this._onAnimationFrame);\n};\n\nCueEmitter.prototype._onSeeked = function(time) {\n  this._previousTime = time;\n\n  this._updateActiveSegments(time);\n};\n\nfunction getSegmentIdComparator(id) {\n  return function compareSegmentIds(segment) {\n    return segment.id === id;\n  };\n}\n\n/**\n * The active segments is the set of all segments which overlap the current\n * playhead position. This function updates that set and emits\n * <code>segments.enter</code> and <code>segments.exit</code> events.\n */\n\nCueEmitter.prototype._updateActiveSegments = function(time) {\n  const self = this;\n\n  const activeSegments = self._peaks.segments.getSegmentsAtTime(time);\n\n  // Remove any segments no longer active.\n\n  for (const id in self._activeSegments) {\n    if (objectHasProperty(self._activeSegments, id)) {\n      const segment = activeSegments.find(getSegmentIdComparator(id));\n\n      if (!segment) {\n        self._peaks.emit('segments.exit', {\n          segment: self._activeSegments[id],\n          time: time\n        });\n\n        delete self._activeSegments[id];\n      }\n    }\n  }\n\n  // Add new active segments.\n\n  activeSegments.forEach(function(segment) {\n    if (!(segment.id in self._activeSegments)) {\n      self._activeSegments[segment.id] = segment;\n\n      self._peaks.emit('segments.enter', {\n        segment: segment,\n        time: time\n      });\n    }\n  });\n};\n\nconst events = [\n  'points.update',\n  'points.dragmove',\n  'points.add',\n  'points.remove',\n  'points.remove_all',\n  'segments.update',\n  'segments.dragged',\n  'segments.add',\n  'segments.remove',\n  'segments.remove_all'\n];\n\nCueEmitter.prototype._attachEventHandlers = function() {\n  this._peaks.on('player.timeupdate', this._onTimeUpdate);\n  this._peaks.on('player.playing', this._onPlaying);\n  this._peaks.on('player.seeked', this._onSeeked);\n\n  for (let i = 0; i < events.length; i++) {\n    this._peaks.on(events[i], this._updateCues);\n  }\n\n  this._updateCues();\n};\n\nCueEmitter.prototype._detachEventHandlers = function() {\n  this._peaks.off('player.timeupdate', this._onTimeUpdate);\n  this._peaks.off('player.playing', this._onPlaying);\n  this._peaks.off('player.seeked', this._onSeeked);\n\n  for (let i = 0; i < events.length; i++) {\n    this._peaks.off(events[i], this._updateCues);\n  }\n};\n\nCueEmitter.prototype.destroy = function() {\n  if (this._rAFHandle) {\n    cancelAnimationFrame(this._rAFHandle);\n    this._rAFHandle = null;\n  }\n\n  this._detachEventHandlers();\n\n  this._previousTime = -1;\n};\n\nexport default CueEmitter;\n","/**\n * @file\n *\n * Defines the {@link Point} class.\n *\n * @module point\n */\n\nimport {\n  isBoolean, isLinearGradientColor, isNullOrUndefined, isString,\n  isValidTime, objectHasProperty\n} from './utils';\n\nconst pointOptions = [\n  'id', 'pid', 'time', 'labelText', 'color', 'editable'\n];\n\nconst invalidOptions = [\n  'update', 'isVisible', 'peaks', 'pid'\n];\n\nfunction setDefaultPointOptions(options, peaksOptions) {\n  if (isNullOrUndefined(options.labelText)) {\n    options.labelText = '';\n  }\n\n  if (isNullOrUndefined(options.editable)) {\n    options.editable = false;\n  }\n\n  if (isNullOrUndefined(options.color)) {\n    options.color = peaksOptions.pointMarkerColor;\n  }\n}\n\nfunction validatePointOptions(options, updating) {\n  const context = updating ? 'update()' : 'add()';\n\n  if (!updating || (updating && objectHasProperty(options, 'time'))) {\n    if (!isValidTime(options.time)) {\n      // eslint-disable-next-line max-len\n      throw new TypeError('peaks.points.' + context + ': time should be a numeric value');\n    }\n  }\n\n  if (options.time < 0) {\n    // eslint-disable-next-line max-len\n    throw new RangeError('peaks.points.' + context + ': time should not be negative');\n  }\n\n  if (objectHasProperty(options, 'labelText') && !isString(options.labelText)) {\n    throw new TypeError('peaks.points.' + context + ': labelText must be a string');\n  }\n\n  if (objectHasProperty(options, 'editable') && !isBoolean(options.editable)) {\n    throw new TypeError('peaks.points.' + context + ': editable must be true or false');\n  }\n\n  if (objectHasProperty(options, 'color') &&\n    !isString(options.color) &&\n    !isLinearGradientColor(options.color)) {\n    // eslint-disable-next-line max-len\n    throw new TypeError('peaks.points.' + context + ': color must be a string or a valid linear gradient object');\n  }\n\n  invalidOptions.forEach(function(name) {\n    if (objectHasProperty(options, name)) {\n      throw new Error('peaks.points.' + context + ': invalid option name: ' + name);\n    }\n  });\n\n  pointOptions.forEach(function(name) {\n    if (objectHasProperty(options, '_' + name)) {\n      throw new Error('peaks.points.' + context + ': invalid option name: _' + name);\n    }\n  });\n}\n\n/**\n * A point is a single instant of time, with associated label and color.\n *\n * @class\n * @alias Point\n *\n * @param {Peaks} peaks A reference to the Peaks instance.\n * @param {Number} pid An internal unique identifier for the point.\n * @param {PointOptions} options User specified point attributes.\n */\n\nfunction Point(peaks, pid, options) {\n  this._peaks = peaks;\n  this._pid = pid;\n  this._setUserData(options);\n}\n\nPoint.prototype._setUserData = function(options) {\n  for (const key in options) {\n    if (objectHasProperty(options, key)) {\n      if (pointOptions.indexOf(key) === -1) {\n        this[key] = options[key];\n      }\n      else {\n        this['_' + key] = options[key];\n      }\n    }\n  }\n};\n\nObject.defineProperties(Point.prototype, {\n  id: {\n    enumerable: true,\n    get: function() {\n      return this._id;\n    }\n  },\n  pid: {\n    enumerable: true,\n    get: function() {\n      return this._pid;\n    }\n  },\n  time: {\n    enumerable: true,\n    get: function() {\n      return this._time;\n    }\n  },\n  labelText: {\n    get: function() {\n      return this._labelText;\n    }\n  },\n  color: {\n    enumerable: true,\n    get: function() {\n      return this._color;\n    }\n  },\n  editable: {\n    enumerable: true,\n    get: function() {\n      return this._editable;\n    }\n  }\n});\n\nPoint.prototype.update = function(options) {\n  validatePointOptions(options, true);\n\n  if (objectHasProperty(options, 'id')) {\n    if (isNullOrUndefined(options.id)) {\n      throw new TypeError('point.update(): invalid id');\n    }\n\n    this._peaks.points.updatePointId(this, options.id);\n  }\n\n  this._setUserData(options);\n\n  this._peaks.emit('points.update', this, options);\n};\n\n/**\n * Returns <code>true</code> if the point lies with in a given time range.\n *\n * @param {Number} startTime The start of the time region, in seconds.\n * @param {Number} endTime The end of the time region, in seconds.\n * @returns {Boolean}\n */\n\nPoint.prototype.isVisible = function(startTime, endTime) {\n  return this.time >= startTime && this.time < endTime;\n};\n\nPoint.prototype._setTime = function(time) {\n  this._time = time;\n};\n\nexport { Point, setDefaultPointOptions, validatePointOptions };\n","/**\n * @file\n *\n * Defines the {@link WaveformPoints} class.\n *\n * @module waveform-points\n */\n\nimport { Point, setDefaultPointOptions, validatePointOptions } from './point';\nimport { extend, isNullOrUndefined, objectHasProperty } from './utils';\n\n/**\n * Point parameters.\n *\n * @typedef {Object} PointOptions\n * @global\n * @property {Number} time Point time, in seconds.\n * @property {Boolean=} editable If <code>true</code> the point time can be\n *   adjusted via the user interface.\n *   Default: <code>false</code>.\n * @property {String=} color Point marker color.\n *   Default: a random color.\n * @property {String=} labelText Point label text.\n *   Default: an empty string.\n * @property {String=} id A unique point identifier.\n *   Default: an automatically generated identifier.\n * @property {*} data Optional application-specific data.\n */\n\n/**\n * Handles all functionality related to the adding, removing and manipulation\n * of points. A point is a single instant of time.\n *\n * @class\n * @alias WaveformPoints\n *\n * @param {Peaks} peaks The parent Peaks object.\n */\n\nfunction WaveformPoints(peaks) {\n  this._peaks = peaks;\n  this._points = [];\n  this._pointsById = {};\n  this._pointsByPid = {};\n  this._pointIdCounter = 0;\n  this._pointPid = 0;\n}\n\n/**\n * Returns a new unique point id value.\n *\n * @returns {String}\n */\n\nWaveformPoints.prototype._getNextPointId = function() {\n  return 'peaks.point.' + this._pointIdCounter++;\n};\n\n/**\n * Returns a new unique point id value, for internal use within\n * Peaks.js only.\n *\n * @returns {Number}\n */\n\nWaveformPoints.prototype._getNextPid = function() {\n  return this._pointPid++;\n};\n\n/**\n * Adds a new point object.\n *\n * @private\n * @param {Point} point\n */\n\nWaveformPoints.prototype._addPoint = function(point) {\n  this._points.push(point);\n\n  this._pointsById[point.id] = point;\n  this._pointsByPid[point.pid] = point;\n};\n\n/**\n * Creates a new point object.\n *\n * @private\n * @param {PointOptions} options\n * @returns {Point}\n */\n\nWaveformPoints.prototype._createPoint = function(options) {\n  const pointOptions = {};\n\n  extend(pointOptions, options);\n\n  if (isNullOrUndefined(pointOptions.id)) {\n    pointOptions.id = this._getNextPointId();\n  }\n\n  const pid = this._getNextPid();\n\n  setDefaultPointOptions(pointOptions, this._peaks.options);\n\n  validatePointOptions(pointOptions, false);\n\n  return new Point(this._peaks, pid, pointOptions);\n};\n\n/**\n * Returns all points.\n *\n * @returns {Array<Point>}\n */\n\nWaveformPoints.prototype.getPoints = function() {\n  return this._points;\n};\n\n/**\n * Returns the point with the given id, or <code>undefined</code> if not found.\n *\n * @param {String} id\n * @returns {Point}\n */\n\nWaveformPoints.prototype.getPoint = function(id) {\n  return this._pointsById[id];\n};\n\n/**\n * Returns all points within a given time region.\n *\n * @param {Number} startTime The start of the time region, in seconds.\n * @param {Number} endTime The end of the time region, in seconds.\n * @returns {Array<Point>}\n */\n\nWaveformPoints.prototype.find = function(startTime, endTime) {\n  return this._points.filter(function(point) {\n    return point.isVisible(startTime, endTime);\n  });\n};\n\n/**\n * Adds one or more points to the timeline.\n *\n * @param {PointOptions|Array<PointOptions>} pointOrPoints\n *\n * @returns Point|Array<Point>\n */\n\nWaveformPoints.prototype.add = function(/* pointOrPoints */) {\n  const self = this;\n\n  const arrayArgs = Array.isArray(arguments[0]);\n  let points = arrayArgs ?\n               arguments[0] :\n               Array.prototype.slice.call(arguments);\n\n  points = points.map(function(pointOptions) {\n    const point = self._createPoint(pointOptions);\n\n    if (objectHasProperty(self._pointsById, point.id)) {\n      throw new Error('peaks.points.add(): duplicate id');\n    }\n\n    return point;\n  });\n\n  points.forEach(function(point) {\n    self._addPoint(point);\n  });\n\n  this._peaks.emit('points.add', {\n    points: points\n  });\n\n  return arrayArgs ? points : points[0];\n};\n\nWaveformPoints.prototype.updatePointId = function(point, newPointId) {\n  if (this._pointsById[point.id]) {\n    if (this._pointsById[newPointId]) {\n      throw new Error('point.update(): duplicate id');\n    }\n    else {\n      delete this._pointsById[point.id];\n      this._pointsById[newPointId] = point;\n    }\n  }\n};\n\n/**\n * Returns the indexes of points that match the given predicate.\n *\n * @private\n * @param {Function} predicate Predicate function to find matching points.\n * @returns {Array<Number>} An array of indexes into the points array of\n *   the matching elements.\n */\n\nWaveformPoints.prototype._findPoint = function(predicate) {\n  const indexes = [];\n\n  for (let i = 0, length = this._points.length; i < length; i++) {\n    if (predicate(this._points[i])) {\n      indexes.push(i);\n    }\n  }\n\n  return indexes;\n};\n\n/**\n * Removes the points at the given array indexes.\n *\n * @private\n * @param {Array<Number>} indexes The array indexes to remove.\n * @returns {Array<Point>} The removed {@link Point} objects.\n */\n\nWaveformPoints.prototype._removeIndexes = function(indexes) {\n  const removed = [];\n\n  for (let i = 0; i < indexes.length; i++) {\n    const index = indexes[i] - removed.length;\n\n    const itemRemoved = this._points.splice(index, 1)[0];\n\n    delete this._pointsById[itemRemoved.id];\n    delete this._pointsByPid[itemRemoved.pid];\n\n    removed.push(itemRemoved);\n  }\n\n  return removed;\n};\n\n/**\n * Removes all points that match a given predicate function.\n *\n * After removing the points, this function emits a\n * <code>points.remove</code> event with the removed {@link Point}\n * objects.\n *\n * @private\n * @param {Function} predicate A predicate function that identifies which\n *   points to remove.\n * @returns {Array<Point>} The removed {@link Points} objects.\n */\n\nWaveformPoints.prototype._removePoints = function(predicate) {\n  const indexes = this._findPoint(predicate);\n\n  const removed = this._removeIndexes(indexes);\n\n  this._peaks.emit('points.remove', {\n    points: removed\n  });\n\n  return removed;\n};\n\n/**\n * Removes the given point.\n *\n * @param {Point} point The point to remove.\n * @returns {Array<Point>} The removed points.\n */\n\nWaveformPoints.prototype.remove = function(point) {\n  return this._removePoints(function(p) {\n    return p === point;\n  });\n};\n\n/**\n * Removes any points with the given id.\n *\n * @param {String} id\n * @returns {Array<Point>} The removed {@link Point} objects.\n */\n\nWaveformPoints.prototype.removeById = function(pointId) {\n  return this._removePoints(function(point) {\n    return point.id === pointId;\n  });\n};\n\n/**\n * Removes any points at the given time.\n *\n * @param {Number} time\n * @returns {Array<Point>} The removed {@link Point} objects.\n */\n\nWaveformPoints.prototype.removeByTime = function(time) {\n  return this._removePoints(function(point) {\n    return point.time === time;\n  });\n};\n\n/**\n * Removes all points.\n *\n * After removing the points, this function emits a\n * <code>points.remove_all</code> event.\n */\n\nWaveformPoints.prototype.removeAll = function() {\n  this._points = [];\n  this._pointsById = {};\n  this._pointsByPid = {};\n  this._peaks.emit('points.remove_all');\n};\n\nexport default WaveformPoints;\n","/**\n * @file\n *\n * Defines the {@link Segment} class.\n *\n * @module segment\n */\n\nimport {\n  isBoolean, isNullOrUndefined, isLinearGradientColor,\n  isString, isValidTime, objectHasProperty\n} from './utils';\n\nconst segmentOptions = [\n  'id', 'pid', 'startTime', 'endTime', 'labelText', 'color', 'borderColor', 'editable'\n];\n\nconst invalidOptions = [\n  'update', 'isVisible', 'peaks', 'pid'\n];\n\nfunction setDefaultSegmentOptions(options, globalSegmentOptions) {\n  if (isNullOrUndefined(options.color)) {\n    if (globalSegmentOptions.overlay) {\n      options.color = globalSegmentOptions.overlayColor;\n    }\n    else {\n      options.color = globalSegmentOptions.waveformColor;\n    }\n  }\n\n  if (isNullOrUndefined(options.borderColor)) {\n    options.borderColor = globalSegmentOptions.overlayBorderColor;\n  }\n\n  if (isNullOrUndefined(options.labelText)) {\n    options.labelText = '';\n  }\n\n  if (isNullOrUndefined(options.editable)) {\n    options.editable = false;\n  }\n}\n\nfunction validateSegmentOptions(options, updating) {\n  const context = updating ? 'update()' : 'add()';\n\n  if (objectHasProperty(options, 'startTime') && !isValidTime(options.startTime)) {\n    // eslint-disable-next-line max-len\n    throw new TypeError('peaks.segments.' + context + ': startTime should be a valid number');\n  }\n\n  if (objectHasProperty(options, 'endTime') && !isValidTime(options.endTime)) {\n    // eslint-disable-next-line max-len\n    throw new TypeError('peaks.segments.' + context + ': endTime should be a valid number');\n  }\n\n  if (!updating) {\n    if (!objectHasProperty(options, 'startTime') || !objectHasProperty(options, 'endTime')) {\n      throw new TypeError('peaks.segments.' + context + ': missing startTime or endTime');\n    }\n  }\n\n  if (options.startTime < 0) {\n    // eslint-disable-next-line max-len\n    throw new RangeError('peaks.segments.' + context + ': startTime should not be negative');\n  }\n\n  if (options.endTime < 0) {\n    // eslint-disable-next-line max-len\n    throw new RangeError('peaks.segments.' + context + ': endTime should not be negative');\n  }\n\n  if (options.endTime < options.startTime) {\n    // eslint-disable-next-line max-len\n    throw new RangeError('peaks.segments.' + context + ': endTime should not be less than startTime');\n  }\n\n  if (objectHasProperty(options, 'labelText') && !isString(options.labelText)) {\n    throw new TypeError('peaks.segments.' + context + ': labelText must be a string');\n  }\n\n  if (objectHasProperty(options, 'editable') && !isBoolean(options.editable)) {\n    throw new TypeError('peaks.segments.' + context + ': editable must be true or false');\n  }\n\n  if (objectHasProperty(options, 'color') &&\n    !isString(options.color) &&\n    !isLinearGradientColor(options.color)) {\n    // eslint-disable-next-line max-len\n    throw new TypeError('peaks.segments.' + context + ': color must be a string or a valid linear gradient object');\n  }\n\n  if (objectHasProperty(options, 'borderColor') && !isString(options.borderColor)) {\n    // eslint-disable-next-line max-len\n    throw new TypeError('peaks.segments.' + context + ': borderColor must be a string');\n  }\n\n  invalidOptions.forEach(function(name) {\n    if (objectHasProperty(options, name)) {\n      throw new Error('peaks.segments.' + context + ': invalid option name: ' + name);\n    }\n  });\n\n  segmentOptions.forEach(function(name) {\n    if (objectHasProperty(options, '_' + name)) {\n      throw new Error('peaks.segments.' + context + ': invalid option name: _' + name);\n    }\n  });\n}\n\n/**\n * A segment is a region of time, with associated label and color.\n *\n * @class\n * @alias Segment\n *\n * @param {Peaks} peaks A reference to the Peaks instance.\n * @param {Number} pid An internal unique identifier for the segment.\n * @param {SegmentOptions} options User specified segment attributes.\n */\n\nfunction Segment(peaks, pid, options) {\n  this._peaks       = peaks;\n  this._pid         = pid;\n  this._id          = options.id;\n  this._startTime   = options.startTime;\n  this._endTime     = options.endTime;\n  this._labelText   = options.labelText;\n  this._color       = options.color;\n  this._borderColor = options.borderColor;\n  this._editable    = options.editable;\n\n  this._setUserData(options);\n}\n\nSegment.prototype._setUserData = function(options) {\n  for (const key in options) {\n    if (objectHasProperty(options, key)) {\n      if (segmentOptions.indexOf(key) === -1) {\n        this[key] = options[key];\n      }\n      else {\n        this['_' + key] = options[key];\n      }\n    }\n  }\n};\n\nObject.defineProperties(Segment.prototype, {\n  id: {\n    enumerable: true,\n    get: function() {\n      return this._id;\n    }\n  },\n  pid: {\n    enumerable: true,\n    get: function() {\n      return this._pid;\n    }\n  },\n  startTime: {\n    enumerable: true,\n    get: function() {\n      return this._startTime;\n    }\n  },\n  endTime: {\n    enumerable: true,\n    get: function() {\n      return this._endTime;\n    }\n  },\n  labelText: {\n    enumerable: true,\n    get: function() {\n      return this._labelText;\n    }\n  },\n  color: {\n    enumerable: true,\n    get: function() {\n      return this._color;\n    }\n  },\n  borderColor: {\n    enumerable: true,\n    get: function() {\n      return this._borderColor;\n    }\n  },\n  editable: {\n    enumerable: true,\n    get: function() {\n      return this._editable;\n    }\n  }\n});\n\nSegment.prototype.update = function(options) {\n  validateSegmentOptions(options, true);\n\n  if (objectHasProperty(options, 'id')) {\n    if (isNullOrUndefined(options.id)) {\n      throw new TypeError('segment.update(): invalid id');\n    }\n\n    this._peaks.segments.updateSegmentId(this, options.id);\n  }\n\n  this._setUserData(options);\n\n  this._peaks.emit('segments.update', this, options);\n};\n\n/**\n * Returns <code>true</code> if the segment overlaps a given time region.\n *\n * @param {Number} startTime The start of the time region, in seconds.\n * @param {Number} endTime The end of the time region, in seconds.\n * @returns {Boolean}\n *\n * @see http://wiki.c2.com/?TestIfDateRangesOverlap\n */\n\nSegment.prototype.isVisible = function(startTime, endTime) {\n  return this.startTime < endTime && startTime < this.endTime;\n};\n\nSegment.prototype._setStartTime = function(time) {\n  this._startTime = time;\n};\n\nSegment.prototype._setEndTime = function(time) {\n  this._endTime = time;\n};\n\nexport { Segment, setDefaultSegmentOptions, validateSegmentOptions };\n","/**\n * @file\n *\n * Defines the {@link WaveformSegments} class.\n *\n * @module waveform-segments\n */\n\nimport { Segment, setDefaultSegmentOptions, validateSegmentOptions } from './segment';\nimport { extend, isNullOrUndefined, objectHasProperty } from './utils';\n\n/**\n * Segment parameters.\n *\n * @typedef {Object} SegmentOptions\n * @global\n * @property {Number} startTime Segment start time, in seconds.\n * @property {Number} endTime Segment end time, in seconds.\n * @property {Boolean=} editable If <code>true</code> the segment start and\n *   end times can be adjusted via the user interface.\n *   Default: <code>false</code>.\n * @property {String=} color Segment waveform color.\n *   Default: Set by the <code>segmentOptions.waveformColor</code> option\n *   or the <code>segmentOptions.overlayColor</code> option.\n * @property {String=} borderColor Segment border color.\n *   Default: Set by the <code>segmentOptions.overlayBorderColor</code> option.\n * @property {String=} labelText Segment label text.\n *   Default: an empty string.\n * @property {String=} id A unique segment identifier.\n *   Default: an automatically generated identifier.\n * @property {*} data Optional application specific data.\n */\n\n/**\n * Handles all functionality related to the adding, removing and manipulation\n * of segments.\n *\n * @class\n * @alias WaveformSegments\n *\n * @param {Peaks} peaks The parent Peaks object.\n */\n\nfunction WaveformSegments(peaks) {\n  this._peaks = peaks;\n  this._segments = [];\n  this._segmentsById = {};\n  this._segmentsByPid = {};\n  this._segmentIdCounter = 0;\n  this._segmentPid = 0;\n  this._isInserting = false;\n}\n\n/**\n * Returns a new unique segment id value.\n *\n * @private\n * @returns {String}\n */\n\nWaveformSegments.prototype._getNextSegmentId = function() {\n  return 'peaks.segment.' + this._segmentIdCounter++;\n};\n\n/**\n * Returns a new unique segment id value, for internal use within\n * Peaks.js only.\n *\n * @private\n * @returns {Number}\n */\n\nWaveformSegments.prototype._getNextPid = function() {\n  return this._segmentPid++;\n};\n\n/**\n * Adds a new segment object.\n *\n * @private\n * @param {Segment} segment\n */\n\nWaveformSegments.prototype._addSegment = function(segment) {\n  this._segments.push(segment);\n\n  this._segmentsById[segment.id] = segment;\n  this._segmentsByPid[segment.pid] = segment;\n};\n\n/**\n * Creates a new segment object.\n *\n * @private\n * @param {SegmentOptions} options\n * @return {Segment}\n */\n\nWaveformSegments.prototype._createSegment = function(options) {\n  const segmentOptions = {};\n\n  extend(segmentOptions, options);\n\n  if (isNullOrUndefined(segmentOptions.id)) {\n    segmentOptions.id = this._getNextSegmentId();\n  }\n\n  const pid = this._getNextPid();\n\n  setDefaultSegmentOptions(segmentOptions, this._peaks.options.segmentOptions);\n\n  validateSegmentOptions(segmentOptions, false);\n\n  return new Segment(this._peaks, pid, segmentOptions);\n};\n\n/**\n * Returns all segments.\n *\n * @returns {Array<Segment>}\n */\n\nWaveformSegments.prototype.getSegments = function() {\n  return this._segments;\n};\n\n/**\n * Returns the segment with the given id, or <code>undefined</code> if not found.\n *\n * @param {String} id\n * @returns {Segment}\n */\n\nWaveformSegments.prototype.getSegment = function(id) {\n  return this._segmentsById[id];\n};\n\n/**\n * Returns all segments that overlap a given point in time.\n *\n * @param {Number} time\n * @returns {Array<Segment>}\n */\n\nWaveformSegments.prototype.getSegmentsAtTime = function(time) {\n  return this._segments.filter(function(segment) {\n    return time >= segment.startTime && time < segment.endTime;\n  });\n};\n\n/**\n * Returns all segments that overlap a given time region.\n *\n * @param {Number} startTime The start of the time region, in seconds.\n * @param {Number} endTime The end of the time region, in seconds.\n *\n * @returns {Array<Segment>}\n */\n\nWaveformSegments.prototype.find = function(startTime, endTime) {\n  return this._segments.filter(function(segment) {\n    return segment.isVisible(startTime, endTime);\n  });\n};\n\n/**\n * Returns a copy of the segments array, sorted by ascending segment start time.\n *\n * @returns {Array<Segment>}\n */\n\nWaveformSegments.prototype._getSortedSegments = function() {\n  return this._segments.slice().sort(function(a, b) {\n    return a.startTime - b.startTime;\n  });\n};\n\nWaveformSegments.prototype.findPreviousSegment = function(segment) {\n  const sortedSegments = this._getSortedSegments();\n\n  const index = sortedSegments.findIndex(function(s) {\n    return s.id === segment.id;\n  });\n\n  if (index !== -1) {\n    return sortedSegments[index - 1];\n  }\n\n  return undefined;\n};\n\nWaveformSegments.prototype.findNextSegment = function(segment) {\n  const sortedSegments = this._getSortedSegments();\n\n  const index = sortedSegments.findIndex(function(s) {\n    return s.id === segment.id;\n  });\n\n  if (index !== -1) {\n    return sortedSegments[index + 1];\n  }\n\n  return undefined;\n};\n\n/**\n * Adds one or more segments to the timeline.\n *\n * @param {SegmentOptions|Array<SegmentOptions>} segmentOrSegments\n *\n * @returns Segment|Array<Segment>\n */\n\nWaveformSegments.prototype.add = function(/* segmentOrSegments */) {\n  const self = this;\n\n  const arrayArgs = Array.isArray(arguments[0]);\n  let segments = arrayArgs ?\n                 arguments[0] :\n                 Array.prototype.slice.call(arguments);\n\n  segments = segments.map(function(segmentOptions) {\n    const segment = self._createSegment(segmentOptions);\n\n    if (objectHasProperty(self._segmentsById, segment.id)) {\n      throw new Error('peaks.segments.add(): duplicate id');\n    }\n\n    return segment;\n  });\n\n  segments.forEach(function(segment) {\n    self._addSegment(segment);\n  });\n\n  this._peaks.emit('segments.add', {\n    segments: segments,\n    insert: this._isInserting\n  });\n\n  return arrayArgs ? segments : segments[0];\n};\n\nWaveformSegments.prototype.updateSegmentId = function(segment, newSegmentId) {\n  if (this._segmentsById[segment.id]) {\n    if (this._segmentsById[newSegmentId]) {\n      throw new Error('segment.update(): duplicate id');\n    }\n    else {\n      delete this._segmentsById[segment.id];\n      this._segmentsById[newSegmentId] = segment;\n    }\n  }\n};\n\n/**\n * Returns the indexes of segments that match the given predicate.\n *\n * @private\n * @param {Function} predicate Predicate function to find matching segments.\n * @returns {Array<Number>} An array of indexes into the segments array of\n *   the matching elements.\n */\n\nWaveformSegments.prototype._findSegment = function(predicate) {\n  const indexes = [];\n\n  for (let i = 0, length = this._segments.length; i < length; i++) {\n    if (predicate(this._segments[i])) {\n      indexes.push(i);\n    }\n  }\n\n  return indexes;\n};\n\n/**\n * Removes the segments at the given array indexes.\n *\n * @private\n * @param {Array<Number>} indexes The array indexes to remove.\n * @returns {Array<Segment>} The removed {@link Segment} objects.\n */\n\nWaveformSegments.prototype._removeIndexes = function(indexes) {\n  const removed = [];\n\n  for (let i = 0; i < indexes.length; i++) {\n    const index = indexes[i] - removed.length;\n\n    const itemRemoved = this._segments.splice(index, 1)[0];\n\n    delete this._segmentsById[itemRemoved.id];\n    delete this._segmentsByPid[itemRemoved.pid];\n\n    removed.push(itemRemoved);\n  }\n\n  return removed;\n};\n\n/**\n * Removes all segments that match a given predicate function.\n *\n * After removing the segments, this function also emits a\n * <code>segments.remove</code> event with the removed {@link Segment}\n * objects.\n *\n * @private\n * @param {Function} predicate A predicate function that identifies which\n *   segments to remove.\n * @returns {Array<Segment>} The removed {@link Segment} objects.\n */\n\nWaveformSegments.prototype._removeSegments = function(predicate) {\n  const indexes = this._findSegment(predicate);\n\n  const removed = this._removeIndexes(indexes);\n\n  this._peaks.emit('segments.remove', {\n    segments: removed\n  });\n\n  return removed;\n};\n\n/**\n * Removes the given segment.\n *\n * @param {Segment} segment The segment to remove.\n * @returns {Array<Segment>} The removed segment.\n */\n\nWaveformSegments.prototype.remove = function(segment) {\n  return this._removeSegments(function(s) {\n    return s === segment;\n  });\n};\n\n/**\n * Removes any segments with the given id.\n *\n * @param {String} id\n * @returns {Array<Segment>} The removed {@link Segment} objects.\n */\n\nWaveformSegments.prototype.removeById = function(segmentId) {\n  return this._removeSegments(function(segment) {\n    return segment.id === segmentId;\n  });\n};\n\n/**\n * Removes any segments with the given start time, and optional end time.\n *\n * @param {Number} startTime Segments with this start time are removed.\n * @param {Number?} endTime If present, only segments with both the given\n *   start time and end time are removed.\n * @returns {Array<Segment>} The removed {@link Segment} objects.\n */\n\nWaveformSegments.prototype.removeByTime = function(startTime, endTime) {\n  endTime = (typeof endTime === 'number') ? endTime : 0;\n\n  let filter;\n\n  if (endTime > 0) {\n    filter = function(segment) {\n      return segment.startTime === startTime && segment.endTime === endTime;\n    };\n  }\n  else {\n    filter = function(segment) {\n      return segment.startTime === startTime;\n    };\n  }\n\n  return this._removeSegments(filter);\n};\n\n/**\n * Removes all segments.\n *\n * After removing the segments, this function emits a\n * <code>segments.remove_all</code> event.\n */\n\nWaveformSegments.prototype.removeAll = function() {\n  this._segments = [];\n  this._segmentsById = {};\n  this._segmentsByPid = {};\n  this._peaks.emit('segments.remove_all');\n};\n\nWaveformSegments.prototype.setInserting = function(value) {\n  this._isInserting = value;\n};\n\nWaveformSegments.prototype.isInserting = function() {\n  return this._isInserting;\n};\n\nexport default WaveformSegments;\n","/**\n * @file\n *\n * Defines the {@link KeyboardHandler} class.\n *\n * @module keyboard-handler\n */\n\nconst nodes = ['OBJECT', 'TEXTAREA', 'INPUT', 'SELECT', 'OPTION'];\n\nconst SPACE = 32,\n    TAB = 9,\n    LEFT_ARROW = 37,\n    RIGHT_ARROW = 39;\n\nconst keys = [SPACE, TAB, LEFT_ARROW, RIGHT_ARROW];\n\n/**\n * Configures keyboard event handling.\n *\n * @class\n * @alias KeyboardHandler\n *\n * @param {EventEmitter} eventEmitter\n */\n\nfunction KeyboardHandler(eventEmitter) {\n  this.eventEmitter = eventEmitter;\n\n  this._handleKeyEvent = this._handleKeyEvent.bind(this);\n\n  document.addEventListener('keydown', this._handleKeyEvent);\n  document.addEventListener('keypress', this._handleKeyEvent);\n  document.addEventListener('keyup', this._handleKeyEvent);\n}\n\n/**\n * Keyboard event handler function.\n *\n * @note Arrow keys only triggered on keydown, not keypress.\n *\n * @param {KeyboardEvent} event\n * @private\n */\n\nKeyboardHandler.prototype._handleKeyEvent = function handleKeyEvent(event) {\n  if (nodes.indexOf(event.target.nodeName) === -1) {\n    if (keys.indexOf(event.type) > -1) {\n      event.preventDefault();\n    }\n\n    if (event.type === 'keydown' || event.type === 'keypress') {\n      switch (event.keyCode) {\n        case SPACE:\n          this.eventEmitter.emit('keyboard.space');\n          break;\n\n        case TAB:\n          this.eventEmitter.emit('keyboard.tab');\n          break;\n      }\n    }\n    else if (event.type === 'keyup') {\n      switch (event.keyCode) {\n        case LEFT_ARROW:\n          if (event.shiftKey) {\n            this.eventEmitter.emit('keyboard.shift_left');\n          }\n          else {\n            this.eventEmitter.emit('keyboard.left');\n          }\n          break;\n\n        case RIGHT_ARROW:\n          if (event.shiftKey) {\n            this.eventEmitter.emit('keyboard.shift_right');\n          }\n          else {\n            this.eventEmitter.emit('keyboard.right');\n          }\n          break;\n      }\n    }\n  }\n};\n\nKeyboardHandler.prototype.destroy = function() {\n  document.removeEventListener('keydown', this._handleKeyEvent);\n  document.removeEventListener('keypress', this._handleKeyEvent);\n  document.removeEventListener('keyup', this._handleKeyEvent);\n};\n\nexport default KeyboardHandler;\n","/**\n * @file\n *\n * Implementation of {@link Player} adapter based on the HTML5 media element.\n *\n * @module mediaelement-player\n */\n\n/**\n * Checks whether the given HTMLMediaElement has either a src attribute\n * or any child <code>&lt;source&gt;</code> nodes\n */\n\nfunction mediaElementHasSource(mediaElement) {\n  if (mediaElement.src) {\n    return true;\n  }\n\n  if (mediaElement.querySelector('source')) {\n    return true;\n  }\n\n  return false;\n}\n\n/**\n * A wrapper for interfacing with the HTML5 media element API.\n * Initializes the player for a given media element.\n *\n * @class\n * @alias MediaElementPlayer\n * @param {HTMLMediaElement} mediaElement The HTML <code>&lt;audio&gt;</code>\n *   or <code>&lt;video&gt;</code> element to associate with the\n *   {@link Peaks} instance.\n */\n\nfunction MediaElementPlayer(mediaElement) {\n  this._mediaElement = mediaElement;\n}\n\n/**\n * Adds an event listener to the media element.\n *\n * @private\n * @param {String} type The event type to listen for.\n * @param {Function} callback An event handler function.\n */\n\nMediaElementPlayer.prototype._addMediaListener = function(type, callback) {\n  this._listeners.push({ type: type, callback: callback });\n  this._mediaElement.addEventListener(type, callback);\n};\n\nMediaElementPlayer.prototype.init = function(eventEmitter) {\n  const self = this;\n\n  self._eventEmitter = eventEmitter;\n  self._listeners = [];\n  self._duration = self.getDuration();\n\n  self._addMediaListener('timeupdate', function() {\n    self._eventEmitter.emit('player.timeupdate', self.getCurrentTime());\n  });\n\n  self._addMediaListener('playing', function() {\n    self._eventEmitter.emit('player.playing', self.getCurrentTime());\n  });\n\n  self._addMediaListener('pause', function() {\n    self._eventEmitter.emit('player.pause', self.getCurrentTime());\n  });\n\n  self._addMediaListener('ended', function() {\n    self._eventEmitter.emit('player.ended');\n  });\n\n  self._addMediaListener('seeked', function() {\n    self._eventEmitter.emit('player.seeked', self.getCurrentTime());\n  });\n\n  self._addMediaListener('canplay', function() {\n    self._eventEmitter.emit('player.canplay');\n  });\n\n  self._addMediaListener('error', function(event) {\n    self._eventEmitter.emit('player.error', event.target.error);\n  });\n\n  self._interval = null;\n\n  if (!mediaElementHasSource(self._mediaElement)) {\n    return Promise.resolve();\n  }\n\n  return new Promise(function(resolve, reject) {\n    function eventHandler(event) {\n      self._mediaElement.removeEventListener('loadedmetadata', eventHandler);\n      self._mediaElement.removeEventListener('error', eventHandler);\n\n      if (event.type === 'loadedmetadata') {\n        resolve();\n      }\n      else {\n        reject(event.target.error);\n      }\n    }\n\n    // If the media element has preload=\"none\", clicking to seek in the\n    // waveform won't work, so here we force the media to load.\n    if (self._mediaElement.readyState === HTMLMediaElement.HAVE_NOTHING) {\n      // Wait for the readyState to change to HAVE_METADATA so we know the\n      // duration is valid, otherwise it could be NaN.\n      self._mediaElement.addEventListener('loadedmetadata', eventHandler);\n      self._mediaElement.addEventListener('error', eventHandler);\n      self._mediaElement.load();\n    }\n    else {\n      resolve();\n    }\n  });\n};\n\n/**\n * Cleans up the player object, removing all event listeners from the\n * associated media element.\n */\n\nMediaElementPlayer.prototype.destroy = function() {\n  for (let i = 0; i < this._listeners.length; i++) {\n    const listener = this._listeners[i];\n\n    this._mediaElement.removeEventListener(\n      listener.type,\n      listener.callback\n    );\n  }\n\n  this._listeners.length = 0;\n\n  this._mediaElement = null;\n};\n\nMediaElementPlayer.prototype.play = function() {\n  return this._mediaElement.play();\n};\n\nMediaElementPlayer.prototype.pause = function() {\n  this._mediaElement.pause();\n};\n\nMediaElementPlayer.prototype.isPlaying = function() {\n  return !this._mediaElement.paused;\n};\n\nMediaElementPlayer.prototype.isSeeking = function() {\n  return this._mediaElement.seeking;\n};\n\nMediaElementPlayer.prototype.getCurrentTime = function() {\n  return this._mediaElement.currentTime;\n};\n\nMediaElementPlayer.prototype.getDuration = function() {\n  return this._mediaElement.duration;\n};\n\nMediaElementPlayer.prototype.seek = function(time) {\n  this._mediaElement.currentTime = time;\n};\n\nfunction SetSourceHandler(eventEmitter, mediaElement) {\n  this._eventEmitter = eventEmitter;\n  this._mediaElement = mediaElement;\n  this._playerCanPlayHandler = this._playerCanPlayHandler.bind(this);\n  this._playerErrorHandler = this._playerErrorHandler.bind(this);\n}\n\nSetSourceHandler.prototype.setSource = function(options, callback) {\n  const self = this;\n\n  self._options = options;\n  self._callback = callback;\n\n  self._eventEmitter.on('player.canplay', self._playerCanPlayHandler);\n  self._eventEmitter.on('player.error', self._playerErrorHandler);\n\n  return new Promise(function(resolve, reject) {\n    self._resolve = resolve;\n    self._reject = reject;\n\n    self._eventEmitter.on('player.canplay', self._playerCanPlayHandler);\n    self._eventEmitter.on('player.error', self._playerErrorHandler);\n\n    self._mediaElement.setAttribute('src', options.mediaUrl);\n\n    // Force the media element to load, in case the media element\n    // has preload=\"none\".\n    if (self._mediaElement.readyState === HTMLMediaElement.HAVE_NOTHING) {\n      self._mediaElement.load();\n    }\n  });\n};\n\nSetSourceHandler.prototype._reset = function() {\n  this._eventEmitter.removeListener('player.canplay', this._playerCanPlayHandler);\n  this._eventEmitter.removeListener('player.error', this._playerErrorHandler);\n};\n\nSetSourceHandler.prototype._playerCanPlayHandler = function() {\n  this._reset();\n\n  this._resolve();\n};\n\nSetSourceHandler.prototype._playerErrorHandler = function(err) {\n  this._reset();\n\n  // Return the MediaError object from the media element\n  this._reject(err);\n};\n\nMediaElementPlayer.prototype.setSource = function(options) {\n  if (!options.mediaUrl) {\n    // eslint-disable-next-line max-len\n    return Promise.reject(new Error('peaks.setSource(): options must contain a mediaUrl when using mediaElement'));\n  }\n\n  const setSourceHandler = new SetSourceHandler(this._eventEmitter, this._mediaElement);\n\n  return setSourceHandler.setSource(options);\n};\n\nexport default MediaElementPlayer;\n","/**\n * @file\n *\n * A general audio player class which interfaces with external audio players.\n * The default audio player in Peaks.js is {@link MediaElementPlayer}.\n *\n * @module player\n */\n\nimport { isValidTime } from './utils';\n\nfunction getAllPropertiesFrom(adapter) {\n  const allProperties = [];\n  let obj = adapter;\n\n  while (obj) {\n    Object.getOwnPropertyNames(obj).forEach(function(p) {\n      allProperties.push(p);\n    });\n\n    obj = Object.getPrototypeOf(obj);\n  }\n\n  return allProperties;\n}\n\nfunction validateAdapter(adapter) {\n  const publicAdapterMethods = [\n    'init',\n    'destroy',\n    'play',\n    'pause',\n    'isPlaying',\n    'isSeeking',\n    'getCurrentTime',\n    'getDuration',\n    'seek'\n  ];\n\n  const allProperties = getAllPropertiesFrom(adapter);\n\n  publicAdapterMethods.forEach(function(method) {\n    if (!allProperties.includes(method)) {\n      throw new TypeError('Peaks.init(): Player method ' + method + ' is undefined');\n    }\n\n    if ((typeof adapter[method]) !== 'function') {\n      throw new TypeError('Peaks.init(): Player method ' + method + ' is not a function');\n    }\n  });\n}\n\n/**\n * A wrapper for interfacing with an external player API.\n *\n * @class\n * @alias Player\n *\n * @param {Peaks} peaks The parent {@link Peaks} object.\n * @param {Adapter} adapter The player adapter.\n */\n\nfunction Player(peaks, adapter) {\n  this._peaks = peaks;\n\n  this._playingSegment = false;\n  this._segment = null;\n  this._loop = false;\n  this._playSegmentTimerCallback = this._playSegmentTimerCallback.bind(this);\n\n  validateAdapter(adapter);\n  this._adapter = adapter;\n}\n\nPlayer.prototype.init = function() {\n  return this._adapter.init(this._peaks);\n};\n\n/**\n * Cleans up the player object.\n */\n\nPlayer.prototype.destroy = function() {\n  this._adapter.destroy();\n};\n\n/**\n * Starts playback.\n * @returns {Promise}\n */\n\nPlayer.prototype.play = function() {\n  return this._adapter.play();\n};\n\n/**\n * Pauses playback.\n */\n\nPlayer.prototype.pause = function() {\n  this._adapter.pause();\n};\n\n/**\n * @returns {Boolean} <code>true</code> if playing, <code>false</code>\n * otherwise.\n */\n\nPlayer.prototype.isPlaying = function() {\n  return this._adapter.isPlaying();\n};\n\n/**\n * @returns {boolean} <code>true</code> if seeking\n */\n\nPlayer.prototype.isSeeking = function() {\n  return this._adapter.isSeeking();\n};\n\n/**\n * Returns the current playback time position, in seconds.\n *\n * @returns {Number}\n */\n\nPlayer.prototype.getCurrentTime = function() {\n  return this._adapter.getCurrentTime();\n};\n\n/**\n * Returns the media duration, in seconds.\n *\n * @returns {Number}\n */\n\nPlayer.prototype.getDuration = function() {\n  return this._adapter.getDuration();\n};\n\n/**\n * Seeks to a given time position within the media.\n *\n * @param {Number} time The time position, in seconds.\n */\n\nPlayer.prototype.seek = function(time) {\n  if (!isValidTime(time)) {\n    this._peaks._logger('peaks.player.seek(): parameter must be a valid time, in seconds');\n    return;\n  }\n\n  this._adapter.seek(time);\n};\n\n/**\n * Plays the given segment.\n *\n * @param {Segment} segment The segment denoting the time region to play.\n * @param {Boolean} loop If true, playback is looped.\n */\n\nPlayer.prototype.playSegment = function(segment, loop) {\n  const self = this;\n\n  if (!segment ||\n    !isValidTime(segment.startTime) ||\n    !isValidTime(segment.endTime)) {\n    return Promise.reject(\n      new Error('peaks.player.playSegment(): parameter must be a segment object')\n    );\n  }\n\n  self._segment = segment;\n  self._loop = loop;\n\n  // Set audio time to segment start time\n  self.seek(segment.startTime);\n\n  self._peaks.once('player.playing', function() {\n    if (!self._playingSegment) {\n      self._playingSegment = true;\n\n      // We need to use requestAnimationFrame here as the timeupdate event\n      // doesn't fire often enough.\n      window.requestAnimationFrame(self._playSegmentTimerCallback);\n    }\n  });\n\n  // Start playing audio\n  return self.play();\n};\n\nPlayer.prototype._playSegmentTimerCallback = function() {\n  if (!this.isPlaying()) {\n    this._playingSegment = false;\n    return;\n  }\n  else if (this.getCurrentTime() >= this._segment.endTime) {\n    if (this._loop) {\n      this.seek(this._segment.startTime);\n    }\n    else {\n      this.pause();\n      this._peaks.emit('player.ended');\n      this._playingSegment = false;\n      return;\n    }\n  }\n\n  window.requestAnimationFrame(this._playSegmentTimerCallback);\n};\n\nPlayer.prototype._setSource = function(options) {\n  return this._adapter.setSource(options);\n};\n\nexport default Player;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Line = void 0;\nconst Factory_1 = require(\"../Factory\");\nconst Shape_1 = require(\"../Shape\");\nconst Validators_1 = require(\"../Validators\");\nconst Global_1 = require(\"../Global\");\nfunction getControlPoints(x0, y0, x1, y1, x2, y2, t) {\n    var d01 = Math.sqrt(Math.pow(x1 - x0, 2) + Math.pow(y1 - y0, 2)), d12 = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2)), fa = (t * d01) / (d01 + d12), fb = (t * d12) / (d01 + d12), p1x = x1 - fa * (x2 - x0), p1y = y1 - fa * (y2 - y0), p2x = x1 + fb * (x2 - x0), p2y = y1 + fb * (y2 - y0);\n    return [p1x, p1y, p2x, p2y];\n}\nfunction expandPoints(p, tension) {\n    var len = p.length, allPoints = [], n, cp;\n    for (n = 2; n < len - 2; n += 2) {\n        cp = getControlPoints(p[n - 2], p[n - 1], p[n], p[n + 1], p[n + 2], p[n + 3], tension);\n        if (isNaN(cp[0])) {\n            continue;\n        }\n        allPoints.push(cp[0]);\n        allPoints.push(cp[1]);\n        allPoints.push(p[n]);\n        allPoints.push(p[n + 1]);\n        allPoints.push(cp[2]);\n        allPoints.push(cp[3]);\n    }\n    return allPoints;\n}\nclass Line extends Shape_1.Shape {\n    constructor(config) {\n        super(config);\n        this.on('pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva', function () {\n            this._clearCache('tensionPoints');\n        });\n    }\n    _sceneFunc(context) {\n        var points = this.points(), length = points.length, tension = this.tension(), closed = this.closed(), bezier = this.bezier(), tp, len, n;\n        if (!length) {\n            return;\n        }\n        context.beginPath();\n        context.moveTo(points[0], points[1]);\n        if (tension !== 0 && length > 4) {\n            tp = this.getTensionPoints();\n            len = tp.length;\n            n = closed ? 0 : 4;\n            if (!closed) {\n                context.quadraticCurveTo(tp[0], tp[1], tp[2], tp[3]);\n            }\n            while (n < len - 2) {\n                context.bezierCurveTo(tp[n++], tp[n++], tp[n++], tp[n++], tp[n++], tp[n++]);\n            }\n            if (!closed) {\n                context.quadraticCurveTo(tp[len - 2], tp[len - 1], points[length - 2], points[length - 1]);\n            }\n        }\n        else if (bezier) {\n            n = 2;\n            while (n < length) {\n                context.bezierCurveTo(points[n++], points[n++], points[n++], points[n++], points[n++], points[n++]);\n            }\n        }\n        else {\n            for (n = 2; n < length; n += 2) {\n                context.lineTo(points[n], points[n + 1]);\n            }\n        }\n        if (closed) {\n            context.closePath();\n            context.fillStrokeShape(this);\n        }\n        else {\n            context.strokeShape(this);\n        }\n    }\n    getTensionPoints() {\n        return this._getCache('tensionPoints', this._getTensionPoints);\n    }\n    _getTensionPoints() {\n        if (this.closed()) {\n            return this._getTensionPointsClosed();\n        }\n        else {\n            return expandPoints(this.points(), this.tension());\n        }\n    }\n    _getTensionPointsClosed() {\n        var p = this.points(), len = p.length, tension = this.tension(), firstControlPoints = getControlPoints(p[len - 2], p[len - 1], p[0], p[1], p[2], p[3], tension), lastControlPoints = getControlPoints(p[len - 4], p[len - 3], p[len - 2], p[len - 1], p[0], p[1], tension), middle = expandPoints(p, tension), tp = [firstControlPoints[2], firstControlPoints[3]]\n            .concat(middle)\n            .concat([\n            lastControlPoints[0],\n            lastControlPoints[1],\n            p[len - 2],\n            p[len - 1],\n            lastControlPoints[2],\n            lastControlPoints[3],\n            firstControlPoints[0],\n            firstControlPoints[1],\n            p[0],\n            p[1],\n        ]);\n        return tp;\n    }\n    getWidth() {\n        return this.getSelfRect().width;\n    }\n    getHeight() {\n        return this.getSelfRect().height;\n    }\n    getSelfRect() {\n        var points = this.points();\n        if (points.length < 4) {\n            return {\n                x: points[0] || 0,\n                y: points[1] || 0,\n                width: 0,\n                height: 0,\n            };\n        }\n        if (this.tension() !== 0) {\n            points = [\n                points[0],\n                points[1],\n                ...this._getTensionPoints(),\n                points[points.length - 2],\n                points[points.length - 1],\n            ];\n        }\n        else {\n            points = this.points();\n        }\n        var minX = points[0];\n        var maxX = points[0];\n        var minY = points[1];\n        var maxY = points[1];\n        var x, y;\n        for (var i = 0; i < points.length / 2; i++) {\n            x = points[i * 2];\n            y = points[i * 2 + 1];\n            minX = Math.min(minX, x);\n            maxX = Math.max(maxX, x);\n            minY = Math.min(minY, y);\n            maxY = Math.max(maxY, y);\n        }\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n}\nexports.Line = Line;\nLine.prototype.className = 'Line';\nLine.prototype._attrsAffectingSize = ['points', 'bezier', 'tension'];\n(0, Global_1._registerNode)(Line);\nFactory_1.Factory.addGetterSetter(Line, 'closed', false);\nFactory_1.Factory.addGetterSetter(Line, 'bezier', false);\nFactory_1.Factory.addGetterSetter(Line, 'tension', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Line, 'points', [], (0, Validators_1.getNumberArrayValidator)());\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Rect = void 0;\nconst Factory_1 = require(\"../Factory\");\nconst Shape_1 = require(\"../Shape\");\nconst Global_1 = require(\"../Global\");\nconst Util_1 = require(\"../Util\");\nconst Validators_1 = require(\"../Validators\");\nclass Rect extends Shape_1.Shape {\n    _sceneFunc(context) {\n        var cornerRadius = this.cornerRadius(), width = this.width(), height = this.height();\n        context.beginPath();\n        if (!cornerRadius) {\n            context.rect(0, 0, width, height);\n        }\n        else {\n            Util_1.Util.drawRoundedRectPath(context, width, height, cornerRadius);\n        }\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n}\nexports.Rect = Rect;\nRect.prototype.className = 'Rect';\n(0, Global_1._registerNode)(Rect);\nFactory_1.Factory.addGetterSetter(Rect, 'cornerRadius', 0, (0, Validators_1.getNumberOrArrayOfNumbersValidator)(4));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Text = exports.stringToArray = void 0;\nconst Util_1 = require(\"../Util\");\nconst Factory_1 = require(\"../Factory\");\nconst Shape_1 = require(\"../Shape\");\nconst Validators_1 = require(\"../Validators\");\nconst Global_1 = require(\"../Global\");\nfunction stringToArray(string) {\n    return Array.from(string);\n}\nexports.stringToArray = stringToArray;\nvar AUTO = 'auto', CENTER = 'center', JUSTIFY = 'justify', CHANGE_KONVA = 'Change.konva', CONTEXT_2D = '2d', DASH = '-', LEFT = 'left', TEXT = 'text', TEXT_UPPER = 'Text', TOP = 'top', BOTTOM = 'bottom', MIDDLE = 'middle', NORMAL = 'normal', PX_SPACE = 'px ', SPACE = ' ', RIGHT = 'right', WORD = 'word', CHAR = 'char', NONE = 'none', ELLIPSIS = '…', ATTR_CHANGE_LIST = [\n    'fontFamily',\n    'fontSize',\n    'fontStyle',\n    'fontVariant',\n    'padding',\n    'align',\n    'verticalAlign',\n    'lineHeight',\n    'text',\n    'width',\n    'height',\n    'wrap',\n    'ellipsis',\n    'letterSpacing',\n], attrChangeListLen = ATTR_CHANGE_LIST.length;\nfunction normalizeFontFamily(fontFamily) {\n    return fontFamily\n        .split(',')\n        .map((family) => {\n        family = family.trim();\n        const hasSpace = family.indexOf(' ') >= 0;\n        const hasQuotes = family.indexOf('\"') >= 0 || family.indexOf(\"'\") >= 0;\n        if (hasSpace && !hasQuotes) {\n            family = `\"${family}\"`;\n        }\n        return family;\n    })\n        .join(', ');\n}\nvar dummyContext;\nfunction getDummyContext() {\n    if (dummyContext) {\n        return dummyContext;\n    }\n    dummyContext = Util_1.Util.createCanvasElement().getContext(CONTEXT_2D);\n    return dummyContext;\n}\nfunction _fillFunc(context) {\n    context.fillText(this._partialText, this._partialTextX, this._partialTextY);\n}\nfunction _strokeFunc(context) {\n    context.setAttr('miterLimit', 2);\n    context.strokeText(this._partialText, this._partialTextX, this._partialTextY);\n}\nfunction checkDefaultFill(config) {\n    config = config || {};\n    if (!config.fillLinearGradientColorStops &&\n        !config.fillRadialGradientColorStops &&\n        !config.fillPatternImage) {\n        config.fill = config.fill || 'black';\n    }\n    return config;\n}\nclass Text extends Shape_1.Shape {\n    constructor(config) {\n        super(checkDefaultFill(config));\n        this._partialTextX = 0;\n        this._partialTextY = 0;\n        for (var n = 0; n < attrChangeListLen; n++) {\n            this.on(ATTR_CHANGE_LIST[n] + CHANGE_KONVA, this._setTextData);\n        }\n        this._setTextData();\n    }\n    _sceneFunc(context) {\n        var textArr = this.textArr, textArrLen = textArr.length;\n        if (!this.text()) {\n            return;\n        }\n        var padding = this.padding(), fontSize = this.fontSize(), lineHeightPx = this.lineHeight() * fontSize, verticalAlign = this.verticalAlign(), alignY = 0, align = this.align(), totalWidth = this.getWidth(), letterSpacing = this.letterSpacing(), fill = this.fill(), textDecoration = this.textDecoration(), shouldUnderline = textDecoration.indexOf('underline') !== -1, shouldLineThrough = textDecoration.indexOf('line-through') !== -1, n;\n        var translateY = 0;\n        var translateY = lineHeightPx / 2;\n        var lineTranslateX = 0;\n        var lineTranslateY = 0;\n        context.setAttr('font', this._getContextFont());\n        context.setAttr('textBaseline', MIDDLE);\n        context.setAttr('textAlign', LEFT);\n        if (verticalAlign === MIDDLE) {\n            alignY = (this.getHeight() - textArrLen * lineHeightPx - padding * 2) / 2;\n        }\n        else if (verticalAlign === BOTTOM) {\n            alignY = this.getHeight() - textArrLen * lineHeightPx - padding * 2;\n        }\n        context.translate(padding, alignY + padding);\n        for (n = 0; n < textArrLen; n++) {\n            var lineTranslateX = 0;\n            var lineTranslateY = 0;\n            var obj = textArr[n], text = obj.text, width = obj.width, lastLine = obj.lastInParagraph, spacesNumber, oneWord, lineWidth;\n            context.save();\n            if (align === RIGHT) {\n                lineTranslateX += totalWidth - width - padding * 2;\n            }\n            else if (align === CENTER) {\n                lineTranslateX += (totalWidth - width - padding * 2) / 2;\n            }\n            if (shouldUnderline) {\n                context.save();\n                context.beginPath();\n                context.moveTo(lineTranslateX, translateY + lineTranslateY + Math.round(fontSize / 2));\n                spacesNumber = text.split(' ').length - 1;\n                oneWord = spacesNumber === 0;\n                lineWidth =\n                    align === JUSTIFY && !lastLine ? totalWidth - padding * 2 : width;\n                context.lineTo(lineTranslateX + Math.round(lineWidth), translateY + lineTranslateY + Math.round(fontSize / 2));\n                context.lineWidth = fontSize / 15;\n                const gradient = this._getLinearGradient();\n                context.strokeStyle = gradient || fill;\n                context.stroke();\n                context.restore();\n            }\n            if (shouldLineThrough) {\n                context.save();\n                context.beginPath();\n                context.moveTo(lineTranslateX, translateY + lineTranslateY);\n                spacesNumber = text.split(' ').length - 1;\n                oneWord = spacesNumber === 0;\n                lineWidth =\n                    align === JUSTIFY && lastLine && !oneWord\n                        ? totalWidth - padding * 2\n                        : width;\n                context.lineTo(lineTranslateX + Math.round(lineWidth), translateY + lineTranslateY);\n                context.lineWidth = fontSize / 15;\n                const gradient = this._getLinearGradient();\n                context.strokeStyle = gradient || fill;\n                context.stroke();\n                context.restore();\n            }\n            if (letterSpacing !== 0 || align === JUSTIFY) {\n                spacesNumber = text.split(' ').length - 1;\n                var array = stringToArray(text);\n                for (var li = 0; li < array.length; li++) {\n                    var letter = array[li];\n                    if (letter === ' ' && !lastLine && align === JUSTIFY) {\n                        lineTranslateX += (totalWidth - padding * 2 - width) / spacesNumber;\n                    }\n                    this._partialTextX = lineTranslateX;\n                    this._partialTextY = translateY + lineTranslateY;\n                    this._partialText = letter;\n                    context.fillStrokeShape(this);\n                    lineTranslateX += this.measureSize(letter).width + letterSpacing;\n                }\n            }\n            else {\n                this._partialTextX = lineTranslateX;\n                this._partialTextY = translateY + lineTranslateY;\n                this._partialText = text;\n                context.fillStrokeShape(this);\n            }\n            context.restore();\n            if (textArrLen > 1) {\n                translateY += lineHeightPx;\n            }\n        }\n    }\n    _hitFunc(context) {\n        var width = this.getWidth(), height = this.getHeight();\n        context.beginPath();\n        context.rect(0, 0, width, height);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    setText(text) {\n        var str = Util_1.Util._isString(text)\n            ? text\n            : text === null || text === undefined\n                ? ''\n                : text + '';\n        this._setAttr(TEXT, str);\n        return this;\n    }\n    getWidth() {\n        var isAuto = this.attrs.width === AUTO || this.attrs.width === undefined;\n        return isAuto ? this.getTextWidth() + this.padding() * 2 : this.attrs.width;\n    }\n    getHeight() {\n        var isAuto = this.attrs.height === AUTO || this.attrs.height === undefined;\n        return isAuto\n            ? this.fontSize() * this.textArr.length * this.lineHeight() +\n                this.padding() * 2\n            : this.attrs.height;\n    }\n    getTextWidth() {\n        return this.textWidth;\n    }\n    getTextHeight() {\n        Util_1.Util.warn('text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height.');\n        return this.textHeight;\n    }\n    measureSize(text) {\n        var _context = getDummyContext(), fontSize = this.fontSize(), metrics;\n        _context.save();\n        _context.font = this._getContextFont();\n        metrics = _context.measureText(text);\n        _context.restore();\n        return {\n            width: metrics.width,\n            height: fontSize,\n        };\n    }\n    _getContextFont() {\n        return (this.fontStyle() +\n            SPACE +\n            this.fontVariant() +\n            SPACE +\n            (this.fontSize() + PX_SPACE) +\n            normalizeFontFamily(this.fontFamily()));\n    }\n    _addTextLine(line) {\n        const align = this.align();\n        if (align === JUSTIFY) {\n            line = line.trim();\n        }\n        var width = this._getTextWidth(line);\n        return this.textArr.push({\n            text: line,\n            width: width,\n            lastInParagraph: false,\n        });\n    }\n    _getTextWidth(text) {\n        var letterSpacing = this.letterSpacing();\n        var length = text.length;\n        return (getDummyContext().measureText(text).width +\n            (length ? letterSpacing * (length - 1) : 0));\n    }\n    _setTextData() {\n        var lines = this.text().split('\\n'), fontSize = +this.fontSize(), textWidth = 0, lineHeightPx = this.lineHeight() * fontSize, width = this.attrs.width, height = this.attrs.height, fixedWidth = width !== AUTO && width !== undefined, fixedHeight = height !== AUTO && height !== undefined, padding = this.padding(), maxWidth = width - padding * 2, maxHeightPx = height - padding * 2, currentHeightPx = 0, wrap = this.wrap(), shouldWrap = wrap !== NONE, wrapAtWord = wrap !== CHAR && shouldWrap, shouldAddEllipsis = this.ellipsis();\n        this.textArr = [];\n        getDummyContext().font = this._getContextFont();\n        var additionalWidth = shouldAddEllipsis ? this._getTextWidth(ELLIPSIS) : 0;\n        for (var i = 0, max = lines.length; i < max; ++i) {\n            var line = lines[i];\n            var lineWidth = this._getTextWidth(line);\n            if (fixedWidth && lineWidth > maxWidth) {\n                while (line.length > 0) {\n                    var low = 0, high = line.length, match = '', matchWidth = 0;\n                    while (low < high) {\n                        var mid = (low + high) >>> 1, substr = line.slice(0, mid + 1), substrWidth = this._getTextWidth(substr) + additionalWidth;\n                        if (substrWidth <= maxWidth) {\n                            low = mid + 1;\n                            match = substr;\n                            matchWidth = substrWidth;\n                        }\n                        else {\n                            high = mid;\n                        }\n                    }\n                    if (match) {\n                        if (wrapAtWord) {\n                            var wrapIndex;\n                            var nextChar = line[match.length];\n                            var nextIsSpaceOrDash = nextChar === SPACE || nextChar === DASH;\n                            if (nextIsSpaceOrDash && matchWidth <= maxWidth) {\n                                wrapIndex = match.length;\n                            }\n                            else {\n                                wrapIndex =\n                                    Math.max(match.lastIndexOf(SPACE), match.lastIndexOf(DASH)) +\n                                        1;\n                            }\n                            if (wrapIndex > 0) {\n                                low = wrapIndex;\n                                match = match.slice(0, low);\n                                matchWidth = this._getTextWidth(match);\n                            }\n                        }\n                        match = match.trimRight();\n                        this._addTextLine(match);\n                        textWidth = Math.max(textWidth, matchWidth);\n                        currentHeightPx += lineHeightPx;\n                        var shouldHandleEllipsis = this._shouldHandleEllipsis(currentHeightPx);\n                        if (shouldHandleEllipsis) {\n                            this._tryToAddEllipsisToLastLine();\n                            break;\n                        }\n                        line = line.slice(low);\n                        line = line.trimLeft();\n                        if (line.length > 0) {\n                            lineWidth = this._getTextWidth(line);\n                            if (lineWidth <= maxWidth) {\n                                this._addTextLine(line);\n                                currentHeightPx += lineHeightPx;\n                                textWidth = Math.max(textWidth, lineWidth);\n                                break;\n                            }\n                        }\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n            else {\n                this._addTextLine(line);\n                currentHeightPx += lineHeightPx;\n                textWidth = Math.max(textWidth, lineWidth);\n                if (this._shouldHandleEllipsis(currentHeightPx) && i < max - 1) {\n                    this._tryToAddEllipsisToLastLine();\n                }\n            }\n            if (this.textArr[this.textArr.length - 1]) {\n                this.textArr[this.textArr.length - 1].lastInParagraph = true;\n            }\n            if (fixedHeight && currentHeightPx + lineHeightPx > maxHeightPx) {\n                break;\n            }\n        }\n        this.textHeight = fontSize;\n        this.textWidth = textWidth;\n    }\n    _shouldHandleEllipsis(currentHeightPx) {\n        var fontSize = +this.fontSize(), lineHeightPx = this.lineHeight() * fontSize, height = this.attrs.height, fixedHeight = height !== AUTO && height !== undefined, padding = this.padding(), maxHeightPx = height - padding * 2, wrap = this.wrap(), shouldWrap = wrap !== NONE;\n        return (!shouldWrap ||\n            (fixedHeight && currentHeightPx + lineHeightPx > maxHeightPx));\n    }\n    _tryToAddEllipsisToLastLine() {\n        var width = this.attrs.width, fixedWidth = width !== AUTO && width !== undefined, padding = this.padding(), maxWidth = width - padding * 2, shouldAddEllipsis = this.ellipsis();\n        var lastLine = this.textArr[this.textArr.length - 1];\n        if (!lastLine || !shouldAddEllipsis) {\n            return;\n        }\n        if (fixedWidth) {\n            var haveSpace = this._getTextWidth(lastLine.text + ELLIPSIS) < maxWidth;\n            if (!haveSpace) {\n                lastLine.text = lastLine.text.slice(0, lastLine.text.length - 3);\n            }\n        }\n        this.textArr.splice(this.textArr.length - 1, 1);\n        this._addTextLine(lastLine.text + ELLIPSIS);\n    }\n    getStrokeScaleEnabled() {\n        return true;\n    }\n}\nexports.Text = Text;\nText.prototype._fillFunc = _fillFunc;\nText.prototype._strokeFunc = _strokeFunc;\nText.prototype.className = TEXT_UPPER;\nText.prototype._attrsAffectingSize = [\n    'text',\n    'fontSize',\n    'padding',\n    'wrap',\n    'lineHeight',\n    'letterSpacing',\n];\n(0, Global_1._registerNode)(Text);\nFactory_1.Factory.overWriteSetter(Text, 'width', (0, Validators_1.getNumberOrAutoValidator)());\nFactory_1.Factory.overWriteSetter(Text, 'height', (0, Validators_1.getNumberOrAutoValidator)());\nFactory_1.Factory.addGetterSetter(Text, 'fontFamily', 'Arial');\nFactory_1.Factory.addGetterSetter(Text, 'fontSize', 12, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Text, 'fontStyle', NORMAL);\nFactory_1.Factory.addGetterSetter(Text, 'fontVariant', NORMAL);\nFactory_1.Factory.addGetterSetter(Text, 'padding', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Text, 'align', LEFT);\nFactory_1.Factory.addGetterSetter(Text, 'verticalAlign', TOP);\nFactory_1.Factory.addGetterSetter(Text, 'lineHeight', 1, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Text, 'wrap', WORD);\nFactory_1.Factory.addGetterSetter(Text, 'ellipsis', false, (0, Validators_1.getBooleanValidator)());\nFactory_1.Factory.addGetterSetter(Text, 'letterSpacing', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Text, 'text', '', (0, Validators_1.getStringValidator)());\nFactory_1.Factory.addGetterSetter(Text, 'textDecoration', '');\n","/**\n * @file\n *\n * Defines the {@link DefaultPointMarker} class.\n *\n * @module default-point-marker\n */\n\nimport { Line } from 'konva/lib/shapes/Line';\nimport { Rect } from 'konva/lib/shapes/Rect';\nimport { Text } from 'konva/lib/shapes/Text';\n\n/**\n * Creates a point marker handle.\n *\n * @class\n * @alias DefaultPointMarker\n *\n * @param {CreatePointMarkerOptions} options\n */\n\nfunction DefaultPointMarker(options) {\n  this._options = options;\n  this._draggable = options.editable;\n}\n\nDefaultPointMarker.prototype.init = function(group) {\n  const handleWidth  = 10;\n  const handleHeight = 20;\n  const handleX      = -(handleWidth / 2) + 0.5; // Place in the middle of the marker\n\n  // Label\n\n  if (this._options.view === 'zoomview') {\n    // Label - create with default y, the real value is set in fitToView().\n    this._label = new Text({\n      x:          2,\n      y:          0,\n      text:       this._options.point.labelText,\n      textAlign:  'left',\n      fontFamily: this._options.fontFamily || 'sans-serif',\n      fontSize:   this._options.fontSize || 10,\n      fontStyle:  this._options.fontStyle || 'normal',\n      fill:       '#000'\n    });\n  }\n\n  // Handle - create with default y, the real value is set in fitToView().\n\n  this._handle = new Rect({\n    x:       handleX,\n    y:       0,\n    width:   handleWidth,\n    height:  handleHeight,\n    fill:    this._options.color,\n    visible: this._draggable\n  });\n\n  // Line - create with default y and points, the real values\n  // are set in fitToView().\n  this._line = new Line({\n    x:           0,\n    y:           0,\n    stroke:      this._options.color,\n    strokeWidth: 1\n  });\n\n  // Time label - create with default y, the real value is set\n  // in fitToView().\n  this._time = new Text({\n    x:          -24,\n    y:          0,\n    text:       this._options.layer.formatTime(this._options.point.time),\n    fontFamily: this._options.fontFamily,\n    fontSize:   this._options.fontSize,\n    fontStyle:  this._options.fontStyle,\n    fill:       '#000',\n    textAlign:  'center'\n  });\n\n  this._time.hide();\n\n  group.add(this._handle);\n\n  group.add(this._line);\n\n  if (this._label) {\n    group.add(this._label);\n  }\n\n  group.add(this._time);\n\n  this.fitToView();\n\n  this.bindEventHandlers(group);\n};\n\nDefaultPointMarker.prototype.bindEventHandlers = function(group) {\n  const self = this;\n\n  self._handle.on('mouseover touchstart', function() {\n    if (self._draggable) {\n      // Position text to the left of the marker\n      self._time.setX(-24 - self._time.getWidth());\n      self._time.show();\n    }\n  });\n\n  self._handle.on('mouseout touchend', function() {\n    if (self._draggable) {\n      self._time.hide();\n    }\n  });\n\n  group.on('dragstart', function() {\n    self._time.setX(-24 - self._time.getWidth());\n    self._time.show();\n  });\n\n  group.on('dragend', function() {\n    self._time.hide();\n  });\n};\n\nDefaultPointMarker.prototype.fitToView = function() {\n  const height = this._options.layer.getHeight();\n\n  this._line.points([0.5, 0, 0.5, height]);\n\n  if (this._label) {\n    this._label.y(12);\n  }\n\n  if (this._handle) {\n    this._handle.y(height / 2 - 10.5);\n  }\n\n  if (this._time) {\n    this._time.y(height / 2 - 5);\n  }\n};\n\nDefaultPointMarker.prototype.update = function(options) {\n  if (options.time !== undefined) {\n    if (this._time) {\n      this._time.setText(this._options.layer.formatTime(options.time));\n    }\n  }\n\n  if (options.labelText !== undefined) {\n    if (this._label) {\n      this._label.text(options.labelText);\n    }\n  }\n\n  if (options.color !== undefined) {\n    if (this._handle) {\n      this._handle.fill(options.color);\n    }\n\n    this._line.stroke(options.color);\n  }\n\n  if (options.editable !== undefined) {\n    this._draggable = options.editable;\n\n    this._handle.visible(this._draggable);\n  }\n};\n\nexport default DefaultPointMarker;\n","/**\n * @file\n *\n * Defines the {@link DefaultSegmentMarker} class.\n *\n * @module default-segment-marker\n */\n\nimport { Line } from 'konva/lib/shapes/Line';\nimport { Rect } from 'konva/lib/shapes/Rect';\nimport { Text } from 'konva/lib/shapes/Text';\n\n/**\n * Creates a segment marker handle.\n *\n * @class\n * @alias DefaultSegmentMarker\n *\n * @param {CreateSegmentMarkerOptions} options\n */\n\nfunction DefaultSegmentMarker(options) {\n  this._options = options;\n  this._editable = options.editable;\n}\n\nDefaultSegmentMarker.prototype.init = function(group) {\n  const handleWidth  = 15;\n  const handleHeight = 48;\n  let handleX      = -(handleWidth / 2) - 8; // Place off to the side of the segment\n\n  handleX = this._options.startMarker ? (handleX * -1) - 14.9 : handleX;\n\n  const xPosition = this._options.startMarker ? -24 : 24;\n\n  const time = this._options.startMarker ? this._options.segment.startTime :\n                                           this._options.segment.endTime;\n\n  const handleLineColor = this._options.segment.borderColor;\n\n  const handleColor = this._options.segment.handleColor;\n\n  // Label - create with default y, the real value is set in fitToView().\n  this._label = new Text({\n    x:          xPosition,\n    y:          0,\n    text:       this._options.layer.formatTime(time),\n    fontFamily: this._options.fontFamily,\n    fontSize:   this._options.fontSize,\n    fontStyle:  this._options.fontStyle,\n    fill:       '#000',\n    textAlign:  'center',\n    visible:    this._editable\n  });\n\n  this._label.hide();\n\n  // Handle - create with default y, the real value is set in fitToView().\n  this._handle = new Rect({\n    x:           handleX,\n    y:           0,\n    width:       handleWidth,\n    height:      handleHeight,\n    fill:        handleColor,\n    stroke:      handleColor,\n    strokeWidth: 0\n  });\n\n  this._handleLineOne = new Rect({\n    name: 'handleLineOne',\n    x: handleX + 4.5,\n    y: 0,\n    width: 0.5,\n    height: 16,\n    fill: handleLineColor,\n    stroke: handleLineColor,\n    strokeWidth: 1\n  });\n\n  this._handleLineTwo = new Rect({\n    name: 'handleLineTwo',\n    x: handleX + 9.5,\n    y: 0,\n    width: 0.5,\n    height: 16,\n    fill: handleLineColor,\n    stroke: handleLineColor,\n    strokeWidth: 1\n  });\n\n  this._handleLineSingle = new Rect({\n    name: 'handleLineSingle',\n    x: handleX + 7,\n    y: 0,\n    width: 0.5,\n    height: 16,\n    fill: handleLineColor,\n    stroke: handleLineColor,\n    strokeWidth: 1,\n    cornerRadius: 2,\n    visible:     this._editable\n  });\n\n  // Vertical Line - create with default y and points, the real values\n  // are set in fitToView().\n  this._line = new Line({\n    x:           0,\n    y:           0,\n    stroke:      this._options.color,\n    strokeWidth: 1,\n    visible:     this._editable\n  });\n\n  group.add(this._label);\n  // group.add(this._line);\n  group.add(this._handleLineOne);\n  group.add(this._handleLineTwo);\n  group.add(this._handleLineSingle);\n  group.add(this._handle);\n\n  this.fitToView();\n\n  this.bindEventHandlers(group);\n\n  setTimeout(() => {\n    let focusedSegmentShape;\n    const segmentShapes = this._options.layer._segmentShapes;\n\n    for (const [value] of Object.entries(segmentShapes)) {\n      const segmentShape = segmentShapes[value];\n\n      if (segmentShape._endMarker !== null) {\n        focusedSegmentShape = segmentShape;\n        break;\n      }\n    }\n\n    const segmentShapeWidth = focusedSegmentShape._overlay.width();\n\n    if (segmentShapeWidth <= 32.5) {\n      const markerInfo = this.getMarkerInfo(focusedSegmentShape);\n\n      this.updateMarkersSmall(segmentShapeWidth, markerInfo);\n    }\n  }, 0);\n};\n\nDefaultSegmentMarker.prototype.bindEventHandlers = function(group) {\n  const self = this;\n\n  // const xPosition = self._options.startMarker ? -24 : 24;\n\n  if (self._options.draggable) {\n    group.on('dragstart', function() {\n      // self._handle.attrs.fill = '#3641414D'; // neutral-800 .30a\n      // self._handle.attrs.stroke = '#3641414D'; // neutral-800 .30a\n      // if (self._options.startMarker) {\n      //   self._label.setX(xPosition - self._label.getWidth());\n      // }\n\n      // self._label.show();\n    });\n\n    group.on('dragend', function() {\n      // self._label.hide();\n    });\n  }\n\n  self._handle.on('mouseover touchstart', function() {\n    document.body.style.cursor = 'col-resize';\n    // self._handle.attrs.fill = '#3641414D'; // neutral-800 .30a\n    // self._handle.attrs.stroke = '#3641414D'; // neutral-800 .30a\n    // if (self._options.startMarker) {\n    //   self._label.setX(xPosition - self._label.getWidth());\n    // }\n\n    // self._label.show();\n    this.parent.parent.draw();\n  });\n\n  self._handle.on('mouseout touchend', function() {\n    document.body.style.cursor = 'default';\n    // self._handle.attrs.fill = '#6E797A4D'; // neutral-600 .30a\n    // self._handle.attrs.stroke = '#6E797A4D'; // neutral-600 .30a\n    // self._label.hide();\n    this.parent.parent.draw();\n  });\n};\n\nDefaultSegmentMarker.prototype.fitToView = function() {\n  const height = this._options.layer.getHeight();\n\n  this._label.y(height / 2 - 5);\n  this._handle.y(height / 2 + 45);\n  this._handleLineOne.y(height / 2 + 61);\n  this._handleLineTwo.y(height / 2 + 61);\n  this._handleLineSingle.y(height / 2 + 61);\n  // this._line.points([0.5, 0, 0.5, height]);\n};\n\nDefaultSegmentMarker.prototype.updateMarkersSmall = function(segmentShapeWidth, markerInfo) {\n  const { endMarkerHandleLineSingle, startMarkerHandleLineSingle } = markerInfo;\n  const newHandleWidth = (segmentShapeWidth / 2) - 0.5;\n\n  markerInfo.endMarker._handle.x(-newHandleWidth + 1);\n  markerInfo.startMarker._handle.attrs.width = newHandleWidth;\n  markerInfo.endMarker._handle.attrs.width = newHandleWidth;\n\n  markerInfo.endMarkerHandleLines.forEach(line => line.hide());\n  endMarkerHandleLineSingle.show();\n  endMarkerHandleLineSingle.x((newHandleWidth / 2) - newHandleWidth);\n  markerInfo.startMarkerHandleLines.forEach(line => line.hide());\n  startMarkerHandleLineSingle.show();\n  startMarkerHandleLineSingle.x(newHandleWidth / 2);\n};\n\nDefaultSegmentMarker.prototype.getMarkerInfo = function(segmentShape) {\n  const { _endMarker, _startMarker } = segmentShape;\n  const endMarker = _endMarker._marker;\n  const endMarkerGroupChildren = _endMarker._group.children;\n  const startMarker = _startMarker._marker;\n  const startMarkerGroupChildren = _startMarker._group.children;\n\n  const endMarkerHandleLines = endMarkerGroupChildren.filter(\n    child => child.attrs.name === 'handleLineOne' || child.attrs.name === 'handleLineTwo');\n  const endMarkerHandleLineSingle = endMarkerGroupChildren.find(\n    child => child.attrs.name === 'handleLineSingle');\n  const startMarkerHandleLines = startMarkerGroupChildren.filter(\n    child => child.attrs.name === 'handleLineOne' || child.attrs.name === 'handleLineTwo');\n  const startMarkerHandleLineSingle = startMarkerGroupChildren.find(\n    child => child.attrs.name === 'handleLineSingle');\n\n  return {\n    endMarker,\n    startMarker,\n    endMarkerHandleLines,\n    endMarkerHandleLineSingle,\n    startMarkerHandleLines,\n    startMarkerHandleLineSingle\n  };\n};\n\nDefaultSegmentMarker.prototype.update = function(options) {\n  if (options.startTime !== undefined && this._options.startMarker) {\n    let focusedSegmentShape;\n    const segmentShapes = this._options.layer._segmentShapes;\n\n    for (const [value] of Object.entries(segmentShapes)) {\n      const segmentShape = segmentShapes[value];\n\n      if (segmentShape._endMarker !== null) {\n        focusedSegmentShape = segmentShape;\n        break;\n      }\n    }\n\n    const markerInfo = this.getMarkerInfo(focusedSegmentShape);\n\n    const segmentShapeWidth = focusedSegmentShape._overlay.width();\n\n    if (segmentShapeWidth <= 32.5) {\n      this.updateMarkersSmall(segmentShapeWidth, markerInfo);\n    }\n    else {\n      const handleX = -(15 / 2) - 8;\n      const startHandleX = handleX * -1 - 14.9;\n      const endHandleX = handleX;\n\n      markerInfo.endMarker._handle.x(endHandleX);\n      markerInfo.startMarker._handle.x(startHandleX);\n\n      markerInfo.startMarker._handle.attrs.width = 15;\n      markerInfo.endMarker._handle.attrs.width = 15;\n\n      markerInfo.endMarkerHandleLines.forEach(line => line.show());\n      markerInfo.endMarkerHandleLineSingle.hide();\n      markerInfo.startMarkerHandleLines.forEach(line => line.show());\n      markerInfo.startMarkerHandleLineSingle.hide();\n    }\n\n    this._label.text(this._options.layer.formatTime(options.startTime));\n  }\n\n  if (options.endTime !== undefined && !this._options.startMarker) {\n    this._label.text(this._options.layer.formatTime(options.endTime));\n  }\n\n  if (options.editable !== undefined) {\n    this._editable = options.editable;\n\n    this._label.visible(this._editable);\n    this._handle.visible(this._editable);\n    this._line.visible(this._editable);\n  }\n};\n\nexport default DefaultSegmentMarker;\n","/**\n * @file\n *\n * Factory functions for creating point and segment marker handles.\n *\n * @module marker-factories\n */\n\nimport DefaultPointMarker from './default-point-marker';\nimport DefaultSegmentMarker from './default-segment-marker';\nimport { Text } from 'konva/lib/shapes/Text';\n\n/**\n * Parameters for the {@link createSegmentMarker} function.\n *\n * @typedef {Object} CreateSegmentMarkerOptions\n * @global\n * @property {Segment} segment\n * @property {Boolean} draggable If true, marker is draggable.\n * @property {Boolean} startMarker\n * @property {String} color\n * @property {String} fontFamily\n * @property {Number} fontSize\n * @property {String} fontStyle\n * @property {Layer} layer\n * @property {String} view\n * @property {SegmentDisplayOptions} segmentOptions\n */\n\n/**\n * Creates a left or right side segment marker handle.\n *\n * @param {CreateSegmentMarkerOptions} options\n * @returns {Marker}\n */\n\nexport function createSegmentMarker(options) {\n  if (options.view === 'zoomview') {\n    return new DefaultSegmentMarker(options);\n  }\n\n  return null;\n}\n\n/**\n * Parameters for the {@link createSegmentLabel} function.\n *\n * @typedef {Object} SegmentLabelOptions\n * @global\n * @property {Segment} segment The {@link Segment} object associated with this\n *   label.\n * @property {String} view The name of the view that the label is being\n *   created in, either <code>zoomview</code> or <code>overview</code>.\n * @property {SegmentsLayer} layer\n * @property {String} fontFamily\n * @property {Number} fontSize\n * @property {String} fontStyle\n */\n\n/**\n * Creates a Konva object that renders information about a segment, such as\n * its label text.\n *\n * @param {SegmentLabelOptions} options\n * @returns {Konva.Text}\n */\n\nexport function createSegmentLabel(options) {\n  return new Text({\n    x:          12,\n    y:          12,\n    text:       options.segment.labelText,\n    textAlign:  'center',\n    fontFamily: options.fontFamily || 'sans-serif',\n    fontSize:   options.fontSize || 12,\n    fontStyle:  options.fontStyle || 'normal',\n    fill:       '#000'\n  });\n}\n\n/**\n * Parameters for the {@link createPointMarker} function.\n *\n * @typedef {Object} CreatePointMarkerOptions\n * @global\n * @property {Point} point\n * @property {Boolean} editable If true, marker is draggable.\n * @property {String} color\n * @property {Layer} layer\n * @property {String} view\n * @property {String} fontFamily\n * @property {Number} fontSize\n * @property {String} fontStyle\n */\n\n/**\n * Creates a point marker handle.\n *\n * @param {CreatePointMarkerOptions} options\n * @returns {Marker}\n */\n\nexport function createPointMarker(options) {\n  return new DefaultPointMarker(options);\n}\n","/**\n * @file\n *\n * Defines the {@link HighlightLayer} class.\n *\n * @module highlight-layer\n */\n\nimport Konva from 'konva/lib/Core';\nimport { Rect } from 'konva/lib/shapes/Rect';\n\nimport { clamp } from  './utils';\n\n/**\n * Highlight layer options\n *\n * @typedef {Object} HighlightLayerOptions\n * @global\n * @property {Number} highlightOffset\n * @property {String} highlightColor\n * @property {String} highlightStrokeColor\n * @property {Number} highlightOpacity\n * @property {Number} highlightCornerRadius\n */\n\n/**\n * Creates the highlight region that shows the position of the zoomable\n * waveform view in the overview waveform.\n *\n * @class\n * @alias HighlightLayer\n *\n * @param {WaveformOverview} view\n * @param {HighlightLayerOptions} options\n */\n\nfunction HighlightLayer(view, options) {\n  this._view          = view;\n  this._offset        = options.highlightOffset;\n  this._color         = options.highlightColor;\n  this._layer         = new Konva.Layer({ listening: false });\n  this._highlightRect = null;\n  this._startTime     = null;\n  this._endTime       = null;\n  this._strokeColor   = options.highlightStrokeColor;\n  this._opacity       = options.highlightOpacity;\n  this._cornerRadius  = options.highlightCornerRadius;\n}\n\nHighlightLayer.prototype.addToStage = function(stage) {\n  stage.add(this._layer);\n};\n\nHighlightLayer.prototype.showHighlight = function(startTime, endTime) {\n  if (!this._highlightRect) {\n    this._createHighlightRect(startTime, endTime);\n  }\n\n  this._update(startTime, endTime);\n};\n\n/**\n * Updates the position of the highlight region.\n *\n * @param {Number} startTime The start of the highlight region, in seconds.\n * @param {Number} endTime The end of the highlight region, in seconds.\n */\n\nHighlightLayer.prototype._update = function(startTime, endTime) {\n  this._startTime = startTime;\n  this._endTime = endTime;\n\n  const startOffset = this._view.timeToPixels(startTime);\n  const endOffset   = this._view.timeToPixels(endTime);\n\n  this._highlightRect.setAttrs({\n    x:     startOffset,\n    width: endOffset - startOffset\n  });\n};\n\nHighlightLayer.prototype._createHighlightRect = function(startTime, endTime) {\n  this._startTime = startTime;\n  this._endTime   = endTime;\n\n  const startOffset = this._view.timeToPixels(startTime);\n  const endOffset   = this._view.timeToPixels(endTime);\n\n  // Create with default y and height, the real values are set in fitToView().\n  this._highlightRect = new Rect({\n    x:            startOffset,\n    y:            0,\n    width:        endOffset - startOffset,\n    height:       0,\n    stroke:       this._strokeColor,\n    strokeWidth:  1,\n    fill:         this._color,\n    opacity:      this._opacity,\n    cornerRadius: this._cornerRadius\n  });\n\n  this.fitToView();\n\n  this._layer.add(this._highlightRect);\n};\n\nHighlightLayer.prototype.removeHighlight = function() {\n  if (this._highlightRect) {\n    this._highlightRect.destroy();\n    this._highlightRect = null;\n  }\n};\n\nHighlightLayer.prototype.updateHighlight = function() {\n  if (this._highlightRect) {\n    this._update(this._startTime, this._endTime);\n  }\n};\n\nHighlightLayer.prototype.fitToView = function() {\n  if (this._highlightRect) {\n    const height = this._view.getHeight();\n    const offset = clamp(this._offset, 0, Math.floor(height / 2));\n\n    this._highlightRect.setAttrs({\n      y: offset,\n      height: height - (offset * 2)\n    });\n  }\n};\n\nexport default HighlightLayer;\n","/**\n * @file\n *\n * Defines the {@link PlayheadLayer} class.\n *\n * @module playhead-layer\n */\n\nimport Konva from 'konva/lib/Core';\nimport { Animation } from 'konva/lib/Animation';\nimport { Line } from 'konva/lib/shapes/Line';\nimport { Text } from 'konva/lib/shapes/Text';\n\n/**\n * Creates a Konva.Layer that displays a playhead marker.\n *\n * @class\n * @alias PlayheadLayer\n *\n * @param {Object} options\n * @param {Player} options.player\n * @param {WaveformOverview|WaveformZoomView} options.view\n * @param {Boolean} options.showPlayheadTime If <code>true</code> The playback time position\n *   is shown next to the playhead.\n * @param {String} options.playheadColor\n * @param {String} options.playheadTextColor\n * @param {String} options.playheadFontFamily\n * @param {Number} options.playheadFontSize\n * @param {String} options.playheadFontStyle\n */\n\nfunction PlayheadLayer(options) {\n  this._player = options.player;\n  this._view = options.view;\n  this._playheadPixel = 0;\n  this._playheadLineAnimation = null;\n  this._playheadVisible = false;\n  this._playheadColor = options.playheadColor;\n  this._playheadTextColor = options.playheadTextColor;\n\n  this._playheadFontFamily = options.playheadFontFamily;\n  this._playheadFontSize = options.playheadFontSize;\n  this._playheadFontStyle = options.playheadFontStyle;\n\n  this._playheadLayer = new Konva.Layer();\n\n  this._createPlayhead(this._playheadColor);\n\n  if (options.showPlayheadTime) {\n    this._createPlayheadText(this._playheadTextColor);\n  }\n\n  this.fitToView();\n\n  this.zoomLevelChanged();\n}\n\n/**\n * Adds the layer to the given {Konva.Stage}.\n *\n * @param {Konva.Stage} stage\n */\n\nPlayheadLayer.prototype.addToStage = function(stage) {\n  stage.add(this._playheadLayer);\n};\n\n/**\n * Decides whether to use an animation to update the playhead position.\n *\n * If the zoom level is such that the number of pixels per second of audio is\n * low, we can use timeupdate events from the HTMLMediaElement to\n * set the playhead position. Otherwise, we use an animation to update the\n * playhead position more smoothly. The animation is CPU intensive, so we\n * avoid using it where possible.\n */\n\nPlayheadLayer.prototype.zoomLevelChanged = function() {\n  const pixelsPerSecond = this._view.timeToPixels(1.0);\n\n  this._useAnimation = pixelsPerSecond >= 5;\n\n  if (this._useAnimation) {\n    if (this._player.isPlaying() && !this._playheadLineAnimation) {\n      // Start the animation\n      this._start();\n    }\n  }\n  else {\n    if (this._playheadLineAnimation) {\n      // Stop the animation\n      const time = this._player.getCurrentTime();\n\n      this.stop(time);\n    }\n  }\n};\n\n/**\n * Resizes the playhead UI objects to fit the available space in the\n * view.\n */\n\nPlayheadLayer.prototype.fitToView = function() {\n  const height = this._view.getHeight();\n\n  this._playheadLine.points([0.5, 0, 0.5, height]);\n\n  if (this._playheadText) {\n    this._playheadText.y(12);\n  }\n};\n\n/**\n * Creates the playhead UI objects.\n *\n * @private\n * @param {String} color\n */\n\nPlayheadLayer.prototype._createPlayhead = function(color) {\n  // Create with default points, the real values are set in fitToView().\n  this._playheadLine = new Line({\n    stroke:      color,\n    strokeWidth: 1\n  });\n\n  this._playheadGroup = new Konva.Group({\n    x: 0,\n    y: 0\n  });\n\n  this._playheadGroup.add(this._playheadLine);\n  this._playheadLayer.add(this._playheadGroup);\n};\n\nPlayheadLayer.prototype._createPlayheadText = function(color) {\n  const time = this._player.getCurrentTime();\n  const text = this._view.formatTime(time);\n\n  // Create with default y, the real value is set in fitToView().\n  this._playheadText = new Text({\n    x: 2,\n    y: 0,\n    text: text,\n    fontSize: this._playheadFontSize,\n    fontFamily: this._playheadFontFamily,\n    fontStyle: this._playheadFontStyle,\n    fill: color,\n    align: 'right'\n  });\n\n  this._playheadGroup.add(this._playheadText);\n};\n\n/**\n * Updates the playhead position.\n *\n * @param {Number} time Current playhead position, in seconds.\n */\n\nPlayheadLayer.prototype.updatePlayheadTime = function(time) {\n  this._syncPlayhead(time);\n\n  if (this._player.isPlaying()) {\n    this._start();\n  }\n};\n\n/**\n * Updates the playhead position.\n *\n * @private\n * @param {Number} time Current playhead position, in seconds.\n */\n\nPlayheadLayer.prototype._syncPlayhead = function(time) {\n  const pixelIndex = this._view.timeToPixels(time);\n\n  const frameOffset = this._view.getFrameOffset();\n  const width = this._view.getWidth();\n\n  const isVisible = (pixelIndex >= frameOffset) &&\n                    (pixelIndex <= frameOffset + width);\n\n  this._playheadPixel = pixelIndex;\n\n  if (isVisible) {\n    const playheadX = this._playheadPixel - frameOffset;\n\n    if (!this._playheadVisible) {\n      this._playheadVisible = true;\n      this._playheadGroup.show();\n    }\n\n    this._playheadGroup.setX(playheadX);\n\n    if (this._playheadText) {\n      const text = this._view.formatTime(time);\n      const playheadTextWidth = this._playheadText.getTextWidth();\n\n      this._playheadText.setText(text);\n\n      if (playheadTextWidth + playheadX > width - 2) {\n        this._playheadText.setX(-playheadTextWidth - 2);\n      }\n      else if (playheadTextWidth + playheadX < width) {\n        this._playheadText.setX(2);\n      }\n    }\n  }\n  else {\n    if (this._playheadVisible) {\n      this._playheadVisible = false;\n      this._playheadGroup.hide();\n    }\n  }\n\n  if (this._view.playheadPosChanged) {\n    this._view.playheadPosChanged(time);\n  }\n};\n\n/**\n * Starts a playhead animation in sync with the media playback.\n *\n * @private\n */\n\nPlayheadLayer.prototype._start = function() {\n  const self = this;\n\n  if (self._playheadLineAnimation) {\n    self._playheadLineAnimation.stop();\n    self._playheadLineAnimation = null;\n  }\n\n  if (!self._useAnimation) {\n    return;\n  }\n\n  let lastPlayheadPosition = null;\n\n  self._playheadLineAnimation = new Animation(function() {\n    const time = self._player.getCurrentTime();\n    const playheadPosition = self._view.timeToPixels(time);\n\n    if (playheadPosition !== lastPlayheadPosition) {\n      self._syncPlayhead(time);\n      lastPlayheadPosition = playheadPosition;\n    }\n  }, self._playheadLayer);\n\n  self._playheadLineAnimation.start();\n};\n\nPlayheadLayer.prototype.stop = function(time) {\n  if (this._playheadLineAnimation) {\n    this._playheadLineAnimation.stop();\n    this._playheadLineAnimation = null;\n  }\n\n  this._syncPlayhead(time);\n};\n\nPlayheadLayer.prototype.getPlayheadPixel = function() {\n  return this._playheadPixel;\n};\n\nPlayheadLayer.prototype.showPlayheadTime = function(show) {\n  if (show) {\n    if (!this._playheadText) {\n      // Create it\n      this._createPlayheadText(this._playheadTextColor);\n      this.fitToView();\n    }\n  }\n  else {\n    if (this._playheadText) {\n      this._playheadText.remove();\n      this._playheadText.destroy();\n      this._playheadText = null;\n    }\n  }\n};\n\nPlayheadLayer.prototype.updatePlayheadText = function() {\n  if (this._playheadText) {\n    const time = this._player.getCurrentTime();\n    const text = this._view.formatTime(time);\n\n    this._playheadText.setText(text);\n  }\n};\n\nPlayheadLayer.prototype.destroy = function() {\n  if (this._playheadLineAnimation) {\n    this._playheadLineAnimation.stop();\n    this._playheadLineAnimation = null;\n  }\n};\n\nexport default PlayheadLayer;\n","/**\n * @file\n *\n * Defines the {@link PointMarker} class.\n *\n * @module point-marker\n */\n\nimport Konva from 'konva/lib/Core';\n\n/**\n * Parameters for the {@link PointMarker} constructor.\n *\n * @typedef {Object} PointMarkerOptions\n * @global\n * @property {Point} point Point object with timestamp.\n * @property {Boolean} editable If true, marker is draggable.\n * @property {Marker} marker\n * @property {Function} onclick\n * @property {Function} onDblClick\n * @property {Function} onDragStart\n * @property {Function} onDragMove Callback during mouse drag operations.\n * @property {Function} onDragEnd\n * @property {Function} dragBoundFunc\n * @property {Function} onMouseEnter\n * @property {Function} onMouseLeave\n * @property {Function} onContextMenu\n */\n\n/**\n * Creates a point marker handle.\n *\n * @class\n * @alias PointMarker\n *\n * @param {PointMarkerOptions} options\n */\n\nfunction PointMarker(options) {\n  this._point     = options.point;\n  this._marker    = options.marker;\n  this._draggable = options.draggable;\n\n  this._onDragStart   = options.onDragStart;\n  this._onDragMove    = options.onDragMove;\n  this._onDragEnd     = options.onDragEnd;\n  this._dragBoundFunc = options.dragBoundFunc;\n  this._onMouseEnter  = options.onMouseEnter;\n  this._onMouseLeave  = options.onMouseLeave;\n\n  this._group = new Konva.Group({\n    name:          'point-marker',\n    point:         this._point,\n    draggable:     this._draggable,\n    dragBoundFunc: options.dragBoundFunc\n  });\n\n  this._bindDefaultEventHandlers();\n\n  this._marker.init(this._group);\n}\n\nPointMarker.prototype._bindDefaultEventHandlers = function() {\n  const self = this;\n\n  self._group.on('dragstart', function(event) {\n    self._onDragStart(event, self._point);\n  });\n\n  self._group.on('dragmove', function(event) {\n    self._onDragMove(event, self._point);\n  });\n\n  self._group.on('dragend', function(event) {\n    self._onDragEnd(event, self._point);\n  });\n\n  self._group.on('mouseenter', function(event) {\n    self._onMouseEnter(event, self._point);\n  });\n\n  self._group.on('mouseleave', function(event) {\n    self._onMouseLeave(event, self._point);\n  });\n};\n\n/**\n * @param {Konva.Layer} layer\n */\n\nPointMarker.prototype.addToLayer = function(layer) {\n  layer.add(this._group);\n};\n\nPointMarker.prototype.fitToView = function() {\n  this._marker.fitToView();\n};\n\nPointMarker.prototype.getPoint = function() {\n  return this._point;\n};\n\nPointMarker.prototype.getX = function() {\n  return this._group.getX();\n};\n\nPointMarker.prototype.setX = function(x) {\n  this._group.setX(x);\n};\n\nPointMarker.prototype.getWidth = function() {\n  return this._group.getWidth();\n};\n\nPointMarker.prototype.getAbsolutePosition = function() {\n  return this._group.getAbsolutePosition();\n};\n\nPointMarker.prototype.update = function(options) {\n  if (options.editable !== undefined) {\n    this._group.draggable(options.editable);\n  }\n\n  if (this._marker.update) {\n    this._marker.update(options);\n  }\n};\n\nPointMarker.prototype.destroy = function() {\n  if (this._marker.destroy) {\n    this._marker.destroy();\n  }\n\n  this._group.destroyChildren();\n  this._group.destroy();\n};\n\nexport default PointMarker;\n","/**\n * @file\n *\n * Defines the {@link PointsLayer} class.\n *\n * @module points-layer\n */\n\nimport PointMarker from './point-marker';\nimport { clamp, objectHasProperty } from './utils';\nimport Konva from 'konva/lib/Core';\n\nconst defaultFontFamily = 'sans-serif';\nconst defaultFontSize = 10;\nconst defaultFontShape = 'normal';\n\n/**\n * Creates a Konva.Layer that displays point markers against the audio\n * waveform.\n *\n * @class\n * @alias PointsLayer\n *\n * @param {Peaks} peaks\n * @param {WaveformOverview|WaveformZoomView} view\n * @param {Boolean} allowEditing\n */\n\nfunction PointsLayer(peaks, view, allowEditing) {\n  this._peaks        = peaks;\n  this._view         = view;\n  this._allowEditing = allowEditing;\n  this._pointMarkers = {};\n  this._layer        = new Konva.Layer();\n\n  this._onPointsDrag = this._onPointsDrag.bind(this);\n\n  this._onPointMarkerDragStart   = this._onPointMarkerDragStart.bind(this);\n  this._onPointMarkerDragMove    = this._onPointMarkerDragMove.bind(this);\n  this._onPointMarkerDragEnd     = this._onPointMarkerDragEnd.bind(this);\n  this._pointMarkerDragBoundFunc = this._pointMarkerDragBoundFunc.bind(this);\n  this._onPointMarkerMouseEnter  = this._onPointMarkerMouseEnter.bind(this);\n  this._onPointMarkerMouseLeave  = this._onPointMarkerMouseLeave.bind(this);\n\n  this._onPointsUpdate    = this._onPointsUpdate.bind(this);\n  this._onPointsAdd       = this._onPointsAdd.bind(this);\n  this._onPointsRemove    = this._onPointsRemove.bind(this);\n  this._onPointsRemoveAll = this._onPointsRemoveAll.bind(this);\n\n  this._peaks.on('points.update', this._onPointsUpdate);\n  this._peaks.on('points.add', this._onPointsAdd);\n  this._peaks.on('points.remove', this._onPointsRemove);\n  this._peaks.on('points.remove_all', this._onPointsRemoveAll);\n\n  this._peaks.on('points.dragstart', this._onPointsDrag);\n  this._peaks.on('points.dragmove', this._onPointsDrag);\n  this._peaks.on('points.dragend', this._onPointsDrag);\n}\n\n/**\n * Adds the layer to the given {Konva.Stage}.\n *\n * @param {Konva.Stage} stage\n */\n\nPointsLayer.prototype.addToStage = function(stage) {\n  stage.add(this._layer);\n};\n\nPointsLayer.prototype.enableEditing = function(enable) {\n  this._allowEditing = enable;\n};\n\nPointsLayer.prototype.getPointMarker = function(point) {\n  return this._pointMarkers[point.pid];\n};\n\nPointsLayer.prototype.formatTime = function(time) {\n  return this._view.formatTime(time);\n};\n\nPointsLayer.prototype._onPointsUpdate = function(point, options) {\n  const frameStartTime = this._view.getStartTime();\n  const frameEndTime   = this._view.getEndTime();\n\n  const pointMarker = this.getPointMarker(point);\n  const isVisible = point.isVisible(frameStartTime, frameEndTime);\n\n  if (pointMarker && !isVisible) {\n    // Remove point marker that is no longer visible.\n    this._removePoint(point);\n  }\n  else if (!pointMarker && isVisible) {\n    // Add point marker for visible point.\n    this._updatePoint(point);\n  }\n  else if (pointMarker && isVisible) {\n    // Update the point marker with the changed attributes.\n    if (objectHasProperty(options, 'time')) {\n      const pointMarkerOffset = this._view.timeToPixels(point.time);\n\n      const pointMarkerX = pointMarkerOffset - this._view.getFrameOffset();\n\n      pointMarker.setX(pointMarkerX);\n    }\n\n    pointMarker.update(options);\n  }\n};\n\nPointsLayer.prototype._onPointsAdd = function(event) {\n  const self = this;\n\n  const frameStartTime = self._view.getStartTime();\n  const frameEndTime   = self._view.getEndTime();\n\n  event.points.forEach(function(point) {\n    if (point.isVisible(frameStartTime, frameEndTime)) {\n      self._updatePoint(point);\n    }\n  });\n};\n\nPointsLayer.prototype._onPointsRemove = function(event) {\n  const self = this;\n\n  event.points.forEach(function(point) {\n    self._removePoint(point);\n  });\n};\n\nPointsLayer.prototype._onPointsRemoveAll = function() {\n  this._layer.removeChildren();\n  this._pointMarkers = {};\n};\n\n/**\n * Creates the Konva UI objects for a given point.\n *\n * @private\n * @param {Point} point\n * @returns {PointMarker}\n */\n\nPointsLayer.prototype._createPointMarker = function(point) {\n  const editable = this._allowEditing && point.editable;\n\n  const marker = this._peaks.options.createPointMarker({\n    point:      point,\n    editable:   editable,\n    color:      point.color,\n    fontFamily: this._peaks.options.fontFamily || defaultFontFamily,\n    fontSize:   this._peaks.options.fontSize || defaultFontSize,\n    fontStyle:  this._peaks.options.fontStyle || defaultFontShape,\n    layer:      this,\n    view:       this._view.getName()\n  });\n\n  return new PointMarker({\n    point:         point,\n    draggable:     editable,\n    marker:        marker,\n    onDragStart:   this._onPointMarkerDragStart,\n    onDragMove:    this._onPointMarkerDragMove,\n    onDragEnd:     this._onPointMarkerDragEnd,\n    dragBoundFunc: this._pointMarkerDragBoundFunc,\n    onMouseEnter:  this._onPointMarkerMouseEnter,\n    onMouseLeave:  this._onPointMarkerMouseLeave\n  });\n};\n\nPointsLayer.prototype.getHeight = function() {\n  return this._view.getHeight();\n};\n\n/**\n * Adds a Konva UI object to the layer for a given point.\n *\n * @private\n * @param {Point} point\n * @returns {PointMarker}\n */\n\nPointsLayer.prototype._addPointMarker = function(point) {\n  const pointMarker = this._createPointMarker(point);\n\n  this._pointMarkers[point.pid] = pointMarker;\n\n  pointMarker.addToLayer(this._layer);\n\n  return pointMarker;\n};\n\nPointsLayer.prototype._onPointsDrag = function(event) {\n  const pointMarker = this._updatePoint(event.point);\n\n  pointMarker.update({ time: event.point.time });\n};\n\n/**\n * @param {KonvaEventObject} event\n * @param {Point} point\n */\n\nPointsLayer.prototype._onPointMarkerMouseEnter = function(event, point) {\n  this._peaks.emit('points.mouseenter', {\n    point: point,\n    evt: event.evt\n  });\n};\n\n/**\n * @param {KonvaEventObject} event\n * @param {Point} point\n */\n\nPointsLayer.prototype._onPointMarkerMouseLeave = function(event, point) {\n  this._peaks.emit('points.mouseleave', {\n    point: point,\n    evt: event.evt\n  });\n};\n\n/**\n * @param {KonvaEventObject} event\n * @param {Point} point\n */\n\nPointsLayer.prototype._onPointMarkerDragStart = function(event, point) {\n  this._dragPointMarker = this.getPointMarker(point);\n\n  this._peaks.emit('points.dragstart', {\n    point: point,\n    evt: event.evt\n  });\n};\n\n/**\n * @param {KonvaEventObject} event\n * @param {Point} point\n */\n\nPointsLayer.prototype._onPointMarkerDragMove = function(event, point) {\n  const pointMarker = this._pointMarkers[point.pid];\n\n  const markerX = pointMarker.getX();\n\n  const offset = markerX + pointMarker.getWidth();\n\n  point._setTime(this._view.pixelOffsetToTime(offset));\n\n  this._peaks.emit('points.dragmove', {\n    point: point,\n    evt: event.evt\n  });\n};\n\n/**\n * @param {KonvaEventObject} event\n * @param {Point} point\n */\n\nPointsLayer.prototype._onPointMarkerDragEnd = function(event, point) {\n  this._dragPointMarker = null;\n\n  this._peaks.emit('points.dragend', {\n    point: point,\n    evt: event.evt\n  });\n};\n\nPointsLayer.prototype._pointMarkerDragBoundFunc = function(pos) {\n  // Allow the marker to be moved horizontally but not vertically.\n  return {\n    x: clamp(pos.x, 0, this._view.getWidth()),\n    y: this._dragPointMarker.getAbsolutePosition().y\n  };\n};\n\n/**\n * Updates the positions of all displayed points in the view.\n *\n * @param {Number} startTime The start of the visible range in the view,\n *   in seconds.\n * @param {Number} endTime The end of the visible range in the view,\n *   in seconds.\n */\n\nPointsLayer.prototype.updatePoints = function(startTime, endTime) {\n  // Update all points in the visible time range.\n  const points = this._peaks.points.find(startTime, endTime);\n\n  points.forEach(this._updatePoint.bind(this));\n\n  // TODO: In the overview all points are visible, so no need to do this.\n  this._removeInvisiblePoints(startTime, endTime);\n};\n\n/**\n * @private\n * @param {Point} point\n */\n\nPointsLayer.prototype._updatePoint = function(point) {\n  let pointMarker = this.getPointMarker(point);\n\n  if (!pointMarker) {\n    pointMarker = this._addPointMarker(point);\n  }\n\n  const pointMarkerOffset = this._view.timeToPixels(point.time);\n  const pointMarkerX = pointMarkerOffset - this._view.getFrameOffset();\n\n  pointMarker.setX(pointMarkerX);\n\n  return pointMarker;\n};\n\n/**\n * Remove any points that are not visible, i.e., are outside the given time\n * range.\n *\n * @private\n * @param {Number} startTime The start of the visible time range, in seconds.\n * @param {Number} endTime The end of the visible time range, in seconds.\n */\n\nPointsLayer.prototype._removeInvisiblePoints = function(startTime, endTime) {\n  for (const pointPid in this._pointMarkers) {\n    if (objectHasProperty(this._pointMarkers, pointPid)) {\n      const point = this._pointMarkers[pointPid].getPoint();\n\n      if (!point.isVisible(startTime, endTime)) {\n        this._removePoint(point);\n      }\n    }\n  }\n};\n\n/**\n * Removes the UI object for a given point.\n *\n * @private\n * @param {Point} point\n */\n\nPointsLayer.prototype._removePoint = function(point) {\n  const pointMarker = this.getPointMarker(point);\n\n  if (pointMarker) {\n    pointMarker.destroy();\n    delete this._pointMarkers[point.pid];\n  }\n};\n\n/**\n * Toggles visibility of the points layer.\n *\n * @param {Boolean} visible\n */\n\nPointsLayer.prototype.setVisible = function(visible) {\n  this._layer.setVisible(visible);\n};\n\nPointsLayer.prototype.destroy = function() {\n  this._peaks.off('points.update', this._onPointsUpdate);\n  this._peaks.off('points.add', this._onPointsAdd);\n  this._peaks.off('points.remove', this._onPointsRemove);\n  this._peaks.off('points.remove_all', this._onPointsRemoveAll);\n  this._peaks.off('points.dragstart', this._onPointsDrag);\n  this._peaks.off('points.dragmove', this._onPointsDrag);\n  this._peaks.off('points.dragend', this._onPointsDrag);\n};\n\nPointsLayer.prototype.fitToView = function() {\n  for (const pointPid in this._pointMarkers) {\n    if (objectHasProperty(this._pointMarkers, pointPid)) {\n      const pointMarker = this._pointMarkers[pointPid];\n\n      pointMarker.fitToView();\n    }\n  }\n};\n\nPointsLayer.prototype.draw = function() {\n  this._layer.draw();\n};\n\nexport default PointsLayer;\n","/**\n * @file\n *\n * Defines the {@link OverlaySegmentMarker} class.\n *\n * @module overlay-segment-marker\n */\n\nimport { Rect } from 'konva/lib/shapes/Rect';\nimport { Text } from 'konva/lib/shapes/Text';\n\nimport { clamp } from './utils';\n\n/**\n * Creates a segment marker handle.\n *\n * @class\n * @alias OverlaySegmentMarker\n *\n * @param {CreateSegmentMarkerOptions} options\n */\n\nfunction OverlaySegmentMarker(options) {\n  this._options = options;\n}\n\nOverlaySegmentMarker.prototype.init = function(group) {\n  const handleWidth  = 10;\n  const handleHeight = 20;\n  const handleX      = -(handleWidth / 2) + 0.5; // Place in the middle of the marker\n\n  const xPosition = this._options.startMarker ? -24 : 24;\n\n  const time = this._options.startMarker ? this._options.segment.startTime :\n                                           this._options.segment.endTime;\n\n  // Label - create with default y, the real value is set in fitToView().\n  this._label = new Text({\n    x:          xPosition,\n    y:          0,\n    text:       this._options.layer.formatTime(time),\n    fontFamily: this._options.fontFamily,\n    fontSize:   this._options.fontSize,\n    fontStyle:  this._options.fontStyle,\n    fill:       '#000',\n    textAlign:  'center',\n    visible:    false\n  });\n\n  // Handle - create with default y, the real value is set in fitToView().\n  this._handle = new Rect({\n    x:       handleX,\n    y:       0,\n    width:   handleWidth,\n    height:  handleHeight\n  });\n\n  group.add(this._label);\n  group.add(this._handle);\n\n  this.fitToView();\n\n  this.bindEventHandlers(group);\n};\n\nOverlaySegmentMarker.prototype.bindEventHandlers = function(group) {\n  const self = this;\n\n  const xPosition = self._options.startMarker ? -24 : 24;\n\n  group.on('dragstart', function() {\n    if (self._options.startMarker) {\n      self._label.setX(xPosition - self._label.getWidth());\n    }\n\n    self._label.show();\n  });\n\n  group.on('dragend', function() {\n    self._label.hide();\n  });\n\n  self._handle.on('mouseover touchstart', function() {\n    if (self._options.startMarker) {\n      self._label.setX(xPosition - self._label.getWidth());\n    }\n\n    self._label.show();\n\n    document.body.style.cursor = 'ew-resize';\n  });\n\n  self._handle.on('mouseout touchend', function() {\n    self._label.hide();\n\n    document.body.style.cursor = 'default';\n  });\n};\n\nOverlaySegmentMarker.prototype.fitToView = function() {\n  const viewHeight = this._options.layer.getHeight();\n\n  const overlayOffset = this._options.segmentOptions.overlayOffset;\n  const overlayRectHeight = clamp(0, viewHeight - 2 * overlayOffset);\n\n  this._label.y(viewHeight / 2 - 5);\n  this._handle.y(overlayOffset);\n  this._handle.height(overlayRectHeight);\n};\n\nOverlaySegmentMarker.prototype.update = function(options) {\n  if (options.startTime !== undefined && this._options.startMarker) {\n    this._label.text(this._options.layer.formatTime(options.startTime));\n  }\n\n  if (options.endTime !== undefined && !this._options.startMarker) {\n    this._label.text(this._options.layer.formatTime(options.endTime));\n  }\n};\n\nexport default OverlaySegmentMarker;\n","/**\n * @file\n *\n * Defines the {@link SegmentMarker} class.\n *\n * @module segment-marker\n */\n\nimport Konva from 'konva/lib/Core';\n\n/**\n * Parameters for the {@link SegmentMarker} constructor.\n *\n * @typedef {Object} SegmentMarkerOptions\n * @global\n * @property {Segment} segment\n * @property {SegmentShape} segmentShape\n * @property {Boolean} editable If true, marker is draggable.\n * @property {Boolean} startMarker If <code>true</code>, the marker indicates\n *   the start time of the segment. If <code>false</code>, the marker\n *   indicates the end time of the segment.\n * @property {Function} onDragStart\n * @property {Function} onDragMove\n * @property {Function} onDragEnd\n * @property {Function} dragBoundFunc\n */\n\n/**\n * Creates a segment handle marker for the start or end of a segment.\n *\n * @class\n * @alias SegmentMarker\n *\n * @param {SegmentMarkerOptions} options\n */\n\nfunction SegmentMarker(options) {\n  const self = this;\n\n  self._segment       = options.segment;\n  self._marker        = options.marker;\n  self._segmentShape  = options.segmentShape;\n  self._editable      = options.editable;\n  self._startMarker   = options.startMarker;\n\n  self._onDragStart   = options.onDragStart;\n  self._onDragMove    = options.onDragMove;\n  self._onDragEnd     = options.onDragEnd;\n\n  self._group = new Konva.Group({\n    name:          'segment-marker',\n    segment:       self._segment,\n    draggable:     self._editable,\n    visible:       self._editable,\n    dragBoundFunc: function(pos) {\n      return options.dragBoundFunc(self, pos);\n    }\n  });\n\n  self._bindDefaultEventHandlers();\n\n  self._marker.init(self._group);\n}\n\nSegmentMarker.prototype._bindDefaultEventHandlers = function() {\n  const self = this;\n\n  self._group.on('dragstart', function(event) {\n    self._onDragStart(self, event);\n  });\n\n  self._group.on('dragmove', function(event) {\n    self._onDragMove(self, event);\n  });\n\n  self._group.on('dragend', function(event) {\n    self._onDragEnd(self, event);\n  });\n};\n\nSegmentMarker.prototype.addToLayer = function(layer) {\n  layer.add(this._group);\n};\n\nSegmentMarker.prototype.moveToTop = function() {\n  this._group.moveToTop();\n};\n\nSegmentMarker.prototype.fitToView = function() {\n  this._marker.fitToView();\n};\n\nSegmentMarker.prototype.getSegment = function() {\n  return this._segment;\n};\n\nSegmentMarker.prototype.getX = function() {\n  return this._group.getX();\n};\n\nSegmentMarker.prototype.setX = function(x) {\n  this._group.setX(x);\n};\n\nSegmentMarker.prototype.getWidth = function() {\n  return this._group.getWidth();\n};\n\nSegmentMarker.prototype.getAbsolutePosition = function() {\n  return this._group.getAbsolutePosition();\n};\n\nSegmentMarker.prototype.isStartMarker = function() {\n  return this._startMarker;\n};\n\nSegmentMarker.prototype.update = function(options) {\n  if (options.editable !== undefined) {\n    this._group.visible(options.editable);\n    this._group.draggable(options.editable);\n  }\n\n  if (this._marker.update) {\n    this._marker.update(options);\n  }\n};\n\nSegmentMarker.prototype.destroy = function() {\n  if (this._marker.destroy) {\n    this._marker.destroy();\n  }\n\n  this._group.destroyChildren();\n  this._group.destroy();\n};\n\nSegmentMarker.prototype.startDrag = function() {\n  this._group.startDrag();\n};\n\nSegmentMarker.prototype.stopDrag = function() {\n  this._group.stopDrag();\n};\n\nexport default SegmentMarker;\n","/**\n * @file\n *\n * Defines the {@link WaveformShape} class.\n *\n * @module waveform-shape\n */\n\nimport { clamp, isLinearGradientColor, isString } from './utils';\nimport Konva from 'konva/lib/Core';\n\n/**\n * Waveform shape options.\n *\n * @typedef {Object} WaveformShapeOptions\n * @global\n * @property {String | LinearGradientColor} color Waveform color.\n * @property {WaveformOverview|WaveformZoomView} view The view object\n *   that contains the waveform shape.\n * @property {Segment?} segment If given, render a waveform image\n *   covering the segment's time range. Otherwise, render the entire\n *   waveform duration.\n */\n\n/**\n * Creates a Konva.Shape object that renders a waveform image.\n *\n * @class\n * @alias WaveformShape\n *\n * @param {WaveformShapeOptions} options\n */\n\nfunction WaveformShape(options) {\n  this._color = options.color;\n\n  const shapeOptions = {};\n\n  if (isString(options.color)) {\n    shapeOptions.fill = options.color;\n  }\n  else if (isLinearGradientColor(options.color)) {\n    const startY = options.view._height * (options.color.linearGradientStart / 100);\n    const endY = options.view._height * (options.color.linearGradientEnd / 100);\n\n    shapeOptions.fillLinearGradientStartPointY = startY;\n    shapeOptions.fillLinearGradientEndPointY = endY;\n    shapeOptions.fillLinearGradientColorStops = [\n      0, options.color.linearGradientColorStops[0],\n      1, options.color.linearGradientColorStops[1]\n    ];\n  }\n  else {\n    throw new TypeError('Unknown type for color property');\n  }\n\n  this._shape = new Konva.Shape(shapeOptions);\n  this._view = options.view;\n  this._segment = options.segment;\n\n  this._shape.sceneFunc(this._sceneFunc.bind(this));\n}\n\nWaveformShape.prototype.getX = function() {\n  return this._shape.getX();\n};\n\nWaveformShape.prototype.setX = function(x) {\n  return this._shape.setX(x);\n};\n\nWaveformShape.prototype.setSegment = function(segment) {\n  this._segment = segment;\n};\n\nWaveformShape.prototype.setWaveformColor = function(color) {\n  if (isString(color)) {\n    this._shape.fill(color);\n\n    this._shape.fillLinearGradientStartPointY(null);\n    this._shape.fillLinearGradientEndPointY(null);\n    this._shape.fillLinearGradientColorStops(null);\n  }\n  else if (isLinearGradientColor(color)) {\n    this._shape.fill(null);\n\n    const startY = this._view._height * (color.linearGradientStart / 100);\n    const endY = this._view._height * (color.linearGradientEnd / 100);\n\n    this._shape.fillLinearGradientStartPointY(startY);\n    this._shape.fillLinearGradientEndPointY(endY);\n    this._shape.fillLinearGradientColorStops([\n      0, color.linearGradientColorStops[0],\n      1, color.linearGradientColorStops[1]\n    ]);\n  }\n  else {\n    throw new TypeError('Unknown type for color property');\n  }\n};\n\nWaveformShape.prototype.fitToView = function() {\n  this.setWaveformColor(this._color);\n};\n\nWaveformShape.prototype._sceneFunc = function(context) {\n  const frameOffset = this._view.getFrameOffset();\n  const width = this._view.getWidth();\n  const height = this._view.getHeight();\n\n  this._drawWaveform(\n    context,\n    this._view.getWaveformData(),\n    frameOffset,\n    this._segment ? this._view.timeToPixels(this._segment.startTime) : frameOffset,\n    this._segment ? this._view.timeToPixels(this._segment.endTime)   : frameOffset + width,\n    width,\n    height\n  );\n};\n\n/**\n * Draws a waveform on a canvas context.\n *\n * @param {Konva.Context} context The canvas context to draw on.\n * @param {WaveformData} waveformData The waveform data to draw.\n * @param {Number} frameOffset The start position of the waveform shown\n *   in the view, in pixels.\n * @param {Number} startPixels The start position of the waveform to draw,\n *   in pixels.\n * @param {Number} endPixels The end position of the waveform to draw,\n *   in pixels.\n * @param {Number} width The width of the waveform area, in pixels.\n * @param {Number} height The height of the waveform area, in pixels.\n */\n\nWaveformShape.prototype._drawWaveform = function(context, waveformData,\n    frameOffset, startPixels, endPixels, width, height) {\n  if (startPixels < frameOffset) {\n    startPixels = frameOffset;\n  }\n\n  const limit = frameOffset + width;\n\n  if (endPixels > limit) {\n    endPixels = limit;\n  }\n\n  if (endPixels > waveformData.length - 1) {\n    endPixels = waveformData.length - 1;\n  }\n\n  const channels = waveformData.channels;\n\n  let waveformTop = 0;\n  let waveformHeight = Math.floor(height / channels);\n\n  for (let i = 0; i < channels; i++) {\n    if (i === channels - 1) {\n      waveformHeight = height - (channels - 1) * waveformHeight;\n    }\n\n    this._drawChannel(\n      context,\n      waveformData.channel(i),\n      frameOffset,\n      startPixels,\n      endPixels,\n      waveformTop,\n      waveformHeight\n    );\n\n    waveformTop += waveformHeight;\n  }\n};\n\n/**\n * Draws a single waveform channel on a canvas context.\n *\n * @param {Konva.Context} context The canvas context to draw on.\n * @param {WaveformDataChannel} channel The waveform data to draw.\n * @param {Number} frameOffset The start position of the waveform shown\n *   in the view, in pixels.\n * @param {Number} startPixels The start position of the waveform to draw,\n *   in pixels.\n * @param {Number} endPixels The end position of the waveform to draw,\n *   in pixels.\n * @param {Number} top The top of the waveform channel area, in pixels.\n * @param {Number} height The height of the waveform channel area, in pixels.\n */\n\nWaveformShape.prototype._drawChannel = function(context, channel,\n    frameOffset, startPixels, endPixels, top, height) {\n  let x, amplitude;\n\n  const amplitudeScale = this._view.getAmplitudeScale();\n\n  let lineX, lineY;\n\n  context.beginPath();\n\n  for (x = startPixels; x <= endPixels; x++) {\n    amplitude = channel.min_sample(x);\n\n    lineX = x - frameOffset + 0.5;\n    lineY = top + WaveformShape.scaleY(amplitude, height, amplitudeScale) + 0.5;\n\n    context.lineTo(lineX, lineY);\n  }\n\n  for (x = endPixels; x >= startPixels; x--) {\n    amplitude = channel.max_sample(x);\n\n    lineX = x - frameOffset + 0.5;\n    lineY = top + WaveformShape.scaleY(amplitude, height, amplitudeScale) + 1.0;\n\n    context.lineTo(lineX, lineY);\n  }\n\n  context.closePath();\n\n  context.fillShape(this._shape);\n};\n\nWaveformShape.prototype.addToLayer = function(layer) {\n  layer.add(this._shape);\n};\n\nWaveformShape.prototype.destroy = function() {\n  this._shape.destroy();\n  this._shape = null;\n};\n\nWaveformShape.prototype.on = function(event, handler) {\n  this._shape.on(event, handler);\n};\n\nWaveformShape.prototype.off = function(event, handler) {\n  this._shape.off(event, handler);\n};\n\n/**\n * Scales the waveform data for drawing on a canvas context.\n *\n * @see {@link https://stats.stackexchange.com/questions/281162}\n *\n * @todo Assumes 8-bit waveform data (-128 to 127 range)\n *\n * @param {Number} amplitude The waveform data point amplitude.\n * @param {Number} height The height of the waveform, in pixels.\n * @param {Number} scale Amplitude scaling factor.\n * @returns {Number} The scaled waveform data point.\n */\n\nWaveformShape.scaleY = function(amplitude, height, scale) {\n  const y = -(height - 1) * (amplitude * scale + 128) / 255 + (height - 1);\n\n  return clamp(Math.floor(y), 0, height - 1);\n};\n\nexport default WaveformShape;\n","/**\n * @file\n *\n * Defines the {@link SegmentShape} class.\n *\n * @module segment-shape\n */\n\nimport Konva from 'konva/lib/Core';\n\nimport OverlaySegmentMarker from './overlay-segment-marker';\nimport SegmentMarker from './segment-marker';\nimport WaveformShape from './waveform-shape';\nimport { clamp } from './utils';\n\nconst defaultFontFamily = 'sans-serif';\nconst defaultFontSize = 10;\nconst defaultFontShape = 'normal';\n\n/**\n * Options that control segments' visual appearance\n *\n * @typedef {Object} SegmentDisplayOptions\n * @global\n * @property {Boolean} markers\n * @property {Boolean} overlay\n * @property {String} startMarkerColor\n * @property {String} endMarkerColor\n * @property {String} waveformColor\n * @property {String} overlayColor\n * @property {Number} overlayOpacity\n * @property {String} overlayBorderColor\n * @property {Number} overlayBorderWidth\n * @property {Number} overlayCornerRadius\n * @property {Number} overlayOffset\n * @property {String} overlayLabelAlign\n * @property {String} overlayLabelVerticalAlign\n * @property {Number} overlayLabelPadding\n * @property {String} overlayLabelColor\n * @property {String} overlayFontFamily\n * @property {Number} overlayFontSize\n * @property {String} overlayFontStyle\n */\n\n/**\n * Creates a waveform segment shape with optional start and end markers.\n *\n * @class\n * @alias SegmentShape\n *\n * @param {Segment} segment\n * @param {Peaks} peaks\n * @param {SegmentsLayer} layer\n * @param {WaveformOverview|WaveformZoomView} view\n */\n\nfunction SegmentShape(segment, peaks, layer, view) {\n  this._segment     = segment;\n  this._peaks       = peaks;\n  this._layer       = layer;\n  this._view        = view;\n  this._label       = null;\n  this._startMarker = null;\n  this._endMarker   = null;\n  this._color       = segment.color;\n  this._borderColor = segment.borderColor;\n  this._draggable   = this._segment.editable && this._view.isSegmentDraggingEnabled();\n  this._dragging    = false;\n\n  const segmentOptions = view.getViewOptions().segmentOptions;\n\n  this._overlayOffset = segmentOptions.overlayOffset;\n\n  if (!segmentOptions.overlay) {\n    this._waveformShape = new WaveformShape({\n      color:   segment.color,\n      view:    view,\n      segment: segment\n    });\n  }\n\n  this._onMouseEnter  = this._onMouseEnter.bind(this);\n  this._onMouseLeave  = this._onMouseLeave.bind(this);\n  this._onMouseDown   = this._onMouseDown.bind(this);\n  this._onMouseUp     = this._onMouseUp.bind(this);\n\n  this._dragBoundFunc      = this._dragBoundFunc.bind(this);\n  this._onSegmentDragStart = this._onSegmentDragStart.bind(this);\n  this._onSegmentDragMove  = this._onSegmentDragMove.bind(this);\n  this._onSegmentDragEnd   = this._onSegmentDragEnd.bind(this);\n\n  // Event handlers for markers\n  this._onSegmentMarkerDragStart   = this._onSegmentMarkerDragStart.bind(this);\n  this._onSegmentMarkerDragMove    = this._onSegmentMarkerDragMove.bind(this);\n  this._onSegmentMarkerDragEnd     = this._onSegmentMarkerDragEnd.bind(this);\n  this._segmentMarkerDragBoundFunc = this._segmentMarkerDragBoundFunc.bind(this);\n\n  this._label = this._peaks.options.createSegmentLabel({\n    segment:    segment,\n    view:       this._view.getName(),\n    layer:      this._layer,\n    fontFamily: this._peaks.options.fontFamily,\n    fontSize:   this._peaks.options.fontSize,\n    fontStyle:  this._peaks.options.fontStyle\n  });\n\n  if (this._label) {\n    this._label.hide();\n  }\n\n  // Create with default y and height, the real values are set in fitToView().\n  const segmentStartOffset = this._view.timeToPixelOffset(this._segment.startTime);\n  const segmentEndOffset   = this._view.timeToPixelOffset(this._segment.endTime);\n\n  const overlayRectHeight = clamp(0, this._view.getHeight());\n\n  // The clip rectangle prevents text in the overlay from appearing\n  // outside the overlay.\n\n  this._overlay = new Konva.Group({\n    name:          'segment-overlay',\n    segment:       this._segment,\n    x:             segmentStartOffset,\n    y:             0,\n    width:         segmentEndOffset - segmentStartOffset,\n    height:        this._view.getHeight(),\n    clipX:         0,\n    clipY:         this._overlayOffset,\n    clipWidth:     segmentEndOffset - segmentStartOffset,\n    clipHeight:    overlayRectHeight,\n    draggable:     this._draggable,\n    dragBoundFunc: this._dragBoundFunc\n  });\n\n  let overlayBorderColor, overlayBorderWidth, overlayColor, overlayOpacity, overlayCornerRadius;\n\n  if (segmentOptions.overlay) {\n    overlayBorderColor  = this._borderColor || segmentOptions.overlayBorderColor;\n    overlayBorderWidth  = segmentOptions.overlayBorderWidth;\n    overlayColor        = this._color || segmentOptions.overlayColor;\n    overlayOpacity      = segmentOptions.overlayOpacity;\n    overlayCornerRadius = segmentOptions.overlayCornerRadius;\n  }\n\n  this._overlayRect = new Konva.Rect({\n    x:            0,\n    y:            this._overlayOffset,\n    width:        segmentEndOffset - segmentStartOffset,\n    stroke:       overlayBorderColor,\n    strokeWidth:  overlayBorderWidth,\n    height:       overlayRectHeight,\n    fill:         overlayColor,\n    opacity:      overlayOpacity,\n    cornerRadius: overlayCornerRadius\n  });\n\n  this._overlay.add(this._overlayRect);\n\n  if (segmentOptions.overlay) {\n    this._overlayText = new Konva.Text({\n      x:             0,\n      y:             this._overlayOffset,\n      text:          this._segment.labelText,\n      fontFamily:    segmentOptions.overlayFontFamily,\n      fontSize:      segmentOptions.overlayFontSize,\n      fontStyle:     segmentOptions.overlayFontStyle,\n      fill:          segmentOptions.overlayLabelColor,\n      listening:     false,\n      align:         segmentOptions.overlayLabelAlign,\n      width:         segmentEndOffset - segmentStartOffset,\n      verticalAlign: segmentOptions.overlayLabelVerticalAlign,\n      height:        overlayRectHeight,\n      padding:       segmentOptions.overlayLabelPadding\n    });\n\n    this._overlay.add(this._overlayText);\n  }\n\n  // Set up event handlers to show/hide the segment label text when the user\n  // hovers the mouse over the segment.\n  this._overlay.on('mouseenter', this._onMouseEnter);\n  this._overlay.on('mouseleave', this._onMouseLeave);\n\n  this._overlay.on('mousedown', this._onMouseDown);\n  this._overlay.on('mouseup', this._onMouseUp);\n\n  if (this._draggable) {\n    this._overlay.on('dragstart', this._onSegmentDragStart);\n    this._overlay.on('dragmove', this._onSegmentDragMove);\n    this._overlay.on('dragend', this._onSegmentDragEnd);\n  }\n\n  this._createMarkers();\n}\n\nfunction createOverlayMarker(options) {\n  return new OverlaySegmentMarker(options);\n}\n\nSegmentShape.prototype._createMarkers = function() {\n  const editable = this._layer.isEditingEnabled() && this._segment.editable;\n  const segmentOptions = this._view.getViewOptions().segmentOptions;\n\n  const createSegmentMarker = segmentOptions.markers ?\n    this._peaks.options.createSegmentMarker :\n    createOverlayMarker;\n\n  const startMarker = createSegmentMarker({\n    segment:        this._segment,\n    editable:       editable,\n    startMarker:    true,\n    color:          segmentOptions.startMarkerColor,\n    fontFamily:     this._peaks.options.fontFamily || defaultFontFamily,\n    fontSize:       this._peaks.options.fontSize || defaultFontSize,\n    fontStyle:      this._peaks.options.fontStyle || defaultFontShape,\n    layer:          this._layer,\n    view:           this._view.getName(),\n    segmentOptions: this._view.getViewOptions().segmentOptions\n  });\n\n  if (startMarker) {\n    this._startMarker = new SegmentMarker({\n      segment:       this._segment,\n      segmentShape:  this,\n      editable:      editable,\n      startMarker:   true,\n      marker:        startMarker,\n      onDragStart:   this._onSegmentMarkerDragStart,\n      onDragMove:    this._onSegmentMarkerDragMove,\n      onDragEnd:     this._onSegmentMarkerDragEnd,\n      dragBoundFunc: this._segmentMarkerDragBoundFunc\n    });\n  }\n\n  const endMarker = createSegmentMarker({\n    segment:        this._segment,\n    editable:       editable,\n    startMarker:    false,\n    color:          segmentOptions.endMarkerColor,\n    fontFamily:     this._peaks.options.fontFamily || defaultFontFamily,\n    fontSize:       this._peaks.options.fontSize || defaultFontSize,\n    fontStyle:      this._peaks.options.fontStyle || defaultFontShape,\n    layer:          this._layer,\n    view:           this._view.getName(),\n    segmentOptions: this._view.getViewOptions().segmentOptions\n  });\n\n  if (endMarker) {\n    this._endMarker = new SegmentMarker({\n      segment:       this._segment,\n      segmentShape:  this,\n      editable:      editable,\n      startMarker:   false,\n      marker:        endMarker,\n      onDragStart:   this._onSegmentMarkerDragStart,\n      onDragMove:    this._onSegmentMarkerDragMove,\n      onDragEnd:     this._onSegmentMarkerDragEnd,\n      dragBoundFunc: this._segmentMarkerDragBoundFunc\n    });\n  }\n};\n\nSegmentShape.prototype._dragBoundFunc = function(pos) {\n  // Allow the segment to be moved horizontally but not vertically.\n  return {\n    x: pos.x,\n    y: 0\n  };\n};\n\n/**\n * Update the segment shape after the segment's attributes have changed.\n */\n\nSegmentShape.prototype.update = function(options) {\n  const segmentStartOffset = this._view.timeToPixelOffset(this._segment.startTime);\n  const segmentEndOffset   = this._view.timeToPixelOffset(this._segment.endTime);\n  const width = segmentEndOffset - segmentStartOffset;\n  let marker;\n\n  if ((marker = this.getStartMarker())) {\n    marker.setX(segmentStartOffset - marker.getWidth());\n\n    if (options) {\n      marker.update(options);\n    }\n  }\n\n  if ((marker = this.getEndMarker())) {\n    marker.setX(segmentEndOffset);\n\n    if (options) {\n      marker.update(options);\n    }\n  }\n\n  this._color = this._segment.color;\n  this._borderColor = this._segment.bordercolor;\n\n  if (this._overlayText) {\n    const labelColor = this._segment.labelColor;\n\n    this._overlayText.fill(labelColor);\n    this._overlayText.text(this._segment.labelText);\n  }\n\n  const segmentOptions = this._view.getViewOptions().segmentOptions;\n\n  if (segmentOptions.overlay) {\n    if (this._color) {\n      this._overlayRect.fill(this._color);\n    }\n\n    if (this._borderColor) {\n      this._overlayRect.stroke(this._borderColor);\n    }\n  }\n  else {\n    this._waveformShape.setWaveformColor(this._segment.color);\n  }\n\n  // While dragging, the overlay position is controlled in _onSegmentDragMove().\n\n  if (!this._dragging) {\n    if (this._overlay) {\n      this._overlay.setAttrs({\n        x:         segmentStartOffset,\n        width:     width,\n        clipWidth: width < 1 ? 1 : width\n      });\n\n      this._overlayRect.setAttrs({\n        x:     0,\n        width: width\n      });\n\n      if (this._overlayText) {\n        this._overlayText.setAttrs({\n          width: width\n        });\n      }\n    }\n  }\n};\n\nSegmentShape.prototype.getSegment = function() {\n  return this._segment;\n};\n\nSegmentShape.prototype.getStartMarker = function() {\n  return this._startMarker;\n};\n\nSegmentShape.prototype.getEndMarker = function() {\n  return this._endMarker;\n};\n\nSegmentShape.prototype.addToLayer = function(layer) {\n  if (this._waveformShape) {\n    this._waveformShape.addToLayer(layer);\n  }\n\n  if (this._label) {\n    layer.add(this._label);\n  }\n\n  if (this._overlay) {\n    layer.add(this._overlay);\n  }\n\n  if (this._startMarker) {\n    this._startMarker.addToLayer(layer);\n  }\n\n  if (this._endMarker) {\n    this._endMarker.addToLayer(layer);\n  }\n};\n\nSegmentShape.prototype.isDragging = function() {\n  return this._dragging;\n};\n\nSegmentShape.prototype._onMouseEnter = function(event) {\n  if (this._label) {\n    // this._label.moveToTop();\n    // this._label.show();\n  }\n\n  this._peaks.emit('segments.mouseenter', {\n    segment: this._segment,\n    evt: event.evt\n  });\n};\n\nSegmentShape.prototype._onMouseLeave = function(event) {\n  if (this._label) {\n    this._label.hide();\n  }\n\n  this._peaks.emit('segments.mouseleave', {\n    segment: this._segment,\n    evt: event.evt\n  });\n};\n\nSegmentShape.prototype._onMouseDown = function(event) {\n  this._peaks.emit('segments.mousedown', {\n    segment: this._segment,\n    evt: event.evt\n  });\n};\n\nSegmentShape.prototype._onMouseUp = function(event) {\n  this._peaks.emit('segments.mouseup', {\n    segment: this._segment,\n    evt: event.evt\n  });\n};\n\nSegmentShape.prototype.segmentClicked = function(eventName, event) {\n  this._moveToTop();\n\n  this._peaks.emit('segments.' + eventName, event);\n};\n\nSegmentShape.prototype._moveToTop = function() {\n  this._overlay.moveToTop();\n\n  this._layer.moveSegmentMarkersToTop();\n};\n\nSegmentShape.prototype.enableSegmentDragging = function(enable) {\n  if (!this._segment.editable) {\n    return;\n  }\n\n  if (!this._draggable && enable) {\n    this._overlay.on('dragstart', this._onSegmentDragStart);\n    this._overlay.on('dragmove', this._onSegmentDragMove);\n    this._overlay.on('dragend', this._onSegmentDragEnd);\n  }\n  else if (this._draggable && !enable) {\n    this._overlay.off('dragstart', this._onSegmentDragStart);\n    this._overlay.off('dragmove', this._onSegmentDragMove);\n    this._overlay.off('dragend', this._onSegmentDragEnd);\n  }\n\n  this._overlay.draggable(enable);\n  this._draggable = enable;\n};\n\nSegmentShape.prototype._setPreviousAndNextSegments = function() {\n  if (this._view.getSegmentDragMode() !== 'overlap') {\n    this._nextSegment = this._peaks.segments.findNextSegment(this._segment);\n    this._previousSegment = this._peaks.segments.findPreviousSegment(this._segment);\n  }\n  else {\n    this._nextSegment = null;\n    this._previousSegment = null;\n  }\n};\n\nSegmentShape.prototype._onSegmentDragStart = function(event) {\n  this._setPreviousAndNextSegments();\n\n  this._dragging = true;\n  this._dragStartX = this._overlay.getX();\n  this._dragStartTime = this._segment.startTime;\n  this._dragEndTime = this._segment.endTime;\n\n  this._peaks.emit('segments.dragstart', {\n    segment: this._segment,\n    marker: false,\n    startMarker: false,\n    evt: event.evt\n  });\n};\n\nSegmentShape.prototype._onSegmentDragMove = function(event) {\n  const x = this._overlay.getX();\n  const offsetX = x - this._dragStartX;\n  const timeOffset = this._view.pixelsToTime(offsetX);\n\n  // The WaveformShape for a segment fills the canvas width\n  // but only draws a subset of the horizontal range. When dragged\n  // we need to keep the shape object in its position but\n  // update the segment start and end time so that the right\n  // subset is drawn.\n\n  // Calculate new segment start/end time based on drag position. We'll\n  // correct this later based on the drag mode, to prevent overlapping\n  // segments or to compress the adjacent segment.\n\n  let startTime = this._dragStartTime + timeOffset;\n  let endTime = this._dragEndTime + timeOffset;\n  const segmentDuration = this._segment.endTime - this._segment.startTime;\n  let dragMode;\n  const minSegmentWidth = this._view.getMinSegmentDragWidth();\n  const minSegmentDuration = this._view.pixelsToTime(minSegmentWidth);\n  let previousSegmentUpdated = false;\n  let nextSegmentUpdated = false;\n\n  // Prevent the segment from being dragged beyond the start of the waveform.\n\n  if (startTime < 0) {\n    startTime = 0;\n    endTime = segmentDuration;\n    this._overlay.setX(this._view.timeToPixelOffset(startTime));\n  }\n\n  // Adjust segment position if it now overlaps the previous segment?\n\n  if (this._previousSegment) {\n    let previousSegmentEndX = this._view.timeToPixelOffset(this._previousSegment.endTime);\n\n    if (startTime < this._previousSegment.endTime) {\n      dragMode = this._view.getSegmentDragMode();\n\n      if (dragMode === 'no-overlap' ||\n          (dragMode === 'compress' && !this._previousSegment.editable)) {\n        startTime = this._previousSegment.endTime;\n        endTime = startTime + segmentDuration;\n        this._overlay.setX(previousSegmentEndX);\n      }\n      else if (dragMode === 'compress') {\n        let previousSegmentEndTime = startTime;\n\n        const minPreviousSegmentEndTime = this._previousSegment.startTime + minSegmentDuration;\n\n        if (previousSegmentEndTime < minPreviousSegmentEndTime) {\n          previousSegmentEndTime = minPreviousSegmentEndTime;\n\n          previousSegmentEndX = this._view.timeToPixelOffset(previousSegmentEndTime);\n\n          this._overlay.setX(previousSegmentEndX);\n\n          startTime = previousSegmentEndTime;\n          endTime = startTime + segmentDuration;\n        }\n\n        this._previousSegment.update({ endTime: previousSegmentEndTime });\n\n        previousSegmentUpdated = true;\n      }\n    }\n  }\n\n  // Adjust segment position if it now overlaps the following segment?\n\n  if (this._nextSegment) {\n    let nextSegmentStartX = this._view.timeToPixelOffset(this._nextSegment.startTime);\n\n    if (endTime > this._nextSegment.startTime) {\n      dragMode = this._view.getSegmentDragMode();\n\n      if (dragMode === 'no-overlap' ||\n          (dragMode === 'compress' && !this._nextSegment.editable)) {\n        endTime = this._nextSegment.startTime;\n        startTime = endTime - segmentDuration;\n        this._overlay.setX(nextSegmentStartX - this._overlay.getWidth());\n      }\n      else if (dragMode === 'compress') {\n        let nextSegmentStartTime = endTime;\n\n        const maxNextSegmentStartTime = this._nextSegment.endTime - minSegmentDuration;\n\n        if (nextSegmentStartTime > maxNextSegmentStartTime) {\n          nextSegmentStartTime = maxNextSegmentStartTime;\n\n          nextSegmentStartX = this._view.timeToPixelOffset(nextSegmentStartTime);\n\n          this._overlay.setX(nextSegmentStartX - this._overlay.getWidth());\n\n          endTime = nextSegmentStartTime;\n          startTime = endTime - segmentDuration;\n        }\n\n        this._nextSegment.update({ startTime: nextSegmentStartTime });\n\n        nextSegmentUpdated = true;\n      }\n    }\n  }\n\n  this._segment._setStartTime(startTime);\n  this._segment._setEndTime(endTime);\n\n  this._peaks.emit('segments.dragged', {\n    segment: this._segment,\n    marker: false,\n    startMarker: false,\n    evt: event.evt\n  });\n\n  if (previousSegmentUpdated) {\n    this._peaks.emit('segments.dragged', {\n      segment: this._previousSegment,\n      marker: false,\n      startMarker: false,\n      evt: event.evt\n    });\n  }\n  else if (nextSegmentUpdated) {\n    this._peaks.emit('segments.dragged', {\n      segment: this._nextSegment,\n      marker: false,\n      startMarker: false,\n      evt: event.evt\n    });\n  }\n};\n\nSegmentShape.prototype._onSegmentDragEnd = function(event) {\n  this._dragging = false;\n\n  this._peaks.emit('segments.dragend', {\n    segment: this._segment,\n    marker: false,\n    startMarker: false,\n    evt: event.evt\n  });\n};\n\nSegmentShape.prototype.moveMarkersToTop = function() {\n  if (this._startMarker) {\n    this._startMarker.moveToTop();\n  }\n\n  if (this._endMarker) {\n    this._endMarker.moveToTop();\n  }\n};\n\nSegmentShape.prototype.startDrag = function() {\n  if (this._endMarker) {\n    this._endMarker.startDrag();\n  }\n};\n\nSegmentShape.prototype.stopDrag = function() {\n  if (this._endMarker) {\n    this._endMarker.stopDrag();\n  }\n};\n\n/**\n * @param {SegmentMarker} segmentMarker\n */\n\nSegmentShape.prototype._onSegmentMarkerDragStart = function(segmentMarker, event) {\n  this._setPreviousAndNextSegments();\n\n  // Move this segment to the top of the z-order, so that it remains on top\n  // of any adjacent segments that the marker is dragged over.\n  this._moveToTop();\n\n  this._startMarkerX = this._startMarker.getX();\n  this._endMarkerX = this._endMarker.getX();\n\n  this._peaks.emit('segments.dragstart', {\n    segment: this._segment,\n    marker: true,\n    startMarker: segmentMarker.isStartMarker(),\n    evt: event.evt\n  });\n};\n\n/**\n * @param {SegmentMarker} segmentMarker\n */\n\nSegmentShape.prototype._onSegmentMarkerDragMove = function(segmentMarker, event) {\n  if (segmentMarker.isStartMarker()) {\n    this._segmentStartMarkerDragMove(segmentMarker, event);\n    segmentMarker.update({ startTime: this._segment.startTime });\n  }\n  else {\n    this._segmentEndMarkerDragMove(segmentMarker, event);\n    segmentMarker.update({ endTime: this._segment.endTime });\n  }\n};\n\nfunction getDuration(segment) {\n  return segment.endTime - segment.startTime;\n}\n\nSegmentShape.prototype._segmentStartMarkerDragMove = function(segmentMarker, event) {\n  const width = this._view.getWidth();\n\n  let startMarkerX = this._startMarker.getX();\n  const endMarkerX = this._endMarker.getX();\n\n  let minSegmentDuration = this._view.pixelsToTime(50);\n  const minSegmentWidth = this._view.getMinSegmentDragWidth();\n\n  let upperLimit = this._endMarker.getX() - minSegmentWidth;\n\n  if (upperLimit > width) {\n    upperLimit = width;\n  }\n\n  let previousSegmentVisible = false;\n  let previousSegmentUpdated = false;\n  let previousSegmentEndX;\n\n  if (this._previousSegment) {\n    previousSegmentEndX = this._view.timeToPixelOffset(this._previousSegment.endTime);\n    previousSegmentVisible = previousSegmentEndX >= 0;\n  }\n\n  if (startMarkerX > upperLimit) {\n    segmentMarker.setX(upperLimit);\n    this._overlay.clipWidth(upperLimit - endMarkerX);\n\n    if (minSegmentWidth === 0 && upperLimit < width) {\n      this._segment._setStartTime(this._segment.endTime);\n    }\n    else {\n      this._segment._setStartTime(this._view.pixelOffsetToTime(upperLimit));\n    }\n  }\n  else if (this._previousSegment && previousSegmentVisible) {\n    const dragMode = this._view.getSegmentDragMode();\n\n    const fixedPreviousSegment = dragMode === 'no-overlap' ||\n      (dragMode === 'compress' && !this._previousSegment.editable);\n\n    const compressPreviousSegment = dragMode === 'compress' && this._previousSegment.editable;\n\n    if (startMarkerX <= previousSegmentEndX) {\n      if (fixedPreviousSegment) {\n        segmentMarker.setX(previousSegmentEndX);\n        this._overlay.clipWidth(previousSegmentEndX - endMarkerX);\n\n        this._segment._setStartTime(this._previousSegment.endTime);\n      }\n      else if (compressPreviousSegment) {\n        const previousSegmentDuration = getDuration(this._previousSegment);\n\n        if (previousSegmentDuration < minSegmentDuration) {\n          minSegmentDuration = previousSegmentDuration;\n        }\n\n        const lowerLimit = this._view.timeToPixelOffset(\n          this._previousSegment.startTime + minSegmentDuration\n        );\n\n        if (startMarkerX < lowerLimit) {\n          startMarkerX = lowerLimit;\n        }\n\n        segmentMarker.setX(startMarkerX);\n        this._overlay.clipWidth(endMarkerX - startMarkerX);\n\n        this._segment._setStartTime(this._view.pixelOffsetToTime(startMarkerX));\n\n        this._previousSegment.update({\n          endTime: this._view.pixelOffsetToTime(startMarkerX)\n        });\n\n        previousSegmentUpdated = true;\n      }\n    }\n    else {\n      if (startMarkerX < 0) {\n        startMarkerX = 0;\n      }\n\n      segmentMarker.setX(startMarkerX);\n      this._overlay.clipWidth(endMarkerX - startMarkerX);\n\n      this._segment._setStartTime(this._view.pixelOffsetToTime(startMarkerX));\n    }\n  }\n  else {\n    if (startMarkerX < 0) {\n      startMarkerX = 0;\n    }\n\n    segmentMarker.setX(startMarkerX);\n    this._overlay.clipWidth(endMarkerX - startMarkerX);\n\n    this._segment._setStartTime(this._view.pixelOffsetToTime(startMarkerX));\n  }\n\n  this._peaks.emit('segments.dragged', {\n    segment: this._segment,\n    marker: true,\n    startMarker: true,\n    evt: event.evt\n  });\n\n  if (previousSegmentUpdated) {\n    this._peaks.emit('segments.dragged', {\n      segment: this._previousSegment,\n      marker: true,\n      startMarker: false,\n      evt: event.evt\n    });\n  }\n};\n\nSegmentShape.prototype._segmentEndMarkerDragMove = function(segmentMarker, event) {\n  const width = this._view.getWidth();\n\n  const startMarkerX = this._startMarker.getX();\n  let endMarkerX = this._endMarker.getX();\n\n  let minSegmentDuration = this._view.pixelsToTime(50);\n  const minSegmentWidth = this._view.getMinSegmentDragWidth();\n\n  let lowerLimit = this._startMarker.getX() + minSegmentWidth;\n\n  if (lowerLimit < 0) {\n    lowerLimit = 0;\n  }\n\n  let nextSegmentVisible = false;\n  let nextSegmentUpdated = false;\n  let nextSegmentStartX;\n\n  if (this._nextSegment) {\n    nextSegmentStartX = this._view.timeToPixelOffset(this._nextSegment.startTime);\n    nextSegmentVisible = nextSegmentStartX < width;\n  }\n\n  if (endMarkerX < lowerLimit) {\n    segmentMarker.setX(lowerLimit);\n    this._overlay.clipWidth(lowerLimit - startMarkerX);\n\n    if (minSegmentWidth === 0 && lowerLimit > 0) {\n      this._segment._setEndTime(this._segment.startTime);\n    }\n    else {\n      this._segment._setEndTime(this._view.pixelOffsetToTime(lowerLimit));\n    }\n  }\n  else if (this._nextSegment && nextSegmentVisible) {\n    const dragMode = this._view.getSegmentDragMode();\n\n    const fixedNextSegment = dragMode === 'no-overlap' ||\n      (dragMode === 'compress' && !this._nextSegment.editable);\n\n    const compressNextSegment = dragMode === 'compress' && this._nextSegment.editable;\n\n    if (endMarkerX >= nextSegmentStartX) {\n      if (fixedNextSegment) {\n        segmentMarker.setX(nextSegmentStartX);\n        this._overlay.clipWidth(nextSegmentStartX - startMarkerX);\n\n        this._segment._setEndTime(this._nextSegment.startTime);\n      }\n      else if (compressNextSegment) {\n        const nextSegmentDuration = getDuration(this._nextSegment);\n\n        if (nextSegmentDuration < minSegmentDuration) {\n          minSegmentDuration = nextSegmentDuration;\n        }\n\n        const upperLimit = this._view.timeToPixelOffset(\n          this._nextSegment.endTime - minSegmentDuration\n        );\n\n        if (endMarkerX > upperLimit) {\n          endMarkerX = upperLimit;\n        }\n\n        segmentMarker.setX(endMarkerX);\n        this._overlay.clipWidth(endMarkerX - startMarkerX);\n\n        this._segment._setEndTime(this._view.pixelOffsetToTime(endMarkerX));\n\n        this._nextSegment.update({\n          startTime: this._view.pixelOffsetToTime(endMarkerX)\n        });\n\n        nextSegmentUpdated = true;\n      }\n    }\n    else {\n      if (endMarkerX > width) {\n        endMarkerX = width;\n      }\n\n      segmentMarker.setX(endMarkerX);\n      this._overlay.clipWidth(endMarkerX - startMarkerX);\n\n      this._segment._setEndTime(this._view.pixelOffsetToTime(endMarkerX));\n    }\n  }\n  else {\n    if (endMarkerX > width) {\n      endMarkerX = width;\n    }\n\n    segmentMarker.setX(endMarkerX);\n    this._overlay.clipWidth(endMarkerX - startMarkerX);\n\n    this._segment._setEndTime(this._view.pixelOffsetToTime(endMarkerX));\n  }\n\n  this._peaks.emit('segments.dragged', {\n    segment: this._segment,\n    marker: true,\n    startMarker: false,\n    evt: event.evt\n  });\n\n  if (nextSegmentUpdated) {\n    this._peaks.emit('segments.dragged', {\n      segment: this._nextSegment,\n      marker: true,\n      startMarker: true,\n      evt: event.evt\n    });\n  }\n};\n\n/**\n * @param {SegmentMarker} segmentMarker\n */\n\nSegmentShape.prototype._onSegmentMarkerDragEnd = function(segmentMarker, event) {\n  this._nextSegment = null;\n  this._previousSegment = null;\n\n  const startMarker = segmentMarker.isStartMarker();\n\n  this._peaks.emit('segments.dragend', {\n    segment: this._segment,\n    marker: true,\n    startMarker: startMarker,\n    evt: event.evt\n  });\n};\n\n// eslint-disable-next-line no-unused-vars\nSegmentShape.prototype._segmentMarkerDragBoundFunc = function(segmentMarker, pos) {\n  // Allow the marker to be moved horizontally but not vertically.\n  return {\n    x: pos.x,\n    y: segmentMarker.getAbsolutePosition().y\n  };\n};\n\nSegmentShape.prototype.fitToView = function() {\n  if (this._startMarker) {\n    this._startMarker.fitToView();\n  }\n\n  if (this._endMarker) {\n    this._endMarker.fitToView();\n  }\n\n  if (this._overlay) {\n    const height = this._view.getHeight();\n\n    const overlayRectHeight = clamp(0, height - (this._overlayOffset * 2));\n\n    this._overlay.setAttrs({\n      y:          0,\n      height:     height,\n      clipY:      this._overlayOffset,\n      clipHeight: overlayRectHeight\n    });\n\n    this._overlayRect.setAttrs({\n      y:      this._overlayOffset,\n      height: overlayRectHeight\n    });\n\n    if (this._overlayText) {\n      this._overlayText.setAttrs({\n        y:      this._overlayOffset,\n        height: overlayRectHeight\n      });\n    }\n  }\n};\n\nSegmentShape.prototype.destroy = function() {\n  if (this._waveformShape) {\n    this._waveformShape.destroy();\n  }\n\n  if (this._label) {\n    this._label.destroy();\n  }\n\n  if (this._startMarker) {\n    this._startMarker.destroy();\n  }\n\n  if (this._endMarker) {\n    this._endMarker.destroy();\n  }\n\n  if (this._overlay) {\n    this._overlay.destroy();\n  }\n};\n\nexport default SegmentShape;\n","/**\n * @file\n *\n * Defines the {@link SegmentsLayer} class.\n *\n * @module segments-layer\n */\n\nimport SegmentShape from './segment-shape';\nimport { objectHasProperty } from './utils';\nimport Konva from 'konva/lib/Core';\n\n/**\n * Creates a Konva.Layer that displays segment markers against the audio\n * waveform.\n *\n * @class\n * @alias SegmentsLayer\n *\n * @param {Peaks} peaks\n * @param {WaveformOverview|WaveformZoomView} view\n * @param {Boolean} allowEditing\n */\n\nfunction SegmentsLayer(peaks, view, allowEditing) {\n  this._peaks         = peaks;\n  this._view          = view;\n  this._allowEditing  = allowEditing;\n  this._segmentShapes = {};\n  this._layer         = new Konva.Layer();\n\n  this._onSegmentsUpdate    = this._onSegmentsUpdate.bind(this);\n  this._onSegmentsAdd       = this._onSegmentsAdd.bind(this);\n  this._onSegmentsRemove    = this._onSegmentsRemove.bind(this);\n  this._onSegmentsRemoveAll = this._onSegmentsRemoveAll.bind(this);\n  this._onSegmentsDragged   = this._onSegmentsDragged.bind(this);\n\n  this._peaks.on('segments.update', this._onSegmentsUpdate);\n  this._peaks.on('segments.add', this._onSegmentsAdd);\n  this._peaks.on('segments.remove', this._onSegmentsRemove);\n  this._peaks.on('segments.remove_all', this._onSegmentsRemoveAll);\n  this._peaks.on('segments.dragged', this._onSegmentsDragged);\n}\n\n/**\n * Adds the layer to the given {Konva.Stage}.\n *\n * @param {Konva.Stage} stage\n */\n\nSegmentsLayer.prototype.addToStage = function(stage) {\n  stage.add(this._layer);\n};\n\nSegmentsLayer.prototype.enableEditing = function(enable) {\n  this._allowEditing = enable;\n};\n\nSegmentsLayer.prototype.isEditingEnabled = function() {\n  return this._allowEditing;\n};\n\nSegmentsLayer.prototype.enableSegmentDragging = function(enable) {\n  for (const segmentPid in this._segmentShapes) {\n    if (objectHasProperty(this._segmentShapes, segmentPid)) {\n      this._segmentShapes[segmentPid].enableSegmentDragging(enable);\n    }\n  }\n};\n\nSegmentsLayer.prototype.getSegmentShape = function(segment) {\n  return this._segmentShapes[segment.pid];\n};\n\nSegmentsLayer.prototype.formatTime = function(time) {\n  return this._view.formatTime(time);\n};\n\nSegmentsLayer.prototype._onSegmentsUpdate = function(segment, options) {\n  const frameStartTime = this._view.getStartTime();\n  const frameEndTime = this._view.getEndTime();\n\n  let segmentShape = this.getSegmentShape(segment);\n  const isVisible = segment.isVisible(frameStartTime, frameEndTime);\n\n  if (segmentShape && !isVisible) {\n    // Remove segment shape that is no longer visible.\n\n    if (!segmentShape.isDragging()) {\n      this._removeSegment(segment);\n    }\n  }\n  else if (!segmentShape && isVisible) {\n    // Add segment shape for visible segment.\n    segmentShape = this._updateSegment(segment);\n  }\n  else if (segmentShape && isVisible) {\n    // Update the segment shape with the changed attributes.\n    segmentShape.update(options);\n  }\n};\n\nSegmentsLayer.prototype._onSegmentsAdd = function(event) {\n  const self = this;\n\n  const frameStartTime = self._view.getStartTime();\n  const frameEndTime   = self._view.getEndTime();\n\n  event.segments.forEach(function(segment) {\n    if (segment.isVisible(frameStartTime, frameEndTime)) {\n      const segmentShape = self._addSegmentShape(segment);\n\n      segmentShape.update();\n    }\n  });\n\n  // Ensure segment markers are always draggable.\n  this.moveSegmentMarkersToTop();\n};\n\nSegmentsLayer.prototype._onSegmentsRemove = function(event) {\n  const self = this;\n\n  event.segments.forEach(function(segment) {\n    self._removeSegment(segment);\n  });\n};\n\nSegmentsLayer.prototype._onSegmentsRemoveAll = function() {\n  this._layer.removeChildren();\n  this._segmentShapes = {};\n};\n\nSegmentsLayer.prototype._onSegmentsDragged = function(event) {\n  this._updateSegment(event.segment);\n};\n\n/**\n * Creates the Konva UI objects for a given segment.\n *\n * @private\n * @param {Segment} segment\n * @returns {SegmentShape}\n */\n\nSegmentsLayer.prototype._createSegmentShape = function(segment) {\n  return new SegmentShape(segment, this._peaks, this, this._view);\n};\n\n/**\n * Adds a Konva UI object to the layer for a given segment.\n *\n * @private\n * @param {Segment} segment\n * @returns {SegmentShape}\n */\n\nSegmentsLayer.prototype._addSegmentShape = function(segment) {\n  const segmentShape = this._createSegmentShape(segment);\n\n  segmentShape.addToLayer(this._layer);\n\n  this._segmentShapes[segment.pid] = segmentShape;\n\n  return segmentShape;\n};\n\n/**\n * Updates the positions of all displayed segments in the view.\n *\n * @param {Number} startTime The start of the visible range in the view,\n *   in seconds.\n * @param {Number} endTime The end of the visible range in the view,\n *   in seconds.\n */\n\nSegmentsLayer.prototype.updateSegments = function(startTime, endTime) {\n  // Update segments in visible time range.\n  const segments = this._peaks.segments.find(startTime, endTime);\n\n  segments.forEach(this._updateSegment.bind(this));\n\n  // TODO: In the overview all segments are visible, so no need to do this.\n  this._removeInvisibleSegments(startTime, endTime);\n};\n\n/**\n * @private\n * @param {Segment} segment\n */\n\nSegmentsLayer.prototype._updateSegment = function(segment) {\n  let segmentShape = this.getSegmentShape(segment);\n\n  if (!segmentShape) {\n    segmentShape = this._addSegmentShape(segment);\n  }\n\n  segmentShape.update();\n};\n\n/**\n * Removes any segments that are not visible, i.e., are not within and do not\n * overlap the given time range.\n *\n * @private\n * @param {Number} startTime The start of the visible time range, in seconds.\n * @param {Number} endTime The end of the visible time range, in seconds.\n */\n\nSegmentsLayer.prototype._removeInvisibleSegments = function(startTime, endTime) {\n  for (const segmentPid in this._segmentShapes) {\n    if (objectHasProperty(this._segmentShapes, segmentPid)) {\n      const segment = this._segmentShapes[segmentPid].getSegment();\n\n      if (!segment.isVisible(startTime, endTime)) {\n        this._removeSegment(segment);\n      }\n    }\n  }\n};\n\n/**\n * Removes the given segment from the view.\n *\n * @param {Segment} segment\n */\n\nSegmentsLayer.prototype._removeSegment = function(segment) {\n  const segmentShape = this._segmentShapes[segment.pid];\n\n  if (segmentShape) {\n    segmentShape.destroy();\n    delete this._segmentShapes[segment.pid];\n  }\n};\n\n/**\n * Moves all segment markers to the top of the z-order,\n * so the user can always drag them.\n */\n\nSegmentsLayer.prototype.moveSegmentMarkersToTop = function() {\n  for (const segmentPid in this._segmentShapes) {\n    if (objectHasProperty(this._segmentShapes, segmentPid)) {\n      this._segmentShapes[segmentPid].moveMarkersToTop();\n    }\n  }\n};\n\n/**\n * Toggles visibility of the segments layer.\n *\n * @param {Boolean} visible\n */\n\nSegmentsLayer.prototype.setVisible = function(visible) {\n  this._layer.setVisible(visible);\n};\n\nSegmentsLayer.prototype.segmentClicked = function(eventName, event) {\n  const segmentShape = this._segmentShapes[event.segment.pid];\n\n  if (segmentShape) {\n    segmentShape.segmentClicked(eventName, event);\n  }\n};\n\nSegmentsLayer.prototype.destroy = function() {\n  this._peaks.off('segments.update', this._onSegmentsUpdate);\n  this._peaks.off('segments.add', this._onSegmentsAdd);\n  this._peaks.off('segments.remove', this._onSegmentsRemove);\n  this._peaks.off('segments.remove_all', this._onSegmentsRemoveAll);\n  this._peaks.off('segments.dragged', this._onSegmentsDragged);\n};\n\nSegmentsLayer.prototype.fitToView = function() {\n  for (const segmentPid in this._segmentShapes) {\n    if (objectHasProperty(this._segmentShapes, segmentPid)) {\n      const segmentShape = this._segmentShapes[segmentPid];\n\n      segmentShape.fitToView();\n    }\n  }\n};\n\nSegmentsLayer.prototype.draw = function() {\n  this._layer.draw();\n};\n\nSegmentsLayer.prototype.getHeight = function() {\n  return this._layer.getHeight();\n};\n\nexport default SegmentsLayer;\n","/**\n * @file\n *\n * Defines the {@link WaveformAxis} class.\n *\n * @module waveform-axis\n */\n\nimport { formatTime, objectHasProperty, roundUpToNearest } from './utils';\nimport Konva from 'konva/lib/Core';\n\n/**\n * Creates the waveform axis shapes and adds them to the given view layer.\n *\n * @class\n * @alias WaveformAxis\n *\n * @param {WaveformOverview|WaveformZoomView} view\n * @param {Object} options\n * @param {String} options.axisGridlineColor\n * @param {String} options.axisLabelColor\n * @param {Boolean} options.showAxisLabels\n * @param {Function} options.formatAxisTime\n * @param {String} options.fontFamily\n * @param {Number} options.fontSize\n * @param {String} options.fontStyle\n */\n\nfunction WaveformAxis(view, options) {\n  const self = this;\n\n  self._axisGridlineColor      = options.axisGridlineColor;\n  self._axisLabelColor         = options.axisLabelColor;\n  self._showAxisLabels         = options.showAxisLabels;\n  self._axisTopMarkerHeight    = options.axisTopMarkerHeight;\n  self._axisBottomMarkerHeight = options.axisBottomMarkerHeight;\n\n  if (options.formatAxisTime) {\n    self._formatAxisTime = options.formatAxisTime;\n  }\n  else {\n    self._formatAxisTime = function(time) {\n      // precision = 0, drops the fractional seconds\n      return formatTime(time, 0);\n    };\n  }\n\n  self._axisLabelFont = WaveformAxis._buildFontString(\n    options.fontFamily,\n    options.fontSize,\n    options.fontStyle\n  );\n\n  self._axisShape = new Konva.Shape({\n    sceneFunc: function(context) {\n      self._drawAxis(context, view);\n    }\n  });\n}\n\nWaveformAxis._buildFontString = function(fontFamily, fontSize, fontStyle) {\n  if (!fontSize) {\n    fontSize = 11;\n  }\n\n  if (!fontFamily) {\n    fontFamily = 'sans-serif';\n  }\n\n  if (!fontStyle) {\n    fontStyle = 'normal';\n  }\n\n  return fontStyle + ' ' + fontSize + 'px ' + fontFamily;\n};\n\nWaveformAxis.prototype.addToLayer = function(layer) {\n  layer.add(this._axisShape);\n};\n\nWaveformAxis.prototype.showAxisLabels = function(show, options) {\n  this._showAxisLabels = show;\n\n  if (options) {\n    if (objectHasProperty(options, 'topMarkerHeight')) {\n      this._axisTopMarkerHeight = options.topMarkerHeight;\n    }\n\n    if (objectHasProperty(options, 'bottomMarkerHeight')) {\n      this._axisBottomMarkerHeight = options.bottomMarkerHeight;\n    }\n  }\n};\n\n/**\n * Returns number of seconds for each x-axis marker, appropriate for the\n * current zoom level, ensuring that markers are not too close together\n * and that markers are placed at intuitive time intervals (i.e., every 1,\n * 2, 5, 10, 20, 30 seconds, then every 1, 2, 5, 10, 20, 30 minutes, then\n * every 1, 2, 5, 10, 20, 30 hours).\n *\n * @param {WaveformOverview|WaveformZoomView} view\n * @returns {Number}\n */\n\nWaveformAxis.prototype._getAxisLabelScale = function(view) {\n  let baseSecs = 1; // seconds\n  const steps = [1, 2, 5, 10, 20, 30];\n  const minSpacing = 60;\n  let index = 0;\n\n  let secs;\n\n  for (;;) {\n    secs = baseSecs * steps[index];\n    const pixels = view.timeToPixels(secs);\n\n    if (pixels < minSpacing) {\n      if (++index === steps.length) {\n        baseSecs *= 60; // seconds -> minutes -> hours\n        index = 0;\n      }\n    }\n    else {\n      break;\n    }\n  }\n\n  return secs;\n};\n\n/**\n * Draws the time axis and labels onto a view.\n *\n * @param {Konva.Context} context The context to draw on.\n * @param {WaveformOverview|WaveformZoomView} view\n */\n\nWaveformAxis.prototype._drawAxis = function(context, view) {\n  const currentFrameStartTime = view.getStartTime();\n\n  // Time interval between axis markers (seconds)\n  const axisLabelIntervalSecs = this._getAxisLabelScale(view);\n\n  // Time of first axis marker (seconds)\n  const firstAxisLabelSecs = roundUpToNearest(currentFrameStartTime, axisLabelIntervalSecs);\n\n  // Distance between waveform start time and first axis marker (seconds)\n  const axisLabelOffsetSecs = firstAxisLabelSecs - currentFrameStartTime;\n\n  // Distance between waveform start time and first axis marker (pixels)\n  const axisLabelOffsetPixels = view.timeToPixels(axisLabelOffsetSecs);\n\n  context.setAttr('strokeStyle', this._axisGridlineColor);\n  context.setAttr('lineWidth', 1);\n\n  // Set text style\n  context.setAttr('font', this._axisLabelFont);\n  context.setAttr('fillStyle', this._axisLabelColor);\n  context.setAttr('textAlign', 'left');\n  context.setAttr('textBaseline', 'bottom');\n\n  const width  = view.getWidth();\n  // const height = view.getHeight();\n\n  let secs = firstAxisLabelSecs;\n\n  for (;;) {\n    // Position of axis marker (pixels)\n    const x = axisLabelOffsetPixels + view.timeToPixels(secs - firstAxisLabelSecs);\n\n    if (x >= width) {\n      break;\n    }\n\n    context.beginPath();\n    context.moveTo(x + 0.5, 0);\n    context.lineTo(x + 0.5, 0);\n    // context.moveTo(x + 0.5, height);\n    // context.lineTo(x + 0.5, height - markerHeight);\n    context.stroke();\n\n    if (this._showAxisLabels) {\n      const label      = this._formatAxisTime(secs);\n      const labelWidth = context.measureText(label).width;\n      const labelX     = x - labelWidth / 2;\n      const labelY     = 15;\n\n      if (labelX >= 0) {\n        context.fillText(label, labelX, labelY);\n      }\n    }\n\n    secs += axisLabelIntervalSecs;\n  }\n};\n\nexport default WaveformAxis;\n","/**\n * @file\n *\n * Defines the {@link MouseDragHandler} class.\n *\n * @module mouse-drag-handler\n */\n\nimport { getMarkerObject } from './utils';\n\n/**\n * An object to receive callbacks on mouse drag events. Each function is\n * called with the current mouse X position, relative to the stage's\n * container HTML element.\n *\n * @typedef {Object} MouseDragHandlers\n * @global\n * @property {Function} onMouseDown Mouse down event handler.\n * @property {Function} onMouseMove Mouse move event handler.\n * @property {Function} onMouseUp Mouse up event handler.\n */\n\n/**\n * Creates a handler for mouse events to allow interaction with the waveform\n * views by clicking and dragging the mouse.\n *\n * @class\n * @alias MouseDragHandler\n *\n * @param {Konva.Stage} stage\n * @param {MouseDragHandlers} handlers\n */\n\nfunction MouseDragHandler(stage, handlers) {\n  this._stage     = stage;\n  this._handlers  = handlers;\n  this._dragging  = false;\n  this._mouseDown = this._mouseDown.bind(this);\n  this._mouseUp   = this._mouseUp.bind(this);\n  this._mouseMove = this._mouseMove.bind(this);\n\n  this._stage.on('mousedown', this._mouseDown);\n  this._stage.on('touchstart', this._mouseDown);\n\n  this._lastMouseClientX = null;\n}\n\n/**\n * Mouse down event handler.\n *\n * @param {MouseEvent} event\n */\n\nMouseDragHandler.prototype._mouseDown = function(event) {\n  let segment = null;\n\n  if (event.type === 'mousedown' && event.evt.button !== 0) {\n    // Mouse drag only applies to the primary mouse button.\n    // The secondary button may be used to show a context menu\n    // and we don't want to also treat this as a mouse drag operation.\n    return;\n  }\n\n  const marker = getMarkerObject(event.target);\n\n  if (marker && marker.attrs.draggable) {\n    // Avoid interfering with drag/drop of point and segment markers.\n    if (marker.attrs.name === 'point-marker' ||\n        marker.attrs.name === 'segment-marker') {\n      return;\n    }\n\n    // Check if we're dragging a segment.\n    if (marker.attrs.name === 'segment-overlay') {\n      segment = marker;\n    }\n  }\n\n  this._lastMouseClientX = Math.floor(\n    event.type === 'touchstart' ? event.evt.touches[0].clientX : event.evt.clientX\n  );\n\n  if (this._handlers.onMouseDown) {\n    const mouseDownPosX = this._getMousePosX(this._lastMouseClientX);\n\n    this._handlers.onMouseDown(mouseDownPosX, segment);\n  }\n\n  // Use the window mousemove and mouseup handlers instead of the\n  // Konva.Stage ones so that we still receive events if the user moves the\n  // mouse outside the stage.\n  window.addEventListener('mousemove', this._mouseMove, { capture: false, passive: true });\n  window.addEventListener('touchmove', this._mouseMove, { capture: false, passive: true });\n  window.addEventListener('mouseup', this._mouseUp, { capture: false, passive: true });\n  window.addEventListener('touchend', this._mouseUp, { capture: false, passive: true });\n  window.addEventListener('blur', this._mouseUp, { capture: false, passive: true });\n};\n\n/**\n * Mouse move event handler.\n *\n * @param {MouseEvent} event\n */\n\nMouseDragHandler.prototype._mouseMove = function(event) {\n  const clientX = Math.floor(\n    event.type === 'touchmove' ? event.changedTouches[0].clientX : event.clientX\n  );\n\n  // Don't update on vertical mouse movement.\n  if (clientX === this._lastMouseClientX) {\n    return;\n  }\n\n  this._lastMouseClientX = clientX;\n\n  this._dragging = true;\n\n  if (this._handlers.onMouseMove) {\n    const mousePosX = this._getMousePosX(clientX);\n\n    this._handlers.onMouseMove(mousePosX);\n  }\n};\n\n/**\n * Mouse up event handler.\n *\n * @param {MouseEvent} event\n */\n\nMouseDragHandler.prototype._mouseUp = function(event) {\n  let clientX;\n\n  if (event.type === 'touchend') {\n    clientX = Math.floor(event.changedTouches[0].clientX);\n\n    if (event.cancelable) {\n      event.preventDefault();\n    }\n  }\n  else {\n    clientX = Math.floor(event.clientX);\n  }\n\n  if (this._handlers.onMouseUp) {\n    const mousePosX = this._getMousePosX(clientX);\n\n    this._handlers.onMouseUp(mousePosX);\n  }\n\n  window.removeEventListener('mousemove', this._mouseMove, { capture: false });\n  window.removeEventListener('touchmove', this._mouseMove, { capture: false });\n  window.removeEventListener('mouseup', this._mouseUp, { capture: false });\n  window.removeEventListener('touchend', this._mouseUp, { capture: false });\n  window.removeEventListener('blur', this._mouseUp, { capture: false });\n\n  this._dragging = false;\n};\n\n/**\n * @returns {Number} The mouse X position, relative to the container that\n * received the mouse down event.\n *\n * @private\n * @param {Number} clientX Mouse client X position.\n */\n\nMouseDragHandler.prototype._getMousePosX = function(clientX) {\n  const containerPos = this._stage.getContainer().getBoundingClientRect();\n\n  return clientX - containerPos.left;\n};\n\n/**\n * Returns <code>true</code> if the mouse is being dragged, i.e., moved with\n * the mouse button held down.\n *\n * @returns {Boolean}\n */\n\nMouseDragHandler.prototype.isDragging = function() {\n  return this._dragging;\n};\n\nMouseDragHandler.prototype.destroy = function() {\n  this._stage.off('mousedown', this._mouseDown);\n  this._stage.off('touchstart', this._mouseDown);\n};\n\nexport default MouseDragHandler;\n","/**\n * @file\n *\n * Defines the {@link SeekMouseDragHandler} class.\n *\n * @module seek-mouse-drag-handler\n */\n\nimport MouseDragHandler from './mouse-drag-handler';\nimport { clamp } from './utils';\n\n/**\n * Creates a handler for mouse events to allow seeking the waveform\n * views by clicking and dragging the mouse.\n *\n * @class\n * @alias SeekMouseDragHandler\n *\n * @param {Peaks} peaks\n * @param {WaveformOverview} view\n */\n\nfunction SeekMouseDragHandler(peaks, view) {\n  this._peaks = peaks;\n  this._view = view;\n\n  this._onMouseDown = this._onMouseDown.bind(this);\n  this._onMouseMove = this._onMouseMove.bind(this);\n\n  this._mouseDragHandler = new MouseDragHandler(view._stage, {\n    onMouseDown: this._onMouseDown,\n    onMouseMove: this._onMouseMove\n  });\n}\n\nSeekMouseDragHandler.prototype._onMouseDown = function(mousePosX) {\n  this._seek(mousePosX);\n};\n\nSeekMouseDragHandler.prototype._onMouseMove = function(mousePosX) {\n  this._seek(mousePosX);\n};\n\nSeekMouseDragHandler.prototype._seek = function(mousePosX) {\n  if (!this._view.isSeekEnabled()) {\n    return;\n  }\n\n  mousePosX = clamp(mousePosX, 0, this._width);\n\n  let time = this._view.pixelsToTime(mousePosX);\n  const duration = this._peaks.player.getDuration();\n\n  // Prevent the playhead position from jumping by limiting click\n  // handling to the waveform duration.\n  if (time > duration) {\n    time = duration;\n  }\n\n  // Update the playhead position. This gives a smoother visual update\n  // than if we only use the player.timeupdate event.\n  this._view.updatePlayheadTime(time);\n\n  this._peaks.player.seek(time);\n};\n\nSeekMouseDragHandler.prototype.destroy = function() {\n  this._mouseDragHandler.destroy();\n};\n\nexport default SeekMouseDragHandler;\n","/**\n * @file\n *\n * Defines the {@link WaveformOverview} class.\n *\n * @module waveform-overview\n */\n\nimport HighlightLayer from './highlight-layer';\nimport PlayheadLayer from './playhead-layer';\nimport PointsLayer from './points-layer';\nimport SegmentsLayer from './segments-layer';\nimport WaveformAxis from './waveform-axis';\nimport WaveformShape from './waveform-shape';\nimport SeekMouseDragHandler from './seek-mouse-drag-handler';\nimport { formatTime, getMarkerObject, isFinite, isNumber } from './utils';\n\nimport Konva from 'konva/lib/Core';\n\n/**\n * Creates the overview waveform view.\n *\n * @class\n * @alias WaveformOverview\n *\n * @param {WaveformData} waveformData\n * @param {HTMLElement} container\n * @param {Peaks} peaks\n */\n\nfunction WaveformOverview(waveformData, container, peaks) {\n  const self = this;\n\n  self._originalWaveformData = waveformData;\n  self._container = container;\n  self._peaks = peaks;\n  self._options = peaks.options;\n  self._viewOptions = peaks.options.overview;\n\n  // Bind event handlers\n  self._onTimeUpdate = self._onTimeUpdate.bind(this);\n  self._onPlaying = self._onPlaying.bind(this);\n  self._onPause = self._onPause.bind(this);\n  self._onZoomviewDisplaying = self._onZoomviewDisplaying.bind(this);\n\n  // Register event handlers\n  peaks.on('player.timeupdate', self._onTimeUpdate);\n  peaks.on('player.playing', self._onPlaying);\n  peaks.on('player.pause', self._onPause);\n  peaks.on('zoomview.displaying', self._onZoomviewDisplaying);\n\n  self._amplitudeScale = 1.0;\n  self._timeLabelPrecision = self._viewOptions.timeLabelPrecision;\n  self._enableSeek = true;\n\n  if (self._viewOptions.formatPlayheadTime) {\n    self._formatPlayheadTime = self._viewOptions.formatPlayheadTime;\n  }\n  else {\n    self._formatPlayheadTime = function(time) {\n      return formatTime(time, self._timeLabelPrecision);\n    };\n  }\n\n  self._width = container.clientWidth;\n  self._height = container.clientHeight;\n\n  self._data = waveformData;\n\n  if (self._width !== 0) {\n    self._resampleAndSetWaveformData(waveformData, self._width);\n  }\n\n  // Disable warning: The stage has 6 layers.\n  // Recommended maximum number of layers is 3-5.\n  Konva.showWarnings = false;\n\n  self._stage = new Konva.Stage({\n    container: container,\n    width: self._width,\n    height: self._height\n  });\n\n  self._waveformColor = self._viewOptions.waveformColor;\n  self._playedWaveformColor = self._viewOptions.playedWaveformColor;\n\n  self._createWaveform();\n\n  if (self._viewOptions.enableSegments) {\n    self._segmentsLayer = new SegmentsLayer(peaks, self, false);\n    self._segmentsLayer.addToStage(self._stage);\n  }\n\n  if (self._viewOptions.enablePoints) {\n    self._pointsLayer = new PointsLayer(peaks, self, false);\n    self._pointsLayer.addToStage(self._stage);\n  }\n\n  self._highlightLayer = new HighlightLayer(\n    self,\n    self._viewOptions\n  );\n  self._highlightLayer.addToStage(self._stage);\n\n  self._createAxisLabels();\n\n  self._playheadLayer = new PlayheadLayer({\n    player: self._peaks.player,\n    view: self,\n    showPlayheadTime: self._viewOptions.showPlayheadTime,\n    playheadColor: self._viewOptions.playheadColor,\n    playheadTextColor: self._viewOptions.playheadTextColor,\n    playheadFontFamily: self._viewOptions.fontFamily,\n    playheadFontSize: self._viewOptions.fontSize,\n    playheadFontStyle: self._viewOptions.fontStyle\n  });\n\n  self._playheadLayer.addToStage(self._stage);\n\n  const time = self._peaks.player.getCurrentTime();\n\n  self._playheadLayer.updatePlayheadTime(time);\n\n  self._mouseDragHandler = new SeekMouseDragHandler(peaks, self);\n\n  self._onClick = self._onClick.bind(self);\n  self._onDblClick = self._onDblClick.bind(self);\n  self._onContextMenu = self._onContextMenu.bind(self);\n\n  self._stage.on('click', self._onClick);\n  self._stage.on('dblclick', self._onDblClick);\n  self._stage.on('contextmenu', self._onContextMenu);\n}\n\nWaveformOverview.prototype.enableSeek = function(enable) {\n  this._enableSeek = enable;\n};\n\nWaveformOverview.prototype.isSeekEnabled = function() {\n  return this._enableSeek;\n};\n\nWaveformOverview.prototype._onClick = function(event) {\n  this._clickHandler(event, 'click');\n};\n\nWaveformOverview.prototype._onDblClick = function(event) {\n  this._clickHandler(event, 'dblclick');\n};\n\nWaveformOverview.prototype._onContextMenu = function(event) {\n  this._clickHandler(event, 'contextmenu');\n};\n\nWaveformOverview.prototype._clickHandler = function(event, eventName) {\n  let emitViewEvent = true;\n\n  if (event.target !== this._stage) {\n    const marker = getMarkerObject(event.target);\n\n    if (marker) {\n      if (marker.attrs.name === 'point-marker') {\n        const point = marker.getAttr('point');\n\n        if (point) {\n          this._peaks.emit('points.' + eventName, {\n            point: point,\n            evt: event.evt,\n            preventViewEvent: function() {\n              emitViewEvent = false;\n            }\n          });\n        }\n      }\n      else if (marker.attrs.name === 'segment-overlay') {\n        const segment = marker.getAttr('segment');\n\n        if (segment) {\n          const clickEvent = {\n            segment: segment,\n            evt: event.evt,\n            preventViewEvent: function() {\n              emitViewEvent = false;\n            }\n          };\n\n          if (this._segmentsLayer) {\n            this._segmentsLayer.segmentClicked(eventName, clickEvent);\n          }\n        }\n      }\n    }\n  }\n\n  if (emitViewEvent) {\n    const pixelIndex = event.evt.layerX;\n    const time = this.pixelsToTime(pixelIndex);\n\n    this._peaks.emit('overview.' + eventName, {\n      time: time,\n      evt: event.evt\n    });\n  }\n};\n\nWaveformOverview.prototype.isSegmentDraggingEnabled = function() {\n  return false;\n};\n\nWaveformOverview.prototype.getName = function() {\n  return 'overview';\n};\n\nWaveformOverview.prototype._onTimeUpdate = function(time) {\n  this._playheadLayer.updatePlayheadTime(time);\n};\n\nWaveformOverview.prototype._onPlaying = function(time) {\n  this._playheadLayer.updatePlayheadTime(time);\n};\n\nWaveformOverview.prototype._onPause = function(time) {\n  this._playheadLayer.stop(time);\n};\n\nWaveformOverview.prototype._onZoomviewDisplaying = function(startTime, endTime) {\n  this.showHighlight(startTime, endTime);\n};\n\nWaveformOverview.prototype.updatePlayheadTime = function(time) {\n  this._playheadLayer.updatePlayheadTime(time);\n};\n\nWaveformOverview.prototype.showHighlight = function(startTime, endTime) {\n  this._highlightLayer.showHighlight(startTime, endTime);\n};\n\nWaveformOverview.prototype.setWaveformData = function(waveformData) {\n  this._originalWaveformData = waveformData;\n\n  if (this._width !== 0) {\n    this._resampleAndSetWaveformData(waveformData, this._width);\n  }\n  else {\n    this._data = waveformData;\n  }\n\n  this._updateWaveform();\n};\n\nWaveformOverview.prototype._resampleAndSetWaveformData = function(waveformData, width) {\n  try {\n    this._data = waveformData.resample({ width: width });\n    return true;\n  }\n  catch (error) {\n    // This error usually indicates that the waveform length\n    // is less than the container width. Ignore, and use the\n    // given waveform data\n    this._data = waveformData;\n    return false;\n  }\n};\n\nWaveformOverview.prototype.playheadPosChanged = function(time) {\n  if (this._playedWaveformShape) {\n    this._playedSegment.endTime = time;\n    this._unplayedSegment.startTime = time;\n\n    this._waveformLayer.draw();\n  }\n};\n\n/**\n * Returns the pixel index for a given time, for the current zoom level.\n *\n * @param {Number} time Time, in seconds.\n * @returns {Number} Pixel index.\n */\n\nWaveformOverview.prototype.timeToPixels = function(time) {\n  return Math.floor(time * this._data.sample_rate / this._data.scale);\n};\n\nWaveformOverview.prototype.timeToPixelOffset = WaveformOverview.prototype.timeToPixels;\n\n/**\n * Returns the time for a given pixel index, for the current zoom level.\n *\n * @param {Number} pixels Pixel index.\n * @returns {Number} Time, in seconds.\n */\n\nWaveformOverview.prototype.pixelsToTime = function(pixels) {\n  return pixels * this._data.scale / this._data.sample_rate;\n};\n\n/**\n * Returns the time for a given pixel index, for the current zoom level.\n * (This is presented for symmetry with WaveformZoomview. Since WaveformOverview\n * doesn't scroll, its pixelOffsetToTime & pixelsToTime methods are identical.)\n *\n * @param {Number} pixels Pixel index.\n * @returns {Number} Time, in seconds.\n */\n\nWaveformOverview.prototype.pixelOffsetToTime = WaveformOverview.prototype.pixelsToTime;\n\n/**\n * @returns {Number} The start position of the waveform shown in the view,\n *   in pixels.\n */\n\nWaveformOverview.prototype.getFrameOffset = function() {\n  return 0;\n};\n\n/**\n * @returns {Number} The time at the leftmost edge\n */\n\nWaveformOverview.prototype.getStartTime = function() {\n  return 0;\n};\n\n/**\n * @returns {Number} The time at the rightmost edge\n */\n\nWaveformOverview.prototype.getEndTime = function() {\n  return this._getDuration();\n};\n\n/**\n * @returns {Number} The width of the view, in pixels.\n */\n\nWaveformOverview.prototype.getWidth = function() {\n  return this._width;\n};\n\n/**\n * @returns {Number} The height of the view, in pixels.\n */\n\nWaveformOverview.prototype.getHeight = function() {\n  return this._height;\n};\n\n/**\n * @returns {Number} The media duration, in seconds.\n */\n\nWaveformOverview.prototype._getDuration = function() {\n  return this._peaks.player.getDuration();\n};\n\n/**\n * Adjusts the amplitude scale of waveform shown in the view, which allows\n * users to zoom the waveform vertically.\n *\n * @param {Number} scale The new amplitude scale factor\n */\n\nWaveformOverview.prototype.setAmplitudeScale = function(scale) {\n  if (!isNumber(scale) || !isFinite(scale)) {\n    throw new Error('view.setAmplitudeScale(): Scale must be a valid number');\n  }\n\n  this._amplitudeScale = scale;\n\n  this._waveformLayer.draw();\n\n  if (this._segmentsLayer) {\n    this._segmentsLayer.draw();\n  }\n};\n\nWaveformOverview.prototype.getAmplitudeScale = function() {\n  return this._amplitudeScale;\n};\n\n/**\n * @returns {WaveformData} The view's waveform data.\n */\n\nWaveformOverview.prototype.getWaveformData = function() {\n  return this._data;\n};\n\nWaveformOverview.prototype._createWaveformShapes = function() {\n  if (!this._waveformShape) {\n    this._waveformShape = new WaveformShape({\n      color: this._waveformColor,\n      view: this\n    });\n\n    this._waveformShape.addToLayer(this._waveformLayer);\n  }\n\n  if (this._playedWaveformColor && !this._playedWaveformShape) {\n    const time = this._peaks.player.getCurrentTime();\n\n    this._playedSegment = {\n      startTime: 0,\n      endTime: time\n    };\n\n    this._unplayedSegment = {\n      startTime: time,\n      endTime: this._getDuration()\n    };\n\n    this._waveformShape.setSegment(this._unplayedSegment);\n\n    this._playedWaveformShape = new WaveformShape({\n      color: this._playedWaveformColor,\n      view: this,\n      segment: this._playedSegment\n    });\n\n    this._playedWaveformShape.addToLayer(this._waveformLayer);\n  }\n};\n\nWaveformOverview.prototype._destroyPlayedWaveformShape = function() {\n  this._waveformShape.setSegment(null);\n\n  this._playedWaveformShape.destroy();\n  this._playedWaveformShape = null;\n\n  this._playedSegment = null;\n  this._unplayedSegment = null;\n};\n\nWaveformOverview.prototype._createWaveform = function() {\n  this._waveformLayer = new Konva.Layer({ listening: false });\n\n  this._createWaveformShapes();\n\n  this._stage.add(this._waveformLayer);\n};\n\nWaveformOverview.prototype._createAxisLabels = function() {\n  this._axisLayer = new Konva.Layer({ listening: false });\n  this._axis = new WaveformAxis(this, this._viewOptions);\n\n  this._axis.addToLayer(this._axisLayer);\n  this._stage.add(this._axisLayer);\n};\n\nWaveformOverview.prototype.removeHighlightRect = function() {\n  this._highlightLayer.removeHighlight();\n};\n\nWaveformOverview.prototype._updateWaveform = function() {\n  this._waveformLayer.draw();\n  this._axisLayer.draw();\n\n  const playheadTime = this._peaks.player.getCurrentTime();\n\n  this._playheadLayer.updatePlayheadTime(playheadTime);\n\n  this._highlightLayer.updateHighlight();\n\n  const frameStartTime = 0;\n  const frameEndTime   = this.pixelsToTime(this._width);\n\n  if (this._pointsLayer) {\n    this._pointsLayer.updatePoints(frameStartTime, frameEndTime);\n  }\n\n  if (this._segmentsLayer) {\n    this._segmentsLayer.updateSegments(frameStartTime, frameEndTime);\n  }\n};\n\nWaveformOverview.prototype.setWaveformColor = function(color) {\n  this._waveformColor = color;\n  this._waveformShape.setWaveformColor(color);\n};\n\nWaveformOverview.prototype.setPlayedWaveformColor = function(color) {\n  this._playedWaveformColor = color;\n\n  if (color) {\n    if (!this._playedWaveformShape) {\n      this._createWaveformShapes();\n    }\n\n    this._playedWaveformShape.setWaveformColor(color);\n  }\n  else {\n    if (this._playedWaveformShape) {\n      this._destroyPlayedWaveformShape();\n    }\n  }\n};\n\nWaveformOverview.prototype.showPlayheadTime = function(show) {\n  this._playheadLayer.showPlayheadTime(show);\n};\n\nWaveformOverview.prototype.setTimeLabelPrecision = function(precision) {\n  this._timeLabelPrecision = precision;\n  this._playheadLayer.updatePlayheadText();\n};\n\nWaveformOverview.prototype.formatTime = function(time) {\n  return this._formatPlayheadTime(time);\n};\n\nWaveformOverview.prototype.showAxisLabels = function(show, options) {\n  this._axis.showAxisLabels(show, options);\n  this._axisLayer.draw();\n};\n\nWaveformOverview.prototype.enableMarkerEditing = function(enable) {\n  if (this._segmentsLayer) {\n    this._segmentsLayer.enableEditing(enable);\n  }\n\n  if (this._pointsLayer) {\n    this._pointsLayer.enableEditing(enable);\n  }\n};\n\nWaveformOverview.prototype.fitToContainer = function() {\n  if (this._container.clientWidth === 0 && this._container.clientHeight === 0) {\n    return;\n  }\n\n  let updateWaveform = false;\n\n  if (this._container.clientWidth !== this._width) {\n    this._width = this._container.clientWidth;\n    this._stage.setWidth(this._width);\n\n    if (this._resampleAndSetWaveformData(this._originalWaveformData, this._width)) {\n      updateWaveform = true;\n    }\n  }\n\n  if (this._container.clientHeight !== this._height) {\n    this._height = this._container.clientHeight;\n    this._stage.setHeight(this._height);\n\n    this._waveformShape.fitToView();\n    this._playheadLayer.fitToView();\n\n    if (this._segmentsLayer) {\n      this._segmentsLayer.fitToView();\n    }\n\n    if (this._pointsLayer) {\n      this._pointsLayer.fitToView();\n    }\n\n    this._highlightLayer.fitToView();\n  }\n\n  if (updateWaveform) {\n    this._updateWaveform();\n  }\n};\n\nWaveformOverview.prototype.getViewOptions = function() {\n  return this._viewOptions;\n};\n\nWaveformOverview.prototype.destroy = function() {\n  this._peaks.off('player.playing', this._onPlaying);\n  this._peaks.off('player.pause', this._onPause);\n  this._peaks.off('player.timeupdate', this._onTimeUpdate);\n  this._peaks.off('zoomview.displaying', this._onZoomviewDisplaying);\n\n  this._mouseDragHandler.destroy();\n\n  this._playheadLayer.destroy();\n\n  if (this._segmentsLayer) {\n    this._segmentsLayer.destroy();\n  }\n\n  if (this._pointsLayer) {\n    this._pointsLayer.destroy();\n  }\n\n  if (this._stage) {\n    this._stage.destroy();\n    this._stage = null;\n  }\n};\n\nexport default WaveformOverview;\n","/**\n * @file\n *\n * Defines the {@link InsertSegmentMouseDragHandler} class.\n *\n * @module insert-segment-mouse-drag-handler\n */\n\nimport MouseDragHandler from './mouse-drag-handler';\n\n/**\n * Creates a handler for mouse events to allow inserting new waveform\n * segments by clicking and dragging the mouse.\n *\n * @class\n * @alias InsertSegmentMouseDragHandler\n *\n * @param {Peaks} peaks\n * @param {WaveformZoomView} view\n */\n\nfunction InsertSegmentMouseDragHandler(peaks, view) {\n  this._peaks = peaks;\n  this._view = view;\n\n  this._onMouseDown = this._onMouseDown.bind(this);\n  this._onMouseMove = this._onMouseMove.bind(this);\n  this._onMouseUp = this._onMouseUp.bind(this);\n\n  this._mouseDragHandler = new MouseDragHandler(view._stage, {\n    onMouseDown: this._onMouseDown,\n    onMouseMove: this._onMouseMove,\n    onMouseUp: this._onMouseUp\n  });\n}\n\nInsertSegmentMouseDragHandler.prototype.isDragging = function() {\n  return this._mouseDragHandler.isDragging();\n};\n\nInsertSegmentMouseDragHandler.prototype._onMouseDown = function(mousePosX, segment) {\n  this._segment = segment;\n\n  if (this._segment) {\n    // The user has clicked within a segment. We want to prevent\n    // the segment from being dragged while the user inserts a new\n    // segment. So we temporarily make the segment non-draggable,\n    // and restore its draggable state in onMouseUp().\n    this._segmentIsDraggable = this._segment.draggable();\n    this._segment.draggable(false);\n  }\n\n  const time = this._view.pixelsToTime(mousePosX + this._view.getFrameOffset());\n\n  this._peaks.segments.setInserting(true);\n\n  this._insertSegment = this._peaks.segments.add({\n    startTime: time,\n    endTime: time,\n    editable: true\n  });\n\n  this._insertSegmentShape = this._view._segmentsLayer.getSegmentShape(this._insertSegment);\n\n  if (this._insertSegmentShape) {\n    this._insertSegmentShape.moveMarkersToTop();\n    this._insertSegmentShape.startDrag();\n  }\n};\n\nInsertSegmentMouseDragHandler.prototype._onMouseMove = function() {\n};\n\nInsertSegmentMouseDragHandler.prototype._onMouseUp = function() {\n  if (this._insertSegmentShape) {\n    this._insertSegmentShape.stopDrag();\n    this._insertSegmentShape = null;\n  }\n\n  // If the user was dragging within an existing segment,\n  // restore the segment's original draggable state.\n  if (this._segment && this._segmentIsDraggable) {\n    this._segment.draggable(true);\n  }\n\n  this._peaks.emit('segments.insert', {\n    segment: this._insertSegment\n  });\n\n  this._peaks.segments.setInserting(false);\n};\n\nInsertSegmentMouseDragHandler.prototype.destroy = function() {\n  this._mouseDragHandler.destroy();\n};\n\nexport default InsertSegmentMouseDragHandler;\n","/**\n * @file\n *\n * Defines the {@link ScrollMouseDragHandler} class.\n *\n * @module scroll-mouse-drag-handler\n */\n\nimport MouseDragHandler from './mouse-drag-handler';\nimport { clamp } from './utils';\n\n/**\n * Creates a handler for mouse events to allow scrolling the zoomable\n * waveform view by clicking and dragging the mouse.\n *\n * @class\n * @alias ScrollMouseDragHandler\n *\n * @param {Peaks} peaks\n * @param {WaveformZoomView} view\n */\n\nfunction ScrollMouseDragHandler(peaks, view) {\n  this._peaks = peaks;\n  this._view = view;\n\n  this._onMouseDown = this._onMouseDown.bind(this);\n  this._onMouseMove = this._onMouseMove.bind(this);\n  this._onMouseUp = this._onMouseUp.bind(this);\n\n  this._mouseDragHandler = new MouseDragHandler(view._stage, {\n    onMouseDown: this._onMouseDown,\n    onMouseMove: this._onMouseMove,\n    onMouseUp: this._onMouseUp\n  });\n}\n\nScrollMouseDragHandler.prototype.isDragging = function() {\n  return this._mouseDragHandler.isDragging();\n};\n\nScrollMouseDragHandler.prototype._onMouseDown = function(mousePosX, segment) {\n  this._segment = segment;\n  this._seeking = false;\n\n  const playheadOffset = this._view.getPlayheadOffset();\n\n  if (this._view.isSeekEnabled() &&\n      Math.abs(mousePosX - playheadOffset) <= this._view.getPlayheadClickTolerance()) {\n    this._seeking = true;\n\n    // The user has clicked near the playhead, and the playhead is within\n    // a segment. In this case we want to allow the playhead to move, but\n    // prevent the segment from being dragged. So we temporarily make the\n    // segment non-draggable, and restore its draggable state in onMouseUp().\n    if (this._segment) {\n      this._segmentIsDraggable = this._segment.draggable();\n      this._segment.draggable(false);\n    }\n  }\n\n  if (this._seeking) {\n    this._seek(mousePosX);\n  }\n  else {\n    this._initialFrameOffset = this._view.getFrameOffset();\n    this._mouseDownX = mousePosX;\n  }\n};\n\nScrollMouseDragHandler.prototype._onMouseMove = function(mousePosX) {\n  // Prevent scrolling the waveform if the user is dragging a segment.\n  if (this._segment && !this._seeking) {\n    return;\n  }\n\n  if (this._seeking) {\n    mousePosX = clamp(mousePosX, 0, this._view.getWidth());\n\n    const time = this._view.pixelsToTime(mousePosX + this._view.getFrameOffset());\n\n    this._seek(time);\n  }\n  else {\n    // Moving the mouse to the left increases the time position of the\n    // left-hand edge of the visible waveform.\n    const diff = this._mouseDownX - mousePosX;\n    const newFrameOffset = this._initialFrameOffset + diff;\n\n    if (newFrameOffset !== this._initialFrameOffset) {\n      this._view.updateWaveform(newFrameOffset);\n    }\n  }\n};\n\nScrollMouseDragHandler.prototype._onMouseUp = function() {\n  if (!this._seeking) {\n    // Set playhead position only on click release, when not dragging.\n    if (this._view._enableSeek && !this._mouseDragHandler.isDragging()) {\n      const time = this._view.pixelOffsetToTime(this._mouseDownX);\n\n      this._seek(time);\n    }\n  }\n\n  // If the user was dragging within an existing segment,\n  // restore the segment's original draggable state.\n  if (this._segment && this._seeking) {\n    if (this._segmentIsDraggable) {\n      this._segment.draggable(true);\n    }\n  }\n};\n\nScrollMouseDragHandler.prototype._seek = function(time) {\n  const duration = this._peaks.player.getDuration();\n\n  // Prevent the playhead position from jumping by limiting click\n  // handling to the waveform duration.\n  if (time > duration) {\n    time = duration;\n  }\n\n  // Update the playhead position. This gives a smoother visual update\n  // than if we only use the player.timeupdate event.\n  this._view.updatePlayheadTime(time);\n\n  this._peaks.player.seek(time);\n};\n\nScrollMouseDragHandler.prototype.destroy = function() {\n  this._mouseDragHandler.destroy();\n};\n\nexport default ScrollMouseDragHandler;\n","/**\n * @file\n *\n * Defines the {@link WaveformZoomView} class.\n *\n * @module waveform-zoomview\n */\n\nimport PlayheadLayer from './playhead-layer';\nimport PointsLayer from './points-layer';\nimport SegmentsLayer from './segments-layer';\nimport WaveformAxis from './waveform-axis';\nimport WaveformShape from './waveform-shape';\nimport InsertSegmentMouseDragHandler from './insert-segment-mouse-drag-handler';\nimport ScrollMouseDragHandler from './scroll-mouse-drag-handler';\nimport { clamp, formatTime, getMarkerObject, isFinite, isNumber, isValidTime,\n  objectHasProperty } from './utils';\n\nimport Konva from 'konva/lib/Core';\n\n/**\n * Creates a zoomable waveform view.\n *\n * @class\n * @alias WaveformZoomView\n *\n * @param {WaveformData} waveformData\n * @param {HTMLElement} container\n * @param {Peaks} peaks\n */\n\nfunction WaveformZoomView(waveformData, container, peaks) {\n  const self = this;\n\n  self._container = container;\n  self._peaks = peaks;\n  self._options = peaks.options;\n  self._viewOptions = self._options.zoomview;\n  self._enableWaveformCache = self._options.waveformCache;\n  self._originalWaveformData = waveformData;\n  self._initWaveformCache();\n\n  // Bind event handlers\n  self._onTimeUpdate = self._onTimeUpdate.bind(self);\n  self._onPlaying = self._onPlaying.bind(self);\n  self._onPause = self._onPause.bind(self);\n  self._onKeyboardLeft = self._onKeyboardLeft.bind(self);\n  self._onKeyboardRight = self._onKeyboardRight.bind(self);\n  self._onKeyboardShiftLeft  = self._onKeyboardShiftLeft.bind(self);\n  self._onKeyboardShiftRight = self._onKeyboardShiftRight.bind(self);\n\n  // Register event handlers\n  self._peaks.on('player.timeupdate', self._onTimeUpdate);\n  self._peaks.on('player.playing', self._onPlaying);\n  self._peaks.on('player.pause', self._onPause);\n  self._peaks.on('keyboard.left', self._onKeyboardLeft);\n  self._peaks.on('keyboard.right', self._onKeyboardRight);\n  self._peaks.on('keyboard.shift_left', self._onKeyboardShiftLeft);\n  self._peaks.on('keyboard.shift_right', self._onKeyboardShiftRight);\n\n  self._autoScroll = self._viewOptions.autoScroll;\n  self._autoScrollOffset = self._viewOptions.autoScrollOffset;\n\n  self._amplitudeScale = 1.0;\n  self._timeLabelPrecision = self._viewOptions.timeLabelPrecision;\n  self._enableSeek = true;\n  self._enableSegmentDragging = false;\n  self._segmentDragMode = 'overlap';\n  self._minSegmentDragWidth = 0;\n  self._insertSegmentShape = null;\n\n  if (self._viewOptions.formatPlayheadTime) {\n    self._formatPlayheadTime = self._viewOptions.formatPlayheadTime;\n  }\n  else {\n    self._formatPlayheadTime = function(time) {\n      return formatTime(time, self._timeLabelPrecision);\n    };\n  }\n\n  self._playheadClickTolerance = self._viewOptions.playheadClickTolerance;\n\n  self._data = null;\n  self._pixelLength = 0;\n\n  const initialZoomLevel = peaks.zoom.getZoomLevel();\n\n  self._zoomLevelAuto = false;\n  self._zoomLevelSeconds = null;\n\n  self._resampleData({ scale: initialZoomLevel });\n\n  self._width = container.clientWidth;\n  self._height = container.clientHeight;\n\n  // The pixel offset of the current frame being displayed\n  self._frameOffset = 0;\n\n  self._stage = new Konva.Stage({\n    container: container,\n    width: self._width,\n    height: self._height\n  });\n\n  self._waveformColor = self._viewOptions.waveformColor;\n  self._playedWaveformColor = self._viewOptions.playedWaveformColor;\n\n  self._createWaveform();\n\n  if (self._viewOptions.enableSegments) {\n    self._segmentsLayer = new SegmentsLayer(peaks, self, true);\n    self._segmentsLayer.addToStage(self._stage);\n  }\n\n  if (self._viewOptions.enablePoints) {\n    self._pointsLayer = new PointsLayer(peaks, self, true);\n    self._pointsLayer.addToStage(self._stage);\n  }\n\n  self._createAxisLabels();\n\n  self._playheadLayer = new PlayheadLayer({\n    player: self._peaks.player,\n    view: self,\n    showPlayheadTime: self._viewOptions.showPlayheadTime,\n    playheadColor: self._viewOptions.playheadColor,\n    playheadTextColor: self._viewOptions.playheadTextColor,\n    playheadFontFamily: self._viewOptions.fontFamily,\n    playheadFontSize: self._viewOptions.fontSize,\n    playheadFontStyle: self._viewOptions.fontStyle\n  });\n\n  self._playheadLayer.addToStage(self._stage);\n\n  const time = self._peaks.player.getCurrentTime();\n\n  self._syncPlayhead(time);\n\n  self._mouseDragHandler = new ScrollMouseDragHandler(self._peaks, self);\n\n  self._onWheel = self._onWheel.bind(self);\n  self._onWheelCaptureVerticalScroll = self._onWheelCaptureVerticalScroll.bind(self);\n  self.setWheelMode(self._viewOptions.wheelMode);\n\n  self._onClick = self._onClick.bind(self);\n  self._onDblClick = self._onDblClick.bind(self);\n  self._onMouseDown = self._onMouseDown.bind(self);\n  self._onContextMenu = self._onContextMenu.bind(self);\n\n  self._stage.on('click', self._onClick);\n  self._stage.on('dblclick', self._onDblClick);\n  self._stage.on('mousedown', self._onMouseDown);\n  self._stage.on('contextmenu', self._onContextMenu);\n}\n\nWaveformZoomView.prototype._initWaveformCache = function() {\n  if (this._enableWaveformCache) {\n    this._waveformData = new Map();\n    this._waveformData.set(this._originalWaveformData.scale, this._originalWaveformData);\n    this._waveformScales = [this._originalWaveformData.scale];\n  }\n};\n\nWaveformZoomView.prototype.enableSeek = function(enable) {\n  this._enableSeek = enable;\n};\n\nWaveformZoomView.prototype.isSeekEnabled = function() {\n  return this._enableSeek;\n};\n\nWaveformZoomView.prototype._onClick = function(event) {\n  this._clickHandler(event, 'click');\n};\n\nWaveformZoomView.prototype._onDblClick = function(event) {\n  this._clickHandler(event, 'dblclick');\n};\n\nWaveformZoomView.prototype._onMouseDown = function(event) {\n  this._clickHandler(event, 'mousedown');\n};\n\nWaveformZoomView.prototype._onContextMenu = function(event) {\n  this._clickHandler(event, 'contextmenu');\n};\n\nWaveformZoomView.prototype._clickHandler = function(event, eventName) {\n  let emitViewEvent = true;\n\n  if (event.target !== this._stage) {\n    const marker = getMarkerObject(event.target);\n\n    if (marker) {\n      if (marker.attrs.name === 'point-marker') {\n        const point = marker.getAttr('point');\n\n        if (point) {\n          this._peaks.emit('points.' + eventName, {\n            point: point,\n            evt: event.evt,\n            preventViewEvent: function() {\n              emitViewEvent = false;\n            }\n          });\n        }\n      }\n      else if (marker.attrs.name === 'segment-overlay') {\n        const segment = marker.getAttr('segment');\n\n        if (segment) {\n          const clickEvent = {\n            segment: segment,\n            evt: event.evt,\n            preventViewEvent: function() {\n              emitViewEvent = false;\n            }\n          };\n\n          if (this._segmentsLayer) {\n            this._segmentsLayer.segmentClicked(eventName, clickEvent);\n          }\n        }\n      }\n    }\n  }\n\n  if (emitViewEvent) {\n    const mousePosX = event.evt.layerX;\n    const time = this.pixelOffsetToTime(mousePosX);\n\n    this._peaks.emit('zoomview.' + eventName, {\n      time: time,\n      evt: event.evt\n    });\n  }\n};\n\nWaveformZoomView.prototype.setWheelMode = function(mode, options) {\n  if (!options) {\n    options = {};\n  }\n\n  if (mode !== this._wheelMode ||\n      options.captureVerticalScroll !== this._captureVerticalScroll) {\n    this._stage.off('wheel');\n\n    this._wheelMode = mode;\n    this._captureVerticalScroll = options.captureVerticalScroll;\n\n    switch (mode) {\n      case 'scroll':\n        if (options.captureVerticalScroll) {\n          this._stage.on('wheel', this._onWheelCaptureVerticalScroll);\n        }\n        else {\n          this._stage.on('wheel', this._onWheel);\n        }\n        break;\n    }\n  }\n};\n\nWaveformZoomView.prototype._onWheel = function(event) {\n  const wheelEvent = event.evt;\n  let delta;\n\n  if (wheelEvent.shiftKey) {\n    if (wheelEvent.deltaY !== 0) {\n      delta = wheelEvent.deltaY;\n    }\n    else if (wheelEvent.deltaX !== 0) {\n      delta = wheelEvent.deltaX;\n    }\n    else {\n      return;\n    }\n  }\n  else {\n    // Ignore the event if it looks like the user is scrolling vertically\n    // down the page\n    if (Math.abs(wheelEvent.deltaX) < Math.abs(wheelEvent.deltaY)) {\n      return;\n    }\n\n    delta = wheelEvent.deltaX;\n  }\n\n  if (wheelEvent.deltaMode === WheelEvent.DOM_DELTA_PAGE) {\n    delta *= this._width;\n  }\n\n  wheelEvent.preventDefault();\n\n  const newFrameOffset = clamp(\n    this._frameOffset + Math.floor(delta), 0, this._pixelLength - this._width\n  );\n\n  this.updateWaveform(newFrameOffset);\n};\n\nWaveformZoomView.prototype._onWheelCaptureVerticalScroll = function(event) {\n  const wheelEvent = event.evt;\n\n  const delta = Math.abs(wheelEvent.deltaX) < Math.abs(wheelEvent.deltaY) ?\n    wheelEvent.deltaY : wheelEvent.deltaX;\n\n  wheelEvent.preventDefault();\n\n  const newFrameOffset = clamp(\n    this._frameOffset + Math.floor(delta), 0, this._pixelLength - this._width\n  );\n\n  this.updateWaveform(newFrameOffset);\n};\n\nWaveformZoomView.prototype.setWaveformDragMode = function(mode) {\n  if (this._viewOptions.enableSegments) {\n    this._mouseDragHandler.destroy();\n\n    if (mode === 'insert-segment') {\n      this._mouseDragHandler = new InsertSegmentMouseDragHandler(this._peaks, this);\n    }\n    else {\n      this._mouseDragHandler = new ScrollMouseDragHandler(this._peaks, this);\n    }\n  }\n};\n\nWaveformZoomView.prototype.enableSegmentDragging = function(enable) {\n  this._enableSegmentDragging = enable;\n\n  // Update all existing segments\n  if (this._segmentsLayer) {\n    this._segmentsLayer.enableSegmentDragging(enable);\n  }\n};\n\nWaveformZoomView.prototype.isSegmentDraggingEnabled = function() {\n  return this._enableSegmentDragging;\n};\n\nWaveformZoomView.prototype.setSegmentDragMode = function(mode) {\n  this._segmentDragMode = mode;\n};\n\nWaveformZoomView.prototype.getSegmentDragMode = function() {\n  return this._segmentDragMode;\n};\n\nWaveformZoomView.prototype.getName = function() {\n  return 'zoomview';\n};\n\nWaveformZoomView.prototype._onTimeUpdate = function(time) {\n  if (this._mouseDragHandler.isDragging()) {\n    return;\n  }\n\n  this._syncPlayhead(time);\n};\n\nWaveformZoomView.prototype._onPlaying = function(time) {\n  this._playheadLayer.updatePlayheadTime(time);\n};\n\nWaveformZoomView.prototype._onPause = function(time) {\n  this._playheadLayer.stop(time);\n};\n\nWaveformZoomView.prototype._onKeyboardLeft = function() {\n  this._keyboardScroll(-1, false);\n};\n\nWaveformZoomView.prototype._onKeyboardRight = function() {\n  this._keyboardScroll(1, false);\n};\n\nWaveformZoomView.prototype._onKeyboardShiftLeft = function() {\n  this._keyboardScroll(-1, true);\n};\n\nWaveformZoomView.prototype._onKeyboardShiftRight = function() {\n  this._keyboardScroll(1, true);\n};\n\nWaveformZoomView.prototype._keyboardScroll = function(direction, large) {\n  let increment;\n\n  if (large) {\n    increment = direction * this._width;\n  }\n  else {\n    increment = direction * this.timeToPixels(this._options.nudgeIncrement);\n  }\n\n  this.scrollWaveform({ pixels: increment });\n};\n\nWaveformZoomView.prototype.setWaveformData = function(waveformData) {\n  this._originalWaveformData = waveformData;\n  // Clear cached waveforms\n  this._initWaveformCache();\n\n  // Don't update the UI here, call setZoom().\n};\n\n/**\n * Returns the position of the playhead marker, in pixels relative to the\n * left hand side of the waveform view.\n *\n * @return {Number}\n */\n\nWaveformZoomView.prototype.getPlayheadOffset = function() {\n  return this._playheadLayer.getPlayheadPixel() - this._frameOffset;\n};\n\nWaveformZoomView.prototype.getPlayheadClickTolerance = function() {\n  return this._playheadClickTolerance;\n};\n\nWaveformZoomView.prototype.playheadPosChanged = function(time) {\n  if (this._playedWaveformShape) {\n    this._playedSegment.endTime = time;\n    this._unplayedSegment.startTime = time;\n\n    this._drawWaveformLayer();\n  }\n};\n\nWaveformZoomView.prototype.updatePlayheadTime = function(time) {\n  this._playheadLayer.updatePlayheadTime(time);\n};\n\nWaveformZoomView.prototype._syncPlayhead = function(time) {\n  this._playheadLayer.updatePlayheadTime(time);\n\n  if (this._autoScroll) {\n    // Check for the playhead reaching the right-hand side of the window.\n\n    const pixelIndex = this.timeToPixels(time);\n\n    // TODO: move this code to animation function?\n    // TODO: don't scroll if user has positioned view manually (e.g., using\n    // the keyboard)\n    let endThreshold = this._frameOffset + this._width;\n    \n    endThreshold = endThreshold - (this._width / 2) - this._autoScrollOffset;\n\n    if (pixelIndex >= endThreshold || pixelIndex < this._frameOffset) {\n      this._frameOffset = pixelIndex - Math.round(this._width / 2) - this._autoScrollOffset;\n\n      if (this._frameOffset < 0) {\n        this._frameOffset = 0;\n      }\n\n      this.updateWaveform(this._frameOffset);\n    }\n  }\n};\n\nWaveformZoomView.prototype._getScale = function(duration) {\n  return duration * this._data.sample_rate / this._width;\n};\n\nfunction isAutoScale(options) {\n  return ((objectHasProperty(options, 'scale') && options.scale === 'auto') ||\n          (objectHasProperty(options, 'seconds') && options.seconds === 'auto'));\n}\n\n/**\n * Options for [WaveformZoomView.setZoom]{@link WaveformZoomView#setZoom}.\n *\n * @typedef {Object} SetZoomOptions\n * @global\n * @property {Number|String} scale Zoom level, in samples per pixel, or 'auto'\n *   to fit the entire waveform to the view width\n * @property {Number|String} seconds Number of seconds to fit to the view width,\n *   or 'auto' to fit the entire waveform to the view width\n */\n\n/**\n * Changes the zoom level.\n *\n * @param {SetZoomOptions} options\n * @returns {Boolean}\n */\n\nWaveformZoomView.prototype.setZoom = function(options) {\n  let scale;\n\n  if (isAutoScale(options)) {\n    const seconds = this._peaks.player.getDuration();\n\n    if (!isValidTime(seconds)) {\n      return false;\n    }\n\n    this._zoomLevelAuto = true;\n    this._zoomLevelSeconds = null;\n    scale = this._getScale(seconds);\n  }\n  else {\n    if (objectHasProperty(options, 'scale')) {\n      this._zoomLevelSeconds = null;\n      scale = options.scale;\n    }\n    else if (objectHasProperty(options, 'seconds')) {\n      if (!isValidTime(options.seconds)) {\n        return false;\n      }\n\n      this._zoomLevelSeconds = options.seconds;\n      scale = this._getScale(options.seconds);\n    }\n\n    this._zoomLevelAuto = false;\n  }\n\n  if (scale < this._originalWaveformData.scale) {\n    // eslint-disable-next-line max-len\n    this._peaks._logger('peaks.zoomview.setZoom(): zoom level must be at least ' + this._originalWaveformData.scale);\n    scale = this._originalWaveformData.scale;\n  }\n\n  const currentTime = this._peaks.player.getCurrentTime();\n  let apexTime;\n  let playheadOffsetPixels = this.getPlayheadOffset();\n\n  if (playheadOffsetPixels >= 0 && playheadOffsetPixels < this._width) {\n    // Playhead is visible. Change the zoom level while keeping the\n    // playhead at the same position in the window.\n    apexTime = currentTime;\n  }\n  else {\n    // Playhead is not visible. Change the zoom level while keeping the\n    // centre of the window at the same position in the waveform.\n    playheadOffsetPixels = Math.floor(this._width / 2);\n    apexTime = this.pixelOffsetToTime(playheadOffsetPixels);\n  }\n\n  const prevScale = this._scale;\n\n  this._resampleData({ scale: scale });\n\n  const apexPixel = this.timeToPixels(apexTime);\n\n  this._frameOffset = apexPixel - playheadOffsetPixels;\n\n  this.updateWaveform(this._frameOffset);\n\n  this._playheadLayer.zoomLevelChanged();\n\n  // Update the playhead position after zooming.\n  this._playheadLayer.updatePlayheadTime(currentTime);\n\n  this._peaks.emit('zoom.update', {\n    currentZoom: scale,\n    previousZoom: prevScale\n  });\n\n  return true;\n};\n\nWaveformZoomView.prototype._resampleData = function(options) {\n  const scale = options.scale;\n\n  if (this._enableWaveformCache) {\n    if (!this._waveformData.has(scale)) {\n      let sourceWaveform = this._originalWaveformData;\n\n      // Resample from the next lowest available zoom level\n\n      for (let i = 0; i < this._waveformScales.length; i++) {\n        if (this._waveformScales[i] < scale) {\n          sourceWaveform = this._waveformData.get(this._waveformScales[i]);\n        }\n        else {\n          break;\n        }\n      }\n\n      this._waveformData.set(scale, sourceWaveform.resample(options));\n\n      this._waveformScales.push(scale);\n      this._waveformScales.sort(function(a, b) {\n        return a - b; // Ascending order\n      });\n    }\n\n    this._data = this._waveformData.get(scale);\n  }\n  else {\n    this._data = this._originalWaveformData.resample(options);\n  }\n\n  this._scale = this._data.scale;\n  this._pixelLength = this._data.length;\n};\n\nWaveformZoomView.prototype.getStartTime = function() {\n  return this.pixelOffsetToTime(0);\n};\n\nWaveformZoomView.prototype.getEndTime = function() {\n  return this.pixelOffsetToTime(this._width);\n};\n\nWaveformZoomView.prototype.setStartTime = function(time) {\n  if (time < 0) {\n    time = 0;\n  }\n\n  if (this._zoomLevelAuto) {\n    time = 0;\n  }\n\n  this.updateWaveform(this.timeToPixels(time));\n};\n\n/**\n * Returns the pixel index for a given time, for the current zoom level.\n *\n * @param {Number} time Time, in seconds.\n * @returns {Number} Pixel index.\n */\n\nWaveformZoomView.prototype.timeToPixels = function(time) {\n  return Math.floor(time * this._data.sample_rate / this._data.scale);\n};\n\n/**\n * Returns the time for a given pixel index, for the current zoom level.\n *\n * @param {Number} pixels Pixel index.\n * @returns {Number} Time, in seconds.\n */\n\nWaveformZoomView.prototype.pixelsToTime = function(pixels) {\n  return pixels * this._data.scale / this._data.sample_rate;\n};\n\n/**\n * Returns the time for a given pixel offset (relative to the\n * current scroll position), for the current zoom level.\n *\n * @param {Number} offset Offset from left-visible-edge of view\n * @returns {Number} Time, in seconds.\n */\n\nWaveformZoomView.prototype.pixelOffsetToTime = function(offset) {\n  const pixels = this._frameOffset + offset;\n\n  return pixels * this._data.scale / this._data.sample_rate;\n};\n\nWaveformZoomView.prototype.timeToPixelOffset = function(time) {\n  return Math.floor(time * this._data.sample_rate / this._data.scale) - this._frameOffset;\n};\n\n/**\n * @returns {Number} The start position of the waveform shown in the view,\n *   in pixels.\n */\n\nWaveformZoomView.prototype.getFrameOffset = function() {\n  return this._frameOffset;\n};\n\n/**\n * @returns {Number} The width of the view, in pixels.\n */\n\nWaveformZoomView.prototype.getWidth = function() {\n  return this._width;\n};\n\n/**\n * @returns {Number} The height of the view, in pixels.\n */\n\nWaveformZoomView.prototype.getHeight = function() {\n  return this._height;\n};\n\n/**\n * @returns {Number} The length of the waveform, in pixels.\n */\nWaveformZoomView.prototype.getPixelLength = function() {\n  return this._pixelLength;\n};\n\n/**\n * @returns {Number} The media duration, in seconds.\n */\n\nWaveformZoomView.prototype._getDuration = function() {\n  return this._peaks.player.getDuration();\n};\n\n/**\n * Adjusts the amplitude scale of waveform shown in the view, which allows\n * users to zoom the waveform vertically.\n *\n * @param {Number} scale The new amplitude scale factor\n */\n\nWaveformZoomView.prototype.setAmplitudeScale = function(scale) {\n  if (!isNumber(scale) || !isFinite(scale)) {\n    throw new Error('view.setAmplitudeScale(): Scale must be a valid number');\n  }\n\n  this._amplitudeScale = scale;\n\n  this._drawWaveformLayer();\n\n  if (this._segmentsLayer) {\n    this._segmentsLayer.draw();\n  }\n};\n\nWaveformZoomView.prototype.getAmplitudeScale = function() {\n  return this._amplitudeScale;\n};\n\n/**\n * @returns {WaveformData} The view's waveform data.\n */\n\nWaveformZoomView.prototype.getWaveformData = function() {\n  return this._data;\n};\n\nWaveformZoomView.prototype._createWaveformShapes = function() {\n  if (!this._waveformShape) {\n    this._waveformShape = new WaveformShape({\n      color: this._waveformColor,\n      view: this\n    });\n\n    this._waveformShape.addToLayer(this._waveformLayer);\n  }\n\n  if (this._playedWaveformColor && !this._playedWaveformShape) {\n    const time = this._peaks.player.getCurrentTime();\n\n    this._playedSegment = {\n      startTime: 0,\n      endTime: time\n    };\n\n    this._unplayedSegment = {\n      startTime: time,\n      endTime: this._getDuration()\n    };\n\n    this._waveformShape.setSegment(this._unplayedSegment);\n\n    this._playedWaveformShape = new WaveformShape({\n      color: this._playedWaveformColor,\n      view: this,\n      segment: this._playedSegment\n    });\n\n    this._playedWaveformShape.addToLayer(this._waveformLayer);\n  }\n};\n\nWaveformZoomView.prototype._destroyPlayedWaveformShape = function() {\n  this._waveformShape.setSegment(null);\n\n  this._playedWaveformShape.destroy();\n  this._playedWaveformShape = null;\n\n  this._playedSegment = null;\n  this._unplayedSegment = null;\n};\n\nWaveformZoomView.prototype._createWaveform = function() {\n  this._waveformLayer = new Konva.Layer({ listening: false });\n\n  this._createWaveformShapes();\n\n  this._stage.add(this._waveformLayer);\n\n  this._peaks.emit('zoomview.displaying', 0, this.getEndTime());\n};\n\nWaveformZoomView.prototype._createAxisLabels = function() {\n  this._axisLayer = new Konva.Layer({ listening: false });\n  this._axis = new WaveformAxis(this, this._viewOptions);\n\n  this._axis.addToLayer(this._axisLayer);\n  this._stage.add(this._axisLayer);\n};\n\n/**\n * Scrolls the region of waveform shown in the view.\n *\n * @param {Number} scrollAmount How far to scroll, in pixels\n */\n\nWaveformZoomView.prototype.scrollWaveform = function(options) {\n  let scrollAmount;\n\n  if (objectHasProperty(options, 'pixels')) {\n    scrollAmount = Math.floor(options.pixels);\n  }\n  else if (objectHasProperty(options, 'seconds')) {\n    scrollAmount = this.timeToPixels(options.seconds);\n  }\n  else {\n    throw new TypeError('view.scrollWaveform(): Missing umber of pixels or seconds');\n  }\n\n  this.updateWaveform(this._frameOffset + scrollAmount);\n};\n\n/**\n * Updates the region of waveform shown in the view.\n *\n * @param {Number} frameOffset The new frame offset, in pixels.\n */\n\nWaveformZoomView.prototype.updateWaveform = function(frameOffset) {\n  let upperLimit;\n\n  if (this._pixelLength < this._width) {\n    // Total waveform is shorter than viewport, so reset the offset to 0.\n    frameOffset = 0;\n    upperLimit = this._width;\n  }\n  else {\n    // Calculate the very last possible position.\n    upperLimit = this._pixelLength - this._width;\n  }\n\n  frameOffset = clamp(frameOffset, 0, upperLimit);\n\n  this._frameOffset = frameOffset;\n\n  // Display playhead if it is within the zoom frame width.\n  const playheadPixel = this._playheadLayer.getPlayheadPixel();\n\n  this._playheadLayer.updatePlayheadTime(this.pixelsToTime(playheadPixel));\n\n  this._drawWaveformLayer();\n  this._axisLayer.draw();\n\n  const frameStartTime = this.getStartTime();\n  const frameEndTime   = this.getEndTime();\n\n  if (this._pointsLayer) {\n    this._pointsLayer.updatePoints(frameStartTime, frameEndTime);\n  }\n\n  if (this._segmentsLayer) {\n    this._segmentsLayer.updateSegments(frameStartTime, frameEndTime);\n  }\n\n  this._peaks.emit('zoomview.displaying', frameStartTime, frameEndTime);\n};\n\nWaveformZoomView.prototype._drawWaveformLayer = function() {\n  this._waveformLayer.draw();\n};\n\nWaveformZoomView.prototype.setWaveformColor = function(color) {\n  this._waveformColor = color;\n  this._waveformShape.setWaveformColor(color);\n};\n\nWaveformZoomView.prototype.setPlayedWaveformColor = function(color) {\n  this._playedWaveformColor = color;\n\n  if (color) {\n    if (!this._playedWaveformShape) {\n      this._createWaveformShapes();\n    }\n\n    this._playedWaveformShape.setWaveformColor(color);\n  }\n  else {\n    if (this._playedWaveformShape) {\n      this._destroyPlayedWaveformShape();\n    }\n  }\n};\n\nWaveformZoomView.prototype.showPlayheadTime = function(show) {\n  this._playheadLayer.showPlayheadTime(show);\n};\n\nWaveformZoomView.prototype.setTimeLabelPrecision = function(precision) {\n  this._timeLabelPrecision = precision;\n  this._playheadLayer.updatePlayheadText();\n};\n\nWaveformZoomView.prototype.formatTime = function(time) {\n  return this._formatPlayheadTime(time);\n};\n\nWaveformZoomView.prototype.showAxisLabels = function(show, options) {\n  this._axis.showAxisLabels(show, options);\n  this._axisLayer.draw();\n};\n\nWaveformZoomView.prototype.enableAutoScroll = function(enable, options) {\n  this._autoScroll = enable;\n\n  if (objectHasProperty(options, 'offset')) {\n    this._autoScrollOffset = options.offset;\n  }\n};\n\nWaveformZoomView.prototype.enableMarkerEditing = function(enable) {\n  if (this._segmentsLayer) {\n    this._segmentsLayer.enableEditing(enable);\n  }\n\n  if (this._pointsLayer) {\n    this._pointsLayer.enableEditing(enable);\n  }\n};\n\nWaveformZoomView.prototype.getMinSegmentDragWidth = function() {\n  return this._insertSegmentShape ? 0 : this._minSegmentDragWidth;\n};\n\nWaveformZoomView.prototype.setMinSegmentDragWidth = function(width) {\n  this._minSegmentDragWidth = width;\n};\n\nWaveformZoomView.prototype.fitToContainer = function() {\n  if (this._container.clientWidth === 0 && this._container.clientHeight === 0) {\n    return;\n  }\n\n  let updateWaveform = false;\n\n  if (this._container.clientWidth !== this._width) {\n    this._width = this._container.clientWidth;\n    this._stage.width(this._width);\n\n    let resample = false;\n    let resampleOptions;\n\n    if (this._zoomLevelAuto) {\n      resample = true;\n      resampleOptions = { width: this._width };\n    }\n    else if (this._zoomLevelSeconds !== null) {\n      resample = true;\n      resampleOptions = { scale: this._getScale(this._zoomLevelSeconds) };\n    }\n\n    if (resample) {\n      try {\n        this._resampleData(resampleOptions);\n        updateWaveform = true;\n      }\n      catch (error) {\n        // Ignore, and leave this._data as it was\n      }\n    }\n  }\n\n  if (this._container.clientHeight !== this._height) {\n    this._height = this._container.clientHeight;\n    this._stage.height(this._height);\n\n    this._waveformShape.fitToView();\n    this._playheadLayer.fitToView();\n\n    if (this._segmentsLayer) {\n      this._segmentsLayer.fitToView();\n    }\n\n    if (this._pointsLayer) {\n      this._pointsLayer.fitToView();\n    }\n  }\n\n  if (updateWaveform) {\n    this.updateWaveform(this._frameOffset);\n  }\n};\n\nWaveformZoomView.prototype.getStage = function() {\n  return this._stage;\n};\n\nWaveformZoomView.prototype.getSegmentsLayer = function() {\n  return this._segmentsLayer;\n};\n\nWaveformZoomView.prototype.getViewOptions = function() {\n  return this._viewOptions;\n};\n\nWaveformZoomView.prototype.destroy = function() {\n  // Unregister event handlers\n  this._peaks.off('player.timeupdate', this._onTimeUpdate);\n  this._peaks.off('player.playing', this._onPlaying);\n  this._peaks.off('player.pause', this._onPause);\n  this._peaks.off('keyboard.left', this._onKeyboardLeft);\n  this._peaks.off('keyboard.right', this._onKeyboardRight);\n  this._peaks.off('keyboard.shift_left', this._onKeyboardShiftLeft);\n  this._peaks.off('keyboard.shift_right', this._onKeyboardShiftRight);\n\n  this._mouseDragHandler.destroy();\n\n  this._playheadLayer.destroy();\n\n  if (this._segmentsLayer) {\n    this._segmentsLayer.destroy();\n  }\n\n  if (this._pointsLayer) {\n    this._pointsLayer.destroy();\n  }\n\n  if (this._stage) {\n    this._stage.destroy();\n    this._stage = null;\n  }\n};\n\nexport default WaveformZoomView;\n","/**\n * @file\n *\n * Defines the {@link Scrollbar} class.\n *\n * @module scrollbar\n */\n\nimport { clamp } from './utils';\n\nimport Konva from 'konva/lib/Core';\nimport { Rect } from 'konva/lib/shapes/Rect';\n\n/**\n * Creates a scrollbar.\n *\n * @class\n * @alias Scrollbar\n *\n * @param {WaveformData} waveformData\n * @param {HTMLElement} container\n * @param {Peaks} peaks\n */\n\nfunction Scrollbar(waveformData, container, peaks) {\n  this._waveformData = waveformData;\n  this._container = container;\n  this._peaks = peaks;\n  this._options = peaks.options.scrollbar;\n  this._zoomview = peaks.views.getView('zoomview');\n\n  this._dragBoundFunc = this._dragBoundFunc.bind(this);\n  this._onScrollboxDragStart = this._onScrollboxDragStart.bind(this);\n  this._onScrollboxDragMove = this._onScrollboxDragMove.bind(this);\n  this._onScrollboxDragEnd = this._onScrollboxDragEnd.bind(this);\n  this._onZoomviewDisplaying = this._onZoomviewDisplaying.bind(this);\n  this._onScrollbarClick = this._onScrollbarClick.bind(this);\n\n  peaks.on('zoomview.displaying', this._onZoomviewDisplaying);\n\n  this._width = container.clientWidth;\n  // this._height = container.clientHeight;\n  this._height = 10;\n\n  this._stage = new Konva.Stage({\n    container: container,\n    width: this._width,\n    height: this._height\n  });\n\n  this._layer = new Konva.Layer();\n  this._stage.on('click', this._onScrollbarClick);\n\n  this._stage.add(this._layer);\n\n  this._color = this._options.color;\n  this._scrollboxX = 0;\n  this._minScrollboxWidth = this._options.minWidth;\n\n  this._offsetY = 0;\n\n  this._scrollbox = new Konva.Group({\n    draggable:     true,\n    dragBoundFunc: this._dragBoundFunc\n  });\n\n  this._scrollboxRect = new Rect({\n    x:           this._scrollboxX,\n    y:           this._offsetY,\n    width:       0,\n    height:      this._height,\n    fill:        this._color,\n    cornerRadius: 10\n  });\n\n  this._scrollbox.add(this._scrollboxRect);\n  this._setScrollboxWidth();\n\n  this._scrollbox.on('dragstart', this._onScrollboxDragStart);\n  this._scrollbox.on('dragmove', this._onScrollboxDragMove);\n  this._scrollbox.on('dragend', this._onScrollboxDragEnd);\n\n  this._layer.add(this._scrollbox);\n  this._layer.draw();\n}\n\nScrollbar.prototype.setZoomview = function(zoomview) {\n  this._zoomview = zoomview;\n\n  this._updateScrollbarWidthAndPosition();\n};\n\n/**\n * Sets the width of the scrollbox, based on the visible waveform region\n * in the zoomview and minimum scrollbox width option.\n */\n\nScrollbar.prototype._setScrollboxWidth = function() {\n  if (this._zoomview) {\n    this._scrollboxWidth = Math.floor(\n      this._width * this._zoomview.pixelsToTime(this._zoomview.getWidth()) /\n        this._peaks.player.getDuration()\n    );\n\n    if (this._scrollboxWidth < this._minScrollboxWidth) {\n      this._scrollboxWidth = this._minScrollboxWidth;\n    }\n  }\n  else {\n    this._scrollboxWidth = this._width;\n  }\n\n  this._scrollboxRect.width(this._scrollboxWidth);\n};\n\n/**\n * @returns {Number} The maximum scrollbox position, in pixels.\n */\n\nScrollbar.prototype._getScrollbarRange = function() {\n  return this._width - this._scrollboxWidth;\n};\n\nScrollbar.prototype._dragBoundFunc = function(pos) {\n  // Allow the scrollbar to be moved horizontally but not vertically.\n  return {\n    x: pos.x,\n    y: 0\n  };\n};\n\nScrollbar.prototype._onScrollboxDragStart = function() {\n  this._dragging = true;\n};\n\nScrollbar.prototype._onScrollboxDragEnd = function() {\n  this._dragging = false;\n};\n\nScrollbar.prototype._onScrollboxDragMove = function() {\n  const range = this._getScrollbarRange();\n  const x = clamp(this._scrollbox.x(), 0, range);\n\n  this._scrollbox.x(x);\n\n  if (x !== this._scrollboxX) {\n    this._scrollboxX = x;\n\n    if (this._zoomview) {\n      this._updateWaveform(x);\n    }\n  }\n};\n\nScrollbar.prototype._onZoomviewDisplaying = function(/* startTime , endTime */) {\n  if (!this._dragging) {\n    this._updateScrollbarWidthAndPosition();\n  }\n};\n\nScrollbar.prototype._updateScrollbarWidthAndPosition = function() {\n  this._setScrollboxWidth();\n\n  if (this._zoomview) {\n    const startTime = this._zoomview.getStartTime();\n\n    const zoomviewRange = this._zoomview.getPixelLength() - this._zoomview.getWidth();\n\n    const scrollBoxPos = Math.floor(\n      this._zoomview.timeToPixels(startTime) * this._getScrollbarRange() / zoomviewRange\n    );\n\n    this._scrollbox.x(scrollBoxPos);\n    this._layer.draw();\n  }\n};\n\nScrollbar.prototype._onScrollbarClick = function(event) {\n  // Handle clicks on the scrollbar outside the scrollbox.\n  if (event.target === this._stage) {\n    if (this._zoomview) {\n      // Centre the scrollbox where the user clicked.\n      let x = Math.floor(event.evt.layerX - this._scrollboxWidth / 2);\n\n      if (x < 0) {\n        x = 0;\n      }\n\n      this._updateWaveform(x);\n    }\n  }\n};\n\n/**\n * Sets the zoomview waveform position based on scrollbar position.\n */\n\nScrollbar.prototype._updateWaveform = function(x) {\n  const offset = Math.floor(\n    (this._zoomview.getPixelLength() - this._zoomview.getWidth()) * x / this._getScrollbarRange()\n  );\n\n  this._zoomview.updateWaveform(offset);\n};\n\nScrollbar.prototype.fitToContainer = function() {\n  if (this._container.clientWidth === 0 && this._container.clientHeight === 0) {\n    return;\n  }\n\n  if (this._container.clientWidth !== this._width) {\n    this._width = this._container.clientWidth;\n    this._stage.width(this._width);\n\n    this._updateScrollbarWidthAndPosition();\n  }\n\n  this._height = this._container.clientHeight;\n  this._stage.height(this._height);\n};\n\nScrollbar.prototype.destroy = function() {\n  this._layer.destroy();\n\n  this._stage.destroy();\n  this._stage = null;\n};\n\nexport default Scrollbar;\n","/**\n * @file\n *\n * Defines the {@link ViewController} class.\n *\n * @module view-controller\n */\n\nimport WaveformOverview from './waveform-overview';\nimport WaveformZoomView from './waveform-zoomview';\nimport Scrollbar from './scrollbar';\nimport { isNullOrUndefined } from './utils';\n\n/**\n * Creates an object that allows users to create and manage waveform views.\n *\n * @class\n * @alias ViewController\n *\n * @param {Peaks} peaks\n */\n\nfunction ViewController(peaks) {\n  this._peaks = peaks;\n  this._overview = null;\n  this._zoomview = null;\n  this._scrollbar = null;\n}\n\nViewController.prototype.createOverview = function(container) {\n  if (this._overview) {\n    return this._overview;\n  }\n\n  const waveformData = this._peaks.getWaveformData();\n\n  this._overview = new WaveformOverview(\n    waveformData,\n    container,\n    this._peaks\n  );\n\n  if (this._zoomview) {\n    this._overview.showHighlight(\n      this._zoomview.getStartTime(),\n      this._zoomview.getEndTime()\n    );\n  }\n\n  return this._overview;\n};\n\nViewController.prototype.createZoomview = function(container) {\n  if (this._zoomview) {\n    return this._zoomview;\n  }\n\n  const waveformData = this._peaks.getWaveformData();\n\n  this._zoomview = new WaveformZoomView(\n    waveformData,\n    container,\n    this._peaks\n  );\n\n  if (this._scrollbar) {\n    this._scrollbar.setZoomview(this._zoomview);\n  }\n\n  return this._zoomview;\n};\n\nViewController.prototype.createScrollbar = function(container) {\n  const waveformData = this._peaks.getWaveformData();\n\n  this._scrollbar = new Scrollbar(\n    waveformData,\n    container,\n    this._peaks\n  );\n\n  return this._scrollbar;\n};\n\nViewController.prototype.destroyOverview = function() {\n  if (!this._overview) {\n    return;\n  }\n\n  if (!this._zoomview) {\n    return;\n  }\n\n  this._overview.destroy();\n  this._overview = null;\n};\n\nViewController.prototype.destroyZoomview = function() {\n  if (!this._zoomview) {\n    return;\n  }\n\n  if (!this._overview) {\n    return;\n  }\n\n  this._zoomview.destroy();\n  this._zoomview = null;\n\n  this._overview.removeHighlightRect();\n};\n\nViewController.prototype.destroy = function() {\n  if (this._overview) {\n    this._overview.destroy();\n    this._overview = null;\n  }\n\n  if (this._zoomview) {\n    this._zoomview.destroy();\n    this._zoomview = null;\n  }\n\n  if (this._scrollbar) {\n    this._scrollbar.destroy();\n    this._scrollbar = null;\n  }\n};\n\nViewController.prototype.getView = function(name) {\n  if (isNullOrUndefined(name)) {\n    if (this._overview && this._zoomview) {\n      return null;\n    }\n    else if (this._overview) {\n      return this._overview;\n    }\n    else if (this._zoomview) {\n      return this._zoomview;\n    }\n    else {\n      return null;\n    }\n  }\n  else {\n    switch (name) {\n      case 'overview':\n        return this._overview;\n\n      case 'zoomview':\n        return this._zoomview;\n\n      default:\n        return null;\n    }\n  }\n};\n\nViewController.prototype.getScrollbar = function() {\n  return this._scrollbar;\n};\n\nexport default ViewController;\n","/**\n * @file\n *\n * Defines the {@link ZoomController} class.\n *\n * @module zoom-controller\n */\n\n/**\n * Creates an object to control zoom levels in a {@link WaveformZoomView}.\n *\n * @class\n * @alias ZoomController\n *\n * @param {Peaks} peaks\n * @param {Array<Integer>} zoomLevels\n */\n\nfunction ZoomController(peaks, zoomLevels) {\n  this._peaks = peaks;\n  this._zoomLevels = zoomLevels;\n  this._zoomLevelIndex = 0;\n}\n\nZoomController.prototype.setZoomLevels = function(zoomLevels) {\n  this._zoomLevels = zoomLevels;\n  this.setZoom(0, true);\n};\n\n/**\n * Zoom in one level.\n */\n\nZoomController.prototype.zoomIn = function() {\n  this.setZoom(this._zoomLevelIndex - 1);\n};\n\n/**\n * Zoom out one level.\n */\n\nZoomController.prototype.zoomOut = function() {\n  this.setZoom(this._zoomLevelIndex + 1);\n};\n\n/**\n * Given a particular zoom level, triggers a resampling of the data in the\n * zoomed view.\n *\n * @param {number} zoomLevelIndex An index into the options.zoomLevels array.\n */\n\nZoomController.prototype.setZoom = function(zoomLevelIndex, forceUpdate) {\n  if (zoomLevelIndex >= this._zoomLevels.length) {\n    zoomLevelIndex = this._zoomLevels.length - 1;\n  }\n\n  if (zoomLevelIndex < 0) {\n    zoomLevelIndex = 0;\n  }\n\n  if (!forceUpdate && (zoomLevelIndex === this._zoomLevelIndex)) {\n    // Nothing to do.\n    return;\n  }\n\n  this._zoomLevelIndex = zoomLevelIndex;\n\n  const zoomview = this._peaks.views.getView('zoomview');\n\n  if (!zoomview) {\n    return;\n  }\n\n  zoomview.setZoom({ scale: this._zoomLevels[zoomLevelIndex] });\n};\n\n/**\n * Returns the current zoom level index.\n *\n * @returns {Number}\n */\n\nZoomController.prototype.getZoom = function() {\n  return this._zoomLevelIndex;\n};\n\n/**\n * Returns the current zoom level, in samples per pixel.\n *\n * @returns {Number}\n */\n\nZoomController.prototype.getZoomLevel = function() {\n  return this._zoomLevels[this._zoomLevelIndex];\n};\n\nexport default ZoomController;\n","/**\n * Provides access to the waveform data for a single audio channel.\n */\nfunction WaveformDataChannel(waveformData, channelIndex) {\n  this._waveformData = waveformData;\n  this._channelIndex = channelIndex;\n}\n/**\n * Returns the waveform minimum at the given index position.\n */\n\n\nWaveformDataChannel.prototype.min_sample = function (index) {\n  var offset = (index * this._waveformData.channels + this._channelIndex) * 2;\n  return this._waveformData._at(offset);\n};\n/**\n * Returns the waveform maximum at the given index position.\n */\n\n\nWaveformDataChannel.prototype.max_sample = function (index) {\n  var offset = (index * this._waveformData.channels + this._channelIndex) * 2 + 1;\n  return this._waveformData._at(offset);\n};\n/**\n * Sets the waveform minimum at the given index position.\n */\n\n\nWaveformDataChannel.prototype.set_min_sample = function (index, sample) {\n  var offset = (index * this._waveformData.channels + this._channelIndex) * 2;\n  return this._waveformData._set_at(offset, sample);\n};\n/**\n * Sets the waveform maximum at the given index position.\n */\n\n\nWaveformDataChannel.prototype.set_max_sample = function (index, sample) {\n  var offset = (index * this._waveformData.channels + this._channelIndex) * 2 + 1;\n  return this._waveformData._set_at(offset, sample);\n};\n/**\n * Returns all the waveform minimum values as an array.\n */\n\n\nWaveformDataChannel.prototype.min_array = function () {\n  return this._waveformData._offsetValues(0, this._waveformData.length, this._channelIndex * 2);\n};\n/**\n * Returns all the waveform maximum values as an array.\n */\n\n\nWaveformDataChannel.prototype.max_array = function () {\n  return this._waveformData._offsetValues(0, this._waveformData.length, this._channelIndex * 2 + 1);\n};\n\n/**\n * AudioBuffer-based WaveformData generator\n *\n * Adapted from BlockFile::CalcSummary in Audacity, with permission.\n * See https://code.google.com/p/audacity/source/browse/audacity-src/trunk/src/BlockFile.cpp\n */\nvar INT8_MAX = 127;\nvar INT8_MIN = -128;\n\nfunction calculateWaveformDataLength(audio_sample_count, scale) {\n  var data_length = Math.floor(audio_sample_count / scale);\n  var samples_remaining = audio_sample_count - data_length * scale;\n\n  if (samples_remaining > 0) {\n    data_length++;\n  }\n\n  return data_length;\n}\n\nfunction generateWaveformData(options) {\n  var scale = options.scale;\n  var amplitude_scale = options.amplitude_scale;\n  var split_channels = options.split_channels;\n  var length = options.length;\n  var sample_rate = options.sample_rate;\n  var channels = options.channels.map(function (channel) {\n    return new Float32Array(channel);\n  });\n  var output_channels = split_channels ? channels.length : 1;\n  var version = output_channels === 1 ? 1 : 2;\n  var header_size = version === 1 ? 20 : 24;\n  var data_length = calculateWaveformDataLength(length, scale);\n  var total_size = header_size + data_length * 2 * output_channels;\n  var buffer = new ArrayBuffer(total_size);\n  var data_view = new DataView(buffer);\n  var scale_counter = 0;\n  var offset = header_size;\n  var channel, i;\n  var min_value = new Array(output_channels);\n  var max_value = new Array(output_channels);\n\n  for (channel = 0; channel < output_channels; channel++) {\n    min_value[channel] = Infinity;\n    max_value[channel] = -Infinity;\n  }\n\n  data_view.setInt32(0, version, true); // Version\n\n  data_view.setUint32(4, 1, true); // Is 8 bit?\n\n  data_view.setInt32(8, sample_rate, true); // Sample rate\n\n  data_view.setInt32(12, scale, true); // Scale\n\n  data_view.setInt32(16, data_length, true); // Length\n\n  if (version === 2) {\n    data_view.setInt32(20, output_channels, true);\n  }\n\n  for (i = 0; i < length; i++) {\n    var sample = 0;\n\n    if (output_channels === 1) {\n      for (channel = 0; channel < channels.length; ++channel) {\n        sample += channels[channel][i];\n      }\n\n      sample = Math.floor(INT8_MAX * sample * amplitude_scale / channels.length);\n\n      if (sample < min_value[0]) {\n        min_value[0] = sample;\n\n        if (min_value[0] < INT8_MIN) {\n          min_value[0] = INT8_MIN;\n        }\n      }\n\n      if (sample > max_value[0]) {\n        max_value[0] = sample;\n\n        if (max_value[0] > INT8_MAX) {\n          max_value[0] = INT8_MAX;\n        }\n      }\n    } else {\n      for (channel = 0; channel < output_channels; ++channel) {\n        sample = Math.floor(INT8_MAX * channels[channel][i] * amplitude_scale);\n\n        if (sample < min_value[channel]) {\n          min_value[channel] = sample;\n\n          if (min_value[channel] < INT8_MIN) {\n            min_value[channel] = INT8_MIN;\n          }\n        }\n\n        if (sample > max_value[channel]) {\n          max_value[channel] = sample;\n\n          if (max_value[channel] > INT8_MAX) {\n            max_value[channel] = INT8_MAX;\n          }\n        }\n      }\n    }\n\n    if (++scale_counter === scale) {\n      for (channel = 0; channel < output_channels; channel++) {\n        data_view.setInt8(offset++, min_value[channel]);\n        data_view.setInt8(offset++, max_value[channel]);\n        min_value[channel] = Infinity;\n        max_value[channel] = -Infinity;\n      }\n\n      scale_counter = 0;\n    }\n  }\n\n  if (scale_counter > 0) {\n    for (channel = 0; channel < output_channels; channel++) {\n      data_view.setInt8(offset++, min_value[channel]);\n      data_view.setInt8(offset++, max_value[channel]);\n    }\n  }\n\n  return buffer;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction isJsonWaveformData(data) {\n  return data && _typeof(data) === \"object\" && \"sample_rate\" in data && \"samples_per_pixel\" in data && \"bits\" in data && \"length\" in data && \"data\" in data;\n}\nfunction isBinaryWaveformData(data) {\n  var isCompatible = data && _typeof(data) === \"object\" && \"byteLength\" in data;\n\n  if (isCompatible) {\n    var view = new DataView(data);\n    var version = view.getInt32(0, true);\n\n    if (version !== 1 && version !== 2) {\n      throw new TypeError(\"WaveformData.create(): This waveform data version not supported\");\n    }\n  }\n\n  return isCompatible;\n}\nfunction convertJsonToBinary(data) {\n  var waveformData = data.data;\n  var channels = data.channels || 1;\n  var header_size = 24; // version 2\n\n  var bytes_per_sample = data.bits === 8 ? 1 : 2;\n  var expected_length = data.length * 2 * channels;\n\n  if (waveformData.length !== expected_length) {\n    throw new Error(\"WaveformData.create(): Length mismatch in JSON waveform data\");\n  }\n\n  var total_size = header_size + waveformData.length * bytes_per_sample;\n  var array_buffer = new ArrayBuffer(total_size);\n  var data_object = new DataView(array_buffer);\n  data_object.setInt32(0, 2, true); // Version\n\n  data_object.setUint32(4, data.bits === 8, true);\n  data_object.setInt32(8, data.sample_rate, true);\n  data_object.setInt32(12, data.samples_per_pixel, true);\n  data_object.setInt32(16, data.length, true);\n  data_object.setInt32(20, channels, true);\n  var index = header_size;\n  var i;\n\n  if (data.bits === 8) {\n    for (i = 0; i < waveformData.length; i++) {\n      data_object.setInt8(index++, waveformData[i], true);\n    }\n  } else {\n    for (i = 0; i < waveformData.length; i++) {\n      data_object.setInt16(index, waveformData[i], true);\n      index += 2;\n    }\n  }\n\n  return array_buffer;\n}\n\nfunction decodeBase64(base64, enableUnicode) {\n    var binaryString = atob(base64);\n    if (enableUnicode) {\n        var binaryView = new Uint8Array(binaryString.length);\n        for (var i = 0, n = binaryString.length; i < n; ++i) {\n            binaryView[i] = binaryString.charCodeAt(i);\n        }\n        return String.fromCharCode.apply(null, new Uint16Array(binaryView.buffer));\n    }\n    return binaryString;\n}\n\nfunction createURL(base64, sourcemapArg, enableUnicodeArg) {\n    var sourcemap = sourcemapArg === undefined ? null : sourcemapArg;\n    var enableUnicode = enableUnicodeArg === undefined ? false : enableUnicodeArg;\n    var source = decodeBase64(base64, enableUnicode);\n    var start = source.indexOf('\\n', 10) + 1;\n    var body = source.substring(start) + (sourcemap ? '\\/\\/# sourceMappingURL=' + sourcemap : '');\n    var blob = new Blob([body], { type: 'application/javascript' });\n    return URL.createObjectURL(blob);\n}\n\nfunction createBase64WorkerFactory(base64, sourcemapArg, enableUnicodeArg) {\n    var url;\n    return function WorkerFactory(options) {\n        url = url || createURL(base64, sourcemapArg, enableUnicodeArg);\n        return new Worker(url, options);\n    };\n}\n\nvar WorkerFactory = createBase64WorkerFactory('Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKCiAgLyoqCiAgICogQXVkaW9CdWZmZXItYmFzZWQgV2F2ZWZvcm1EYXRhIGdlbmVyYXRvcgogICAqCiAgICogQWRhcHRlZCBmcm9tIEJsb2NrRmlsZTo6Q2FsY1N1bW1hcnkgaW4gQXVkYWNpdHksIHdpdGggcGVybWlzc2lvbi4KICAgKiBTZWUgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9hdWRhY2l0eS9zb3VyY2UvYnJvd3NlL2F1ZGFjaXR5LXNyYy90cnVuay9zcmMvQmxvY2tGaWxlLmNwcAogICAqLwogIHZhciBJTlQ4X01BWCA9IDEyNzsKICB2YXIgSU5UOF9NSU4gPSAtMTI4OwoKICBmdW5jdGlvbiBjYWxjdWxhdGVXYXZlZm9ybURhdGFMZW5ndGgoYXVkaW9fc2FtcGxlX2NvdW50LCBzY2FsZSkgewogICAgdmFyIGRhdGFfbGVuZ3RoID0gTWF0aC5mbG9vcihhdWRpb19zYW1wbGVfY291bnQgLyBzY2FsZSk7CiAgICB2YXIgc2FtcGxlc19yZW1haW5pbmcgPSBhdWRpb19zYW1wbGVfY291bnQgLSBkYXRhX2xlbmd0aCAqIHNjYWxlOwoKICAgIGlmIChzYW1wbGVzX3JlbWFpbmluZyA+IDApIHsKICAgICAgZGF0YV9sZW5ndGgrKzsKICAgIH0KCiAgICByZXR1cm4gZGF0YV9sZW5ndGg7CiAgfQoKICBmdW5jdGlvbiBnZW5lcmF0ZVdhdmVmb3JtRGF0YShvcHRpb25zKSB7CiAgICB2YXIgc2NhbGUgPSBvcHRpb25zLnNjYWxlOwogICAgdmFyIGFtcGxpdHVkZV9zY2FsZSA9IG9wdGlvbnMuYW1wbGl0dWRlX3NjYWxlOwogICAgdmFyIHNwbGl0X2NoYW5uZWxzID0gb3B0aW9ucy5zcGxpdF9jaGFubmVsczsKICAgIHZhciBsZW5ndGggPSBvcHRpb25zLmxlbmd0aDsKICAgIHZhciBzYW1wbGVfcmF0ZSA9IG9wdGlvbnMuc2FtcGxlX3JhdGU7CiAgICB2YXIgY2hhbm5lbHMgPSBvcHRpb25zLmNoYW5uZWxzLm1hcChmdW5jdGlvbiAoY2hhbm5lbCkgewogICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShjaGFubmVsKTsKICAgIH0pOwogICAgdmFyIG91dHB1dF9jaGFubmVscyA9IHNwbGl0X2NoYW5uZWxzID8gY2hhbm5lbHMubGVuZ3RoIDogMTsKICAgIHZhciB2ZXJzaW9uID0gb3V0cHV0X2NoYW5uZWxzID09PSAxID8gMSA6IDI7CiAgICB2YXIgaGVhZGVyX3NpemUgPSB2ZXJzaW9uID09PSAxID8gMjAgOiAyNDsKICAgIHZhciBkYXRhX2xlbmd0aCA9IGNhbGN1bGF0ZVdhdmVmb3JtRGF0YUxlbmd0aChsZW5ndGgsIHNjYWxlKTsKICAgIHZhciB0b3RhbF9zaXplID0gaGVhZGVyX3NpemUgKyBkYXRhX2xlbmd0aCAqIDIgKiBvdXRwdXRfY2hhbm5lbHM7CiAgICB2YXIgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHRvdGFsX3NpemUpOwogICAgdmFyIGRhdGFfdmlldyA9IG5ldyBEYXRhVmlldyhidWZmZXIpOwogICAgdmFyIHNjYWxlX2NvdW50ZXIgPSAwOwogICAgdmFyIG9mZnNldCA9IGhlYWRlcl9zaXplOwogICAgdmFyIGNoYW5uZWwsIGk7CiAgICB2YXIgbWluX3ZhbHVlID0gbmV3IEFycmF5KG91dHB1dF9jaGFubmVscyk7CiAgICB2YXIgbWF4X3ZhbHVlID0gbmV3IEFycmF5KG91dHB1dF9jaGFubmVscyk7CgogICAgZm9yIChjaGFubmVsID0gMDsgY2hhbm5lbCA8IG91dHB1dF9jaGFubmVsczsgY2hhbm5lbCsrKSB7CiAgICAgIG1pbl92YWx1ZVtjaGFubmVsXSA9IEluZmluaXR5OwogICAgICBtYXhfdmFsdWVbY2hhbm5lbF0gPSAtSW5maW5pdHk7CiAgICB9CgogICAgZGF0YV92aWV3LnNldEludDMyKDAsIHZlcnNpb24sIHRydWUpOyAvLyBWZXJzaW9uCgogICAgZGF0YV92aWV3LnNldFVpbnQzMig0LCAxLCB0cnVlKTsgLy8gSXMgOCBiaXQ/CgogICAgZGF0YV92aWV3LnNldEludDMyKDgsIHNhbXBsZV9yYXRlLCB0cnVlKTsgLy8gU2FtcGxlIHJhdGUKCiAgICBkYXRhX3ZpZXcuc2V0SW50MzIoMTIsIHNjYWxlLCB0cnVlKTsgLy8gU2NhbGUKCiAgICBkYXRhX3ZpZXcuc2V0SW50MzIoMTYsIGRhdGFfbGVuZ3RoLCB0cnVlKTsgLy8gTGVuZ3RoCgogICAgaWYgKHZlcnNpb24gPT09IDIpIHsKICAgICAgZGF0YV92aWV3LnNldEludDMyKDIwLCBvdXRwdXRfY2hhbm5lbHMsIHRydWUpOwogICAgfQoKICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICB2YXIgc2FtcGxlID0gMDsKCiAgICAgIGlmIChvdXRwdXRfY2hhbm5lbHMgPT09IDEpIHsKICAgICAgICBmb3IgKGNoYW5uZWwgPSAwOyBjaGFubmVsIDwgY2hhbm5lbHMubGVuZ3RoOyArK2NoYW5uZWwpIHsKICAgICAgICAgIHNhbXBsZSArPSBjaGFubmVsc1tjaGFubmVsXVtpXTsKICAgICAgICB9CgogICAgICAgIHNhbXBsZSA9IE1hdGguZmxvb3IoSU5UOF9NQVggKiBzYW1wbGUgKiBhbXBsaXR1ZGVfc2NhbGUgLyBjaGFubmVscy5sZW5ndGgpOwoKICAgICAgICBpZiAoc2FtcGxlIDwgbWluX3ZhbHVlWzBdKSB7CiAgICAgICAgICBtaW5fdmFsdWVbMF0gPSBzYW1wbGU7CgogICAgICAgICAgaWYgKG1pbl92YWx1ZVswXSA8IElOVDhfTUlOKSB7CiAgICAgICAgICAgIG1pbl92YWx1ZVswXSA9IElOVDhfTUlOOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHNhbXBsZSA+IG1heF92YWx1ZVswXSkgewogICAgICAgICAgbWF4X3ZhbHVlWzBdID0gc2FtcGxlOwoKICAgICAgICAgIGlmIChtYXhfdmFsdWVbMF0gPiBJTlQ4X01BWCkgewogICAgICAgICAgICBtYXhfdmFsdWVbMF0gPSBJTlQ4X01BWDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yIChjaGFubmVsID0gMDsgY2hhbm5lbCA8IG91dHB1dF9jaGFubmVsczsgKytjaGFubmVsKSB7CiAgICAgICAgICBzYW1wbGUgPSBNYXRoLmZsb29yKElOVDhfTUFYICogY2hhbm5lbHNbY2hhbm5lbF1baV0gKiBhbXBsaXR1ZGVfc2NhbGUpOwoKICAgICAgICAgIGlmIChzYW1wbGUgPCBtaW5fdmFsdWVbY2hhbm5lbF0pIHsKICAgICAgICAgICAgbWluX3ZhbHVlW2NoYW5uZWxdID0gc2FtcGxlOwoKICAgICAgICAgICAgaWYgKG1pbl92YWx1ZVtjaGFubmVsXSA8IElOVDhfTUlOKSB7CiAgICAgICAgICAgICAgbWluX3ZhbHVlW2NoYW5uZWxdID0gSU5UOF9NSU47CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoc2FtcGxlID4gbWF4X3ZhbHVlW2NoYW5uZWxdKSB7CiAgICAgICAgICAgIG1heF92YWx1ZVtjaGFubmVsXSA9IHNhbXBsZTsKCiAgICAgICAgICAgIGlmIChtYXhfdmFsdWVbY2hhbm5lbF0gPiBJTlQ4X01BWCkgewogICAgICAgICAgICAgIG1heF92YWx1ZVtjaGFubmVsXSA9IElOVDhfTUFYOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoKytzY2FsZV9jb3VudGVyID09PSBzY2FsZSkgewogICAgICAgIGZvciAoY2hhbm5lbCA9IDA7IGNoYW5uZWwgPCBvdXRwdXRfY2hhbm5lbHM7IGNoYW5uZWwrKykgewogICAgICAgICAgZGF0YV92aWV3LnNldEludDgob2Zmc2V0KyssIG1pbl92YWx1ZVtjaGFubmVsXSk7CiAgICAgICAgICBkYXRhX3ZpZXcuc2V0SW50OChvZmZzZXQrKywgbWF4X3ZhbHVlW2NoYW5uZWxdKTsKICAgICAgICAgIG1pbl92YWx1ZVtjaGFubmVsXSA9IEluZmluaXR5OwogICAgICAgICAgbWF4X3ZhbHVlW2NoYW5uZWxdID0gLUluZmluaXR5OwogICAgICAgIH0KCiAgICAgICAgc2NhbGVfY291bnRlciA9IDA7CiAgICAgIH0KICAgIH0KCiAgICBpZiAoc2NhbGVfY291bnRlciA+IDApIHsKICAgICAgZm9yIChjaGFubmVsID0gMDsgY2hhbm5lbCA8IG91dHB1dF9jaGFubmVsczsgY2hhbm5lbCsrKSB7CiAgICAgICAgZGF0YV92aWV3LnNldEludDgob2Zmc2V0KyssIG1pbl92YWx1ZVtjaGFubmVsXSk7CiAgICAgICAgZGF0YV92aWV3LnNldEludDgob2Zmc2V0KyssIG1heF92YWx1ZVtjaGFubmVsXSk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gYnVmZmVyOwogIH0KCiAgb25tZXNzYWdlID0gZnVuY3Rpb24gb25tZXNzYWdlKGV2dCkgewogICAgdmFyIGJ1ZmZlciA9IGdlbmVyYXRlV2F2ZWZvcm1EYXRhKGV2dC5kYXRhKTsgLy8gVHJhbnNmZXIgYnVmZmVyIHRvIHRoZSBjYWxsaW5nIHRocmVhZAoKICAgIHRoaXMucG9zdE1lc3NhZ2UoYnVmZmVyLCBbYnVmZmVyXSk7CiAgICB0aGlzLmNsb3NlKCk7CiAgfTsKCn0pKCk7Cgo=', null, false);\n/* eslint-enable */\n\n/**\n * Provides access to waveform data.\n */\n\nfunction WaveformData(data) {\n  if (isJsonWaveformData(data)) {\n    data = convertJsonToBinary(data);\n  }\n\n  if (isBinaryWaveformData(data)) {\n    this._data = new DataView(data);\n    this._offset = this._version() === 2 ? 24 : 20;\n    this._channels = [];\n\n    for (var channel = 0; channel < this.channels; channel++) {\n      this._channels[channel] = new WaveformDataChannel(this, channel);\n    }\n  } else {\n    throw new TypeError(\"WaveformData.create(): Unknown data format\");\n  }\n}\n\nvar defaultOptions = {\n  scale: 512,\n  amplitude_scale: 1.0,\n  split_channels: false,\n  disable_worker: false\n};\n\nfunction getOptions(options) {\n  var opts = {\n    scale: options.scale || defaultOptions.scale,\n    amplitude_scale: options.amplitude_scale || defaultOptions.amplitude_scale,\n    split_channels: options.split_channels || defaultOptions.split_channels,\n    disable_worker: options.disable_worker || defaultOptions.disable_worker\n  };\n  return opts;\n}\n\nfunction getChannelData(audio_buffer) {\n  var channels = [];\n\n  for (var i = 0; i < audio_buffer.numberOfChannels; ++i) {\n    channels.push(audio_buffer.getChannelData(i).buffer);\n  }\n\n  return channels;\n}\n\nfunction createFromAudioBuffer(audio_buffer, options, callback) {\n  var channels = getChannelData(audio_buffer);\n\n  if (options.disable_worker) {\n    var buffer = generateWaveformData({\n      scale: options.scale,\n      amplitude_scale: options.amplitude_scale,\n      split_channels: options.split_channels,\n      length: audio_buffer.length,\n      sample_rate: audio_buffer.sampleRate,\n      channels: channels\n    });\n    callback(null, new WaveformData(buffer), audio_buffer);\n  } else {\n    var worker = new WorkerFactory();\n\n    worker.onmessage = function (evt) {\n      callback(null, new WaveformData(evt.data), audio_buffer);\n    };\n\n    worker.postMessage({\n      scale: options.scale,\n      amplitude_scale: options.amplitude_scale,\n      split_channels: options.split_channels,\n      length: audio_buffer.length,\n      sample_rate: audio_buffer.sampleRate,\n      channels: channels\n    }, channels);\n  }\n}\n\nfunction createFromArrayBuffer(audioContext, audioData, options, callback) {\n  // The following function is a workaround for a Webkit bug where decodeAudioData\n  // invokes the errorCallback with null instead of a DOMException.\n  // See https://webaudio.github.io/web-audio-api/#dom-baseaudiocontext-decodeaudiodata\n  // and http://stackoverflow.com/q/10365335/103396\n  function errorCallback(error) {\n    if (!error) {\n      error = new DOMException(\"EncodingError\");\n    }\n\n    callback(error);\n  }\n\n  audioContext.decodeAudioData(audioData, function (audio_buffer) {\n    createFromAudioBuffer(audio_buffer, options, callback);\n  }, errorCallback);\n}\n/**\n * Creates and returns a WaveformData instance from the given waveform data.\n */\n\n\nWaveformData.create = function create(data) {\n  return new WaveformData(data);\n};\n/**\n * Creates a WaveformData instance from audio.\n */\n\n\nWaveformData.createFromAudio = function (options, callback) {\n  var opts = getOptions(options);\n\n  if (options.audio_context && options.array_buffer) {\n    return createFromArrayBuffer(options.audio_context, options.array_buffer, opts, callback);\n  } else if (options.audio_buffer) {\n    return createFromAudioBuffer(options.audio_buffer, opts, callback);\n  } else {\n    throw new TypeError( // eslint-disable-next-line\n    \"WaveformData.createFromAudio(): Pass either an AudioContext and ArrayBuffer, or an AudioBuffer object\");\n  }\n};\n\nWaveformData.prototype = {\n  /**\n   * Creates and returns a new WaveformData object with resampled data.\n   * Use this method to create waveform data at different zoom levels.\n   *\n   * Adapted from Sequence::GetWaveDisplay in Audacity, with permission.\n   * https://code.google.com/p/audacity/source/browse/audacity-src/trunk/src/Sequence.cpp\n   */\n  resample: function resample(options) {\n    options.scale = typeof options.scale === \"number\" ? options.scale : null;\n    options.width = typeof options.width === \"number\" ? options.width : null;\n\n    if (options.width != null && options.width <= 0) {\n      throw new RangeError(\"WaveformData.resample(): width should be a positive integer value\");\n    }\n\n    if (options.scale != null && options.scale <= 0) {\n      throw new RangeError(\"WaveformData.resample(): scale should be a positive integer value\");\n    }\n\n    if (!options.scale && !options.width) {\n      throw new Error(\"WaveformData.resample(): Missing scale or width option\");\n    } // Scale we want to reach\n\n\n    var output_samples_per_pixel = options.scale || Math.floor(this.duration * this.sample_rate / options.width);\n    var scale = this.scale; // scale we are coming from\n    // The amount of data we want to resample i.e. final zoom want to resample\n    // all data but for intermediate zoom we want to resample subset\n\n    var input_buffer_size = this.length;\n    var input_buffer_length_samples = input_buffer_size * this.scale;\n    var output_buffer_length_samples = Math.ceil(input_buffer_length_samples / output_samples_per_pixel);\n    var output_header_size = 24; // version 2\n\n    var bytes_per_sample = this.bits === 8 ? 1 : 2;\n    var total_size = output_header_size + output_buffer_length_samples * 2 * this.channels * bytes_per_sample;\n    var output_data = new ArrayBuffer(total_size);\n    var output_dataview = new DataView(output_data);\n    output_dataview.setInt32(0, 2, true); // Version\n\n    output_dataview.setUint32(4, this.bits === 8, true); // Is 8 bit?\n\n    output_dataview.setInt32(8, this.sample_rate, true);\n    output_dataview.setInt32(12, output_samples_per_pixel, true);\n    output_dataview.setInt32(16, output_buffer_length_samples, true);\n    output_dataview.setInt32(20, this.channels, true);\n    var waveform_data = new WaveformData(output_data);\n    var input_index = 0;\n    var output_index = 0;\n    var channels = this.channels;\n    var min = new Array(channels);\n    var max = new Array(channels);\n    var channel;\n\n    for (channel = 0; channel < channels; ++channel) {\n      if (input_buffer_size > 0) {\n        min[channel] = this.channel(channel).min_sample(input_index);\n        max[channel] = this.channel(channel).max_sample(input_index);\n      } else {\n        min[channel] = 0;\n        max[channel] = 0;\n      }\n    }\n\n    var min_value = this.bits === 8 ? -128 : -32768;\n    var max_value = this.bits === 8 ? 127 : 32767;\n\n    if (output_samples_per_pixel < scale) {\n      throw new Error(\"WaveformData.resample(): Zoom level \" + output_samples_per_pixel + \" too low, minimum: \" + scale);\n    }\n\n    var where, prev_where, stop, value, last_input_index;\n\n    function sample_at_pixel(x) {\n      return Math.floor(x * output_samples_per_pixel);\n    }\n\n    while (input_index < input_buffer_size) {\n      while (Math.floor(sample_at_pixel(output_index) / scale) === input_index) {\n        if (output_index > 0) {\n          for (channel = 0; channel < channels; ++channel) {\n            waveform_data.channel(channel).set_min_sample(output_index - 1, min[channel]);\n            waveform_data.channel(channel).set_max_sample(output_index - 1, max[channel]);\n          }\n        }\n\n        last_input_index = input_index;\n        output_index++;\n        where = sample_at_pixel(output_index);\n        prev_where = sample_at_pixel(output_index - 1);\n\n        if (where !== prev_where) {\n          for (channel = 0; channel < channels; ++channel) {\n            min[channel] = max_value;\n            max[channel] = min_value;\n          }\n        }\n      }\n\n      where = sample_at_pixel(output_index);\n      stop = Math.floor(where / scale);\n\n      if (stop > input_buffer_size) {\n        stop = input_buffer_size;\n      }\n\n      while (input_index < stop) {\n        for (channel = 0; channel < channels; ++channel) {\n          value = this.channel(channel).min_sample(input_index);\n\n          if (value < min[channel]) {\n            min[channel] = value;\n          }\n\n          value = this.channel(channel).max_sample(input_index);\n\n          if (value > max[channel]) {\n            max[channel] = value;\n          }\n        }\n\n        input_index++;\n      }\n    }\n\n    if (input_index !== last_input_index) {\n      for (channel = 0; channel < channels; ++channel) {\n        waveform_data.channel(channel).set_min_sample(output_index - 1, min[channel]);\n        waveform_data.channel(channel).set_max_sample(output_index - 1, max[channel]);\n      }\n    }\n\n    return waveform_data;\n  },\n\n  /**\n   * Concatenates with one or more other waveforms, returning a new WaveformData object.\n   */\n  concat: function concat() {\n    var self = this;\n    var otherWaveforms = Array.prototype.slice.call(arguments); // Check that all the supplied waveforms are compatible\n\n    otherWaveforms.forEach(function (otherWaveform) {\n      if (self.channels !== otherWaveform.channels || self.sample_rate !== otherWaveform.sample_rate || self.bits !== otherWaveform.bits || self.scale !== otherWaveform.scale) {\n        throw new Error(\"WaveformData.concat(): Waveforms are incompatible\");\n      }\n    });\n\n    var combinedBuffer = this._concatBuffers.apply(this, otherWaveforms);\n\n    return WaveformData.create(combinedBuffer);\n  },\n\n  /**\n   * Returns a new ArrayBuffer with the concatenated waveform.\n   * All waveforms must have identical metadata (version, channels, etc)\n   */\n  _concatBuffers: function _concatBuffers() {\n    var otherWaveforms = Array.prototype.slice.call(arguments);\n    var headerSize = this._offset;\n    var totalSize = headerSize;\n    var totalDataLength = 0;\n    var bufferCollection = [this].concat(otherWaveforms).map(function (w) {\n      return w._data.buffer;\n    });\n    var i, buffer;\n\n    for (i = 0; i < bufferCollection.length; i++) {\n      buffer = bufferCollection[i];\n      var dataSize = new DataView(buffer).getInt32(16, true);\n      totalSize += buffer.byteLength - headerSize;\n      totalDataLength += dataSize;\n    }\n\n    var totalBuffer = new ArrayBuffer(totalSize);\n    var sourceHeader = new DataView(bufferCollection[0]);\n    var totalBufferView = new DataView(totalBuffer); // Copy the header from the first chunk\n\n    for (i = 0; i < headerSize; i++) {\n      totalBufferView.setUint8(i, sourceHeader.getUint8(i));\n    } // Rewrite the data-length header item to reflect all of the samples concatenated together\n\n\n    totalBufferView.setInt32(16, totalDataLength, true);\n    var offset = 0;\n    var dataOfTotalBuffer = new Uint8Array(totalBuffer, headerSize);\n\n    for (i = 0; i < bufferCollection.length; i++) {\n      buffer = bufferCollection[i];\n      dataOfTotalBuffer.set(new Uint8Array(buffer, headerSize), offset);\n      offset += buffer.byteLength - headerSize;\n    }\n\n    return totalBuffer;\n  },\n\n  /**\n   * Return the unpacked values for a particular offset.\n   */\n  _offsetValues: function getOffsetValues(start, length, correction) {\n    var values = [];\n    var channels = this.channels;\n    correction += start * channels * 2; // offset the positioning query\n\n    for (var i = 0; i < length; i++) {\n      values.push(this._at(i * channels * 2 + correction));\n    }\n\n    return values;\n  },\n\n  /**\n   * Returns the data format version number.\n   */\n  _version: function _version() {\n    return this._data.getInt32(0, true);\n  },\n\n  /**\n   * Returns the length of the waveform, in pixels.\n   */\n  get length() {\n    return this._data.getUint32(16, true);\n  },\n\n  /**\n   * Returns the number of bits per sample, either 8 or 16.\n   */\n  get bits() {\n    var bits = Boolean(this._data.getUint32(4, true));\n    return bits ? 8 : 16;\n  },\n\n  /**\n   * Returns the (approximate) duration of the audio file, in seconds.\n   */\n  get duration() {\n    return this.length * this.scale / this.sample_rate;\n  },\n\n  /**\n   * Returns the number of pixels per second.\n   */\n  get pixels_per_second() {\n    return this.sample_rate / this.scale;\n  },\n\n  /**\n   * Returns the amount of time represented by a single pixel, in seconds.\n   */\n  get seconds_per_pixel() {\n    return this.scale / this.sample_rate;\n  },\n\n  /**\n   * Returns the number of waveform channels.\n   */\n  get channels() {\n    if (this._version() === 2) {\n      return this._data.getInt32(20, true);\n    } else {\n      return 1;\n    }\n  },\n\n  /**\n   * Returns a waveform channel.\n   */\n  channel: function channel(index) {\n    if (index >= 0 && index < this._channels.length) {\n      return this._channels[index];\n    } else {\n      throw new RangeError(\"Invalid channel: \" + index);\n    }\n  },\n\n  /**\n   * Returns the number of audio samples per second.\n   */\n  get sample_rate() {\n    return this._data.getInt32(8, true);\n  },\n\n  /**\n   * Returns the number of audio samples per pixel.\n   */\n  get scale() {\n    return this._data.getInt32(12, true);\n  },\n\n  /**\n   * Returns a waveform data value at a specific offset.\n   */\n  _at: function at_sample(index) {\n    if (this.bits === 8) {\n      return this._data.getInt8(this._offset + index);\n    } else {\n      return this._data.getInt16(this._offset + index * 2, true);\n    }\n  },\n\n  /**\n   * Sets a waveform data value at a specific offset.\n   */\n  _set_at: function set_at(index, sample) {\n    if (this.bits === 8) {\n      return this._data.setInt8(this._offset + index, sample);\n    } else {\n      return this._data.setInt16(this._offset + index * 2, sample, true);\n    }\n  },\n\n  /**\n   * Returns the waveform data index position for a given time.\n   */\n  at_time: function at_time(time) {\n    return Math.floor(time * this.sample_rate / this.scale);\n  },\n\n  /**\n   * Returns the time in seconds for a given index.\n   */\n  time: function time(index) {\n    return index * this.scale / this.sample_rate;\n  },\n\n  /**\n   * Returns an object containing the waveform data.\n   */\n  toJSON: function toJSON() {\n    var waveform = {\n      version: 2,\n      channels: this.channels,\n      sample_rate: this.sample_rate,\n      samples_per_pixel: this.scale,\n      bits: this.bits,\n      length: this.length,\n      data: []\n    };\n\n    for (var i = 0; i < this.length; i++) {\n      for (var channel = 0; channel < this.channels; channel++) {\n        waveform.data.push(this.channel(channel).min_sample(i));\n        waveform.data.push(this.channel(channel).max_sample(i));\n      }\n    }\n\n    return waveform;\n  },\n\n  /**\n   * Returns the waveform data in binary format as an ArrayBuffer.\n   */\n  toArrayBuffer: function toArrayBuffer() {\n    return this._data.buffer;\n  }\n};\n\nexport { WaveformData as default };\n","/**\n * @file\n *\n * Defines the {@link WaveformBuilder} class.\n *\n * @module waveform-builder\n */\n\nimport { isArrayBuffer, isObject } from './utils';\nimport WaveformData from 'waveform-data';\n\nconst isXhr2 = ('withCredentials' in new XMLHttpRequest());\n\n/**\n * Creates and returns a WaveformData object, either by requesting the\n * waveform data from the server, or by creating the waveform data using the\n * Web Audio API.\n *\n * @class\n * @alias WaveformBuilder\n *\n * @param {Peaks} peaks\n */\n\nfunction WaveformBuilder(peaks) {\n  this._peaks = peaks;\n}\n\n/**\n * Options for requesting remote waveform data.\n *\n * @typedef {Object} RemoteWaveformDataOptions\n * @global\n * @property {String=} arraybuffer\n * @property {String=} json\n */\n\n/**\n * Options for supplying local waveform data.\n *\n * @typedef {Object} LocalWaveformDataOptions\n * @global\n * @property {ArrayBuffer=} arraybuffer\n * @property {Object=} json\n */\n\n/**\n * Options for the Web Audio waveform builder.\n *\n * @typedef {Object} WaveformBuilderWebAudioOptions\n * @global\n * @property {AudioContext} audioContext\n * @property {AudioBuffer=} audioBuffer\n * @property {Number=} scale\n * @property {Boolean=} multiChannel\n */\n\n/**\n * Options for [WaveformBuilder.init]{@link WaveformBuilder#init}.\n *\n * @typedef {Object} WaveformBuilderInitOptions\n * @global\n * @property {RemoteWaveformDataOptions=} dataUri\n * @property {LocalWaveformDataOptions=} waveformData\n * @property {WaveformBuilderWebAudioOptions=} webAudio\n * @property {Boolean=} withCredentials\n * @property {Array<Number>=} zoomLevels\n */\n\n/**\n * Callback for receiving the waveform data.\n *\n * @callback WaveformBuilderInitCallback\n * @global\n * @param {Error} error\n * @param {WaveformData} waveformData\n */\n\n/**\n * Loads or creates the waveform data.\n *\n * @private\n * @param {WaveformBuilderInitOptions} options\n * @param {WaveformBuilderInitCallback} callback\n */\n\nWaveformBuilder.prototype.init = function(options, callback) {\n  if ((options.dataUri && (options.webAudio || options.audioContext)) ||\n      (options.waveformData && (options.webAudio || options.audioContext)) ||\n      (options.dataUri && options.waveformData)) {\n    // eslint-disable-next-line max-len\n    callback(new TypeError('Peaks.init(): You may only pass one source (webAudio, dataUri, or waveformData) to render waveform data.'));\n    return;\n  }\n\n  if (options.audioContext) {\n    // eslint-disable-next-line max-len\n    this._peaks._logger('Peaks.init(): The audioContext option is deprecated, please pass a webAudio object instead');\n\n    options.webAudio = {\n      audioContext: options.audioContext\n    };\n  }\n\n  if (options.dataUri) {\n    return this._getRemoteWaveformData(options, callback);\n  }\n  else if (options.waveformData) {\n    return this._buildWaveformFromLocalData(options, callback);\n  }\n  else if (options.webAudio) {\n    if (options.webAudio.audioBuffer) {\n      return this._buildWaveformDataFromAudioBuffer(options, callback);\n    }\n    else {\n      return this._buildWaveformDataUsingWebAudio(options, callback);\n    }\n  }\n  else {\n    // eslint-disable-next-line max-len\n    callback(new Error('Peaks.init(): You must pass an audioContext, or dataUri, or waveformData to render waveform data'));\n  }\n};\n\n/* eslint-disable max-len */\n\n/**\n * Fetches waveform data, based on the given options.\n *\n * @private\n * @param {Object} options\n * @param {String|Object} options.dataUri\n * @param {String} options.dataUri.arraybuffer Waveform data URL\n *   (binary format)\n * @param {String} options.dataUri.json Waveform data URL (JSON format)\n * @param {String} options.defaultUriFormat Either 'arraybuffer' (for binary\n *   data) or 'json'\n * @param {WaveformBuilderInitCallback} callback\n *\n * @see Refer to the <a href=\"https://github.com/bbc/audiowaveform/blob/master/doc/DataFormat.md\">data format documentation</a>\n *   for details of the binary and JSON waveform data formats.\n */\n\n/* eslint-enable max-len */\n\nWaveformBuilder.prototype._getRemoteWaveformData = function(options, callback) {\n  const self = this;\n\n  let dataUri = null;\n  let requestType = null;\n  let url;\n\n  if (isObject(options.dataUri)) {\n    dataUri = options.dataUri;\n  }\n  else {\n    callback(new TypeError('Peaks.init(): The dataUri option must be an object'));\n    return;\n  }\n\n  ['ArrayBuffer', 'JSON'].some(function(connector) {\n    if (window[connector]) {\n      requestType = connector.toLowerCase();\n      url = dataUri[requestType];\n\n      return Boolean(url);\n    }\n  });\n\n  if (!url) {\n    // eslint-disable-next-line max-len\n    callback(new Error('Peaks.init(): Unable to determine a compatible dataUri format for this browser'));\n    return;\n  }\n\n  self._xhr = self._createXHR(url, requestType, options.withCredentials, function(event) {\n    if (this.readyState !== 4) {\n      return;\n    }\n\n    if (this.status !== 200) {\n      callback(\n        new Error('Unable to fetch remote data. HTTP status ' + this.status)\n      );\n\n      return;\n    }\n\n    self._xhr = null;\n\n    const waveformData = WaveformData.create(event.target.response);\n\n    if (waveformData.channels !== 1 && waveformData.channels !== 2) {\n      callback(new Error('Peaks.init(): Only mono or stereo waveforms are currently supported'));\n      return;\n    }\n    else if (waveformData.bits !== 8) {\n      callback(new Error('Peaks.init(): 16-bit waveform data is not supported'));\n      return;\n    }\n\n    callback(null, waveformData);\n  },\n  function() {\n    callback(new Error('XHR failed'));\n  },\n  function() {\n    callback(new Error('XHR aborted'));\n  });\n\n  self._xhr.send();\n};\n\n/* eslint-disable max-len */\n\n/**\n * Creates a waveform from given data, based on the given options.\n *\n * @private\n * @param {Object} options\n * @param {Object} options.waveformData\n * @param {ArrayBuffer} options.waveformData.arraybuffer Waveform data (binary format)\n * @param {Object} options.waveformData.json Waveform data (JSON format)\n * @param {WaveformBuilderInitCallback} callback\n *\n * @see Refer to the <a href=\"https://github.com/bbc/audiowaveform/blob/master/doc/DataFormat.md\">data format documentation</a>\n *   for details of the binary and JSON waveform data formats.\n */\n\n/* eslint-enable max-len */\n\nWaveformBuilder.prototype._buildWaveformFromLocalData = function(options, callback) {\n  let waveformData = null;\n  let data = null;\n\n  if (isObject(options.waveformData)) {\n    waveformData = options.waveformData;\n  }\n  else {\n    callback(new Error('Peaks.init(): The waveformData option must be an object'));\n    return;\n  }\n\n  if (isObject(waveformData.json)) {\n    data = waveformData.json;\n  }\n  else if (isArrayBuffer(waveformData.arraybuffer)) {\n    data = waveformData.arraybuffer;\n  }\n\n  if (!data) {\n    // eslint-disable-next-line max-len\n    callback(new Error('Peaks.init(): Unable to determine a compatible waveformData format'));\n    return;\n  }\n\n  try {\n    const createdWaveformData = WaveformData.create(data);\n\n    if (createdWaveformData.channels !== 1 && createdWaveformData.channels !== 2) {\n      callback(new Error('Peaks.init(): Only mono or stereo waveforms are currently supported'));\n      return;\n    }\n    else if (createdWaveformData.bits !== 8) {\n      callback(new Error('Peaks.init(): 16-bit waveform data is not supported'));\n      return;\n    }\n\n    callback(null, createdWaveformData);\n  }\n  catch (err) {\n    callback(err);\n  }\n};\n\n/**\n * Creates waveform data using the Web Audio API.\n *\n * @private\n * @param {Object} options\n * @param {AudioContext} options.audioContext\n * @param {HTMLMediaElement} options.mediaElement\n * @param {WaveformBuilderInitCallback} callback\n */\n\nWaveformBuilder.prototype._buildWaveformDataUsingWebAudio = function(options, callback) {\n  const self = this;\n\n  const audioContext = window.AudioContext || window.webkitAudioContext;\n\n  if (!(options.webAudio.audioContext instanceof audioContext)) {\n    // eslint-disable-next-line max-len\n    callback(new TypeError('Peaks.init(): The webAudio.audioContext option must be a valid AudioContext'));\n    return;\n  }\n\n  const webAudioOptions = options.webAudio;\n\n  if (webAudioOptions.scale !== options.zoomLevels[0]) {\n    webAudioOptions.scale = options.zoomLevels[0];\n  }\n\n  // If the media element has already selected which source to play, its\n  // currentSrc attribute will contain the source media URL. Otherwise,\n  // we wait for a canplay event to tell us when the media is ready.\n\n  const mediaSourceUrl = self._peaks.options.mediaElement.currentSrc;\n\n  if (mediaSourceUrl) {\n    self._requestAudioAndBuildWaveformData(\n      mediaSourceUrl,\n      webAudioOptions,\n      options.withCredentials,\n      callback\n    );\n  }\n  else {\n    self._peaks.once('player.canplay', function() {\n      self._requestAudioAndBuildWaveformData(\n        self._peaks.options.mediaElement.currentSrc,\n        webAudioOptions,\n        options.withCredentials,\n        callback\n      );\n    });\n  }\n};\n\nWaveformBuilder.prototype._buildWaveformDataFromAudioBuffer = function(options, callback) {\n  const webAudioOptions = options.webAudio;\n\n  if (webAudioOptions.scale !== options.zoomLevels[0]) {\n    webAudioOptions.scale = options.zoomLevels[0];\n  }\n\n  const webAudioBuilderOptions = {\n    audio_buffer: webAudioOptions.audioBuffer,\n    split_channels: webAudioOptions.multiChannel,\n    scale: webAudioOptions.scale,\n    disable_worker: true\n  };\n\n  WaveformData.createFromAudio(webAudioBuilderOptions, callback);\n};\n\n/**\n * Fetches the audio content, based on the given options, and creates waveform\n * data using the Web Audio API.\n *\n * @private\n * @param {url} The media source URL\n * @param {WaveformBuilderWebAudioOptions} webAudio\n * @param {Boolean} withCredentials\n * @param {WaveformBuilderInitCallback} callback\n */\n\nWaveformBuilder.prototype._requestAudioAndBuildWaveformData = function(url,\n    webAudio, withCredentials, callback) {\n  const self = this;\n\n  if (!url) {\n    self._peaks._logger('Peaks.init(): The mediaElement src is invalid');\n    return;\n  }\n\n  self._xhr = self._createXHR(url, 'arraybuffer', withCredentials, function(event) {\n    if (this.readyState !== 4) {\n      return;\n    }\n\n    if (this.status !== 200) {\n      callback(\n        new Error('Unable to fetch remote data. HTTP status ' + this.status)\n      );\n\n      return;\n    }\n\n    self._xhr = null;\n\n    const webAudioBuilderOptions = {\n      audio_context: webAudio.audioContext,\n      array_buffer: event.target.response,\n      split_channels: webAudio.multiChannel,\n      scale: webAudio.scale\n    };\n\n    WaveformData.createFromAudio(webAudioBuilderOptions, callback);\n  },\n  function() {\n    callback(new Error('XHR failed'));\n  },\n  function() {\n    callback(new Error('XHR aborted'));\n  });\n\n  self._xhr.send();\n};\n\nWaveformBuilder.prototype.abort = function() {\n  if (this._xhr) {\n    this._xhr.abort();\n  }\n};\n\n/**\n * @private\n * @param {String} url\n * @param {String} requestType\n * @param {Boolean} withCredentials\n * @param {Function} onLoad\n * @param {Function} onError\n *\n * @returns {XMLHttpRequest}\n */\n\nWaveformBuilder.prototype._createXHR = function(url, requestType,\n    withCredentials, onLoad, onError, onAbort) {\n  const xhr = new XMLHttpRequest();\n\n  // open an XHR request to the data source file\n  xhr.open('GET', url, true);\n\n  if (isXhr2) {\n    try {\n      xhr.responseType = requestType;\n    }\n    catch (e) {\n      // Some browsers like Safari 6 do handle XHR2 but not the json\n      // response type, doing only a try/catch fails in IE9\n    }\n  }\n\n  xhr.onload = onLoad;\n  xhr.onerror = onError;\n\n  if (isXhr2 && withCredentials) {\n    xhr.withCredentials = true;\n  }\n\n  xhr.addEventListener('abort', onAbort);\n\n  return xhr;\n};\n\nexport default WaveformBuilder;\n","/**\n * @file\n *\n * Defines the {@link Peaks} class.\n *\n * @module main\n */\n\nimport EventEmitter from 'eventemitter3';\nimport CueEmitter from './cue-emitter';\nimport WaveformPoints from './waveform-points';\nimport WaveformSegments from './waveform-segments';\nimport KeyboardHandler from './keyboard-handler';\nimport MediaElementPlayer from './mediaelement-player';\nimport Player from './player';\nimport { createPointMarker, createSegmentMarker, createSegmentLabel } from './marker-factories';\nimport ViewController from './view-controller';\nimport ZoomController from './zoom-controller';\nimport WaveformBuilder from './waveform-builder';\nimport {\n  isHTMLElement, isFunction, isInAscendingOrder, isObject,\n  objectHasProperty,\n  extend\n} from './utils';\n\n/**\n * Initialises a new Peaks instance with default option settings.\n *\n * @class\n * @alias Peaks\n *\n * @param {Object} opts Configuration options\n */\n\nfunction Peaks() {\n  EventEmitter.call(this);\n\n  // Set default options\n  this.options = {\n    zoomLevels:          [512, 1024, 2048, 4096],\n    waveformCache:       true,\n\n    mediaElement:        null,\n    mediaUrl:            null,\n\n    dataUri:             null,\n    withCredentials:     false,\n\n    waveformData:        null,\n    webAudio:            null,\n\n    nudgeIncrement:      1.0,\n\n    pointMarkerColor:    '#39cccc',\n\n    createSegmentMarker: createSegmentMarker,\n    createSegmentLabel:  createSegmentLabel,\n    createPointMarker:   createPointMarker,\n\n    // eslint-disable-next-line no-console\n    logger:              console.error.bind(console)\n  };\n\n  return this;\n}\n\nPeaks.prototype = Object.create(EventEmitter.prototype);\n\nconst defaultViewOptions = {\n  playheadColor:          '#111111',\n  playheadTextColor:      '#aaaaaa',\n  axisGridlineColor:      '#cccccc',\n  showAxisLabels:         true,\n  axisTopMarkerHeight:    10,\n  axisBottomMarkerHeight: 10,\n  axisLabelColor:         '#aaaaaa',\n  fontFamily:             'sans-serif',\n  fontSize:               11,\n  fontStyle:              'normal',\n  timeLabelPrecision:     2,\n  enablePoints:           true,\n  enableSegments:         true\n};\n\nconst defaultZoomviewOptions = {\n  // showPlayheadTime:    true,\n  playheadClickTolerance: 3,\n  waveformColor:          'rgba(0, 225, 128, 1)',\n  wheelMode:              'none',\n  autoScroll:             true,\n  autoScrollOffset:       100\n};\n\nconst defaultOverviewOptions = {\n  // showPlayheadTime:    false,\n  waveformColor:          'rgba(0, 0, 0, 0.2)',\n  highlightColor:         '#aaaaaa',\n  highlightStrokeColor:   'transparent',\n  highlightOpacity:       0.3,\n  highlightOffset:        11,\n  highlightCornerRadius:  2\n};\n\nconst defaultSegmentOptions = {\n  overlay:                   false,\n  markers:                   true,\n  startMarkerColor:          '#aaaaaa',\n  endMarkerColor:            '#aaaaaa',\n  waveformColor:             '#0074d9',\n  overlayColor:              '#ff0000',\n  overlayOpacity:            0.3,\n  overlayBorderColor:        '#ff0000',\n  overlayBorderWidth:        2,\n  overlayCornerRadius:       5,\n  overlayOffset:             25,\n  overlayLabelAlign:         'left',\n  overlayLabelVerticalAlign: 'top',\n  overlayLabelPadding:       8,\n  overlayLabelColor:         '#000000',\n  overlayFontFamily:         'sans-serif',\n  overlayFontSize:           12,\n  overlayFontStyle:          'normal'\n};\n\nconst defaultScrollbarOptions = {\n  color: '#888888',\n  minWidth: 50\n};\n\nfunction getOverviewOptions(opts) {\n  const overviewOptions = {};\n\n  if (opts.overview && opts.overview.showPlayheadTime) {\n    overviewOptions.showPlayheadTime = opts.overview.showPlayheadTime;\n  }\n\n  const optNames = [\n    'container',\n    'waveformColor',\n    'playedWaveformColor',\n    'playheadColor',\n    'playheadTextColor',\n    'formatPlayheadTime',\n    'timeLabelPrecision',\n    'axisGridlineColor',\n    'showAxisLabels',\n    'axisTopMarkerHeight',\n    'axisBottomMarkerHeight',\n    'axisLabelColor',\n    'formatAxisTime',\n    'fontFamily',\n    'fontSize',\n    'fontStyle',\n    'highlightColor',\n    'highlightStrokeColor',\n    'highlightOpacity',\n    'highlightCornerRadius',\n    'highlightOffset',\n    'enablePoints',\n    'enableSegments'\n  ];\n\n  optNames.forEach(function(optName) {\n    if (opts.overview && objectHasProperty(opts.overview, optName)) {\n      overviewOptions[optName] = opts.overview[optName];\n    }\n    else if (objectHasProperty(opts, optName)) {\n      overviewOptions[optName] = opts[optName];\n    }\n    else if (!objectHasProperty(overviewOptions, optName)) {\n      if (objectHasProperty(defaultOverviewOptions, optName)) {\n        overviewOptions[optName] = defaultOverviewOptions[optName];\n      }\n      else if (objectHasProperty(defaultViewOptions, optName)) {\n        overviewOptions[optName] = defaultViewOptions[optName];\n      }\n    }\n  });\n\n  return overviewOptions;\n}\n\nfunction getZoomviewOptions(opts) {\n  const zoomviewOptions = {};\n\n  if (opts.showPlayheadTime) {\n    zoomviewOptions.showPlayheadTime = opts.showPlayheadTime;\n  }\n  else if (opts.zoomview && opts.zoomview.showPlayheadTime) {\n    zoomviewOptions.showPlayheadTime = opts.zoomview.showPlayheadTime;\n  }\n\n  const optNames = [\n    'container',\n    'waveformColor',\n    'playedWaveformColor',\n    'playheadColor',\n    'playheadTextColor',\n    'formatPlayheadTime',\n    'playheadClickTolerance',\n    'timeLabelPrecision',\n    'axisGridlineColor',\n    'showAxisLabels',\n    'axisTopMarkerHeight',\n    'axisBottomMarkerHeight',\n    'axisLabelColor',\n    'formatAxisTime',\n    'fontFamily',\n    'fontSize',\n    'fontStyle',\n    'wheelMode',\n    'autoScroll',\n    'autoScrollOffset',\n    'enablePoints',\n    'enableSegments'\n  ];\n\n  optNames.forEach(function(optName) {\n    if (opts.zoomview && objectHasProperty(opts.zoomview, optName)) {\n      zoomviewOptions[optName] = opts.zoomview[optName];\n    }\n    else if (objectHasProperty(opts, optName)) {\n      zoomviewOptions[optName] = opts[optName];\n    }\n    else if (!objectHasProperty(zoomviewOptions, optName)) {\n      if (objectHasProperty(defaultZoomviewOptions, optName)) {\n        zoomviewOptions[optName] = defaultZoomviewOptions[optName];\n      }\n      else if (objectHasProperty(defaultViewOptions, optName)) {\n        zoomviewOptions[optName] = defaultViewOptions[optName];\n      }\n    }\n  });\n\n  return zoomviewOptions;\n}\n\nfunction getScrollbarOptions(opts) {\n  if (!objectHasProperty(opts, 'scrollbar')) {\n    return null;\n  }\n\n  const scrollbarOptions = {};\n\n  const optNames = [\n    'container',\n    'color',\n    'minWidth'\n  ];\n\n  optNames.forEach(function(optName) {\n    if (objectHasProperty(opts.scrollbar, optName)) {\n      scrollbarOptions[optName] = opts.scrollbar[optName];\n    }\n    else {\n      scrollbarOptions[optName] = defaultScrollbarOptions[optName];\n    }\n  });\n\n  return scrollbarOptions;\n}\n\nfunction extendOptions(to, from) {\n  for (const key in from) {\n    if (objectHasProperty(from, key) &&\n        objectHasProperty(to, key)) {\n      to[key] = from[key];\n    }\n  }\n\n  return to;\n}\n\nfunction addSegmentOptions(options, opts) {\n  options.segmentOptions = {};\n\n  extend(options.segmentOptions, defaultSegmentOptions);\n\n  if (opts.segmentOptions) {\n    extendOptions(options.segmentOptions, opts.segmentOptions);\n  }\n\n  options.zoomview.segmentOptions = {};\n  extend(options.zoomview.segmentOptions, options.segmentOptions);\n\n  if (opts.zoomview && opts.zoomview.segmentOptions) {\n    extendOptions(options.zoomview.segmentOptions, opts.zoomview.segmentOptions);\n  }\n\n  options.overview.segmentOptions = {};\n  extend(options.overview.segmentOptions, options.segmentOptions);\n\n  if (opts.overview && opts.overview.segmentOptions) {\n    extendOptions(options.overview.segmentOptions, opts.overview.segmentOptions);\n  }\n}\n\nfunction checkContainerElements(options) {\n  const zoomviewContainer = options.zoomview.container;\n  const overviewContainer = options.overview.container;\n\n  if (!isHTMLElement(zoomviewContainer) &&\n      !isHTMLElement(overviewContainer)) {\n    // eslint-disable-next-line max-len\n    return new TypeError('Peaks.init(): The zoomview and/or overview container options must be valid HTML elements');\n  }\n\n  if (zoomviewContainer &&\n      (zoomviewContainer.clientWidth  <= 0 ||\n       zoomviewContainer.clientHeight <= 0)) {\n    // eslint-disable-next-line max-len\n    return new Error('Peaks.init(): Please ensure that the zoomview container is visible and has non-zero width and height');\n  }\n\n  if (overviewContainer &&\n      (overviewContainer.clientWidth  <= 0 ||\n       overviewContainer.clientHeight <= 0)) {\n    // eslint-disable-next-line max-len\n    return new Error('Peaks.init(): Please ensure that the overview container is visible and has non-zero width and height');\n  }\n}\n\n/**\n * Creates and initialises a new Peaks instance with the given options.\n *\n * @param {Object} opts Configuration options\n *\n * @return {Peaks}\n */\n\nPeaks.init = function(opts, callback) {\n  const instance = new Peaks();\n\n  let err = instance._setOptions(opts);\n\n  if (err) {\n    callback(err);\n    return;\n  }\n\n  err = checkContainerElements(instance.options);\n\n  if (err) {\n    callback(err);\n    return;\n  }\n\n  let scrollbarContainer = null;\n\n  if (instance.options.scrollbar) {\n    scrollbarContainer = instance.options.scrollbar.container;\n\n    if (!isHTMLElement(scrollbarContainer)) {\n      // eslint-disable-next-line max-len\n      callback(new TypeError('Peaks.init(): The scrollbar container option must be a valid HTML element'));\n      return;\n    }\n\n    if (scrollbarContainer.clientWidth <= 0) {\n      // eslint-disable-next-line max-len\n      callback(new TypeError('Peaks.init(): Please ensure that the scrollbar container is visible and has non-zero width'));\n      return;\n    }\n  }\n\n  if (opts.keyboard) {\n    instance._keyboardHandler = new KeyboardHandler(instance);\n  }\n\n  const player = opts.player ?\n    opts.player :\n    new MediaElementPlayer(instance.options.mediaElement);\n\n  instance.player = new Player(instance, player);\n  instance.segments = new WaveformSegments(instance);\n  instance.points = new WaveformPoints(instance);\n  instance.zoom = new ZoomController(instance, instance.options.zoomLevels);\n  instance.views = new ViewController(instance);\n\n  // Setup the UI components\n  instance._waveformBuilder = new WaveformBuilder(instance);\n\n  instance.player.init(instance)\n    .then(function() {\n      instance._waveformBuilder.init(instance.options, function(err, waveformData) {\n        if (err) {\n          if (callback) {\n            callback(err);\n          }\n\n          return;\n        }\n\n        err = checkContainerElements(instance.options);\n\n        if (err) {\n          if (callback) {\n            callback(err);\n          }\n\n          return;\n        }\n\n        instance._waveformBuilder = null;\n        instance._waveformData = waveformData;\n\n        const zoomviewContainer = instance.options.zoomview.container;\n        const overviewContainer = instance.options.overview.container;\n\n        if (overviewContainer) {\n          instance.views.createOverview(overviewContainer);\n        }\n\n        if (zoomviewContainer) {\n          instance.views.createZoomview(zoomviewContainer);\n        }\n\n        if (scrollbarContainer) {\n          instance.views.createScrollbar(scrollbarContainer);\n        }\n\n        if (opts.segments) {\n          instance.segments.add(opts.segments);\n        }\n\n        if (opts.points) {\n          instance.points.add(opts.points);\n        }\n\n        if (opts.emitCueEvents) {\n          instance._cueEmitter = new CueEmitter(instance);\n        }\n\n        // Allow applications to attach event handlers before emitting events,\n        // when initialising with local waveform data.\n\n        setTimeout(function() {\n          instance.emit('peaks.ready');\n        }, 0);\n\n        callback(null, instance);\n      });\n    })\n    .catch(function(err) {\n      if (callback) {\n        callback(err);\n      }\n    });\n\n  return instance;\n};\n\nPeaks.prototype._setOptions = function(opts) {\n  if (!isObject(opts)) {\n    return new TypeError('Peaks.init(): The options parameter should be an object');\n  }\n\n  if (!opts.player) {\n    if (!opts.mediaElement) {\n      return new Error('Peaks.init(): Missing mediaElement option');\n    }\n\n    if (!(opts.mediaElement instanceof HTMLMediaElement)) {\n      // eslint-disable-next-line max-len\n      return new TypeError('Peaks.init(): The mediaElement option should be an HTMLMediaElement');\n    }\n  }\n\n  if (opts.logger && !isFunction(opts.logger)) {\n    // eslint-disable-next-line max-len\n    return new TypeError('Peaks.init(): The logger option should be a function');\n  }\n\n  if (opts.segments && !Array.isArray(opts.segments)) {\n    // eslint-disable-next-line max-len\n    return new TypeError('Peaks.init(): options.segments must be an array of segment objects');\n  }\n\n  if (opts.points && !Array.isArray(opts.points)) {\n    // eslint-disable-next-line max-len\n    return new TypeError('Peaks.init(): options.points must be an array of point objects');\n  }\n\n  extendOptions(this.options, opts);\n\n  this.options.overview = getOverviewOptions(opts);\n  this.options.zoomview = getZoomviewOptions(opts);\n  this.options.scrollbar = getScrollbarOptions(opts);\n\n  addSegmentOptions(this.options, opts);\n\n  if (!Array.isArray(this.options.zoomLevels)) {\n    return new TypeError('Peaks.init(): The zoomLevels option should be an array');\n  }\n  else if (this.options.zoomLevels.length === 0) {\n    return new Error('Peaks.init(): The zoomLevels array must not be empty');\n  }\n  else {\n    if (!isInAscendingOrder(this.options.zoomLevels)) {\n      return new Error('Peaks.init(): The zoomLevels array must be sorted in ascending order');\n    }\n  }\n\n  this._logger = this.options.logger;\n};\n\n/**\n * Remote waveform data options for [Peaks.setSource]{@link Peaks#setSource}.\n *\n * @typedef {Object} RemoteWaveformDataOptions\n * @global\n * @property {String=} arraybuffer\n * @property {String=} json\n */\n\n/**\n * Local waveform data options for [Peaks.setSource]{@link Peaks#setSource}.\n *\n * @typedef {Object} LocalWaveformDataOptions\n * @global\n * @property {ArrayBuffer=} arraybuffer\n * @property {Object=} json\n */\n\n/**\n * Web Audio options for [Peaks.setSource]{@link Peaks#setSource}.\n *\n * @typedef {Object} WebAudioOptions\n * @global\n * @property {AudioContext=} audioContext\n * @property {AudioBuffer=} audioBuffer\n * @property {Number=} scale\n * @property {Boolean=} multiChannel\n */\n\n/**\n * Options for [Peaks.setSource]{@link Peaks#setSource}.\n *\n * @typedef {Object} PeaksSetSourceOptions\n * @global\n * @property {String=} mediaUrl\n * @property {RemoteWaveformDataOptions=} dataUri\n * @property {LocalWaveformDataOptions=} waveformData\n * @property {WebAudioOptions=} webAudio\n * @property {Boolean=} withCredentials\n * @property {Array<Number>=} zoomLevels\n */\n\n/**\n * Changes the audio or video media source associated with the {@link Peaks}\n * instance.\n *\n * @see SetSourceHandler\n *\n * @param {PeaksSetSourceOptions} options\n * @param {Function} callback\n */\n\nPeaks.prototype.setSource = function(options, callback) {\n  const self = this;\n\n  self.player._setSource(options)\n    .then(function() {\n      if (!options.zoomLevels) {\n        options.zoomLevels = self.options.zoomLevels;\n      }\n\n      self._waveformBuilder = new WaveformBuilder(self);\n\n      self._waveformBuilder.init(options, function(err, waveformData) {\n        if (err) {\n          callback(err);\n          return;\n        }\n\n        self._waveformBuilder = null;\n        self._waveformData = waveformData;\n\n        ['overview', 'zoomview'].forEach(function(viewName) {\n          const view = self.views.getView(viewName);\n\n          if (view) {\n            view.setWaveformData(waveformData);\n          }\n        });\n\n        self.zoom.setZoomLevels(options.zoomLevels);\n\n        callback();\n      });\n    })\n    .catch(function(err) {\n      callback(err);\n    });\n};\n\nPeaks.prototype.getWaveformData = function() {\n  return this._waveformData;\n};\n\n/**\n * Cleans up a Peaks instance after use.\n */\n\nPeaks.prototype.destroy = function() {\n  if (this._waveformBuilder) {\n    this._waveformBuilder.abort();\n  }\n\n  if (this._keyboardHandler) {\n    this._keyboardHandler.destroy();\n  }\n\n  if (this.views) {\n    this.views.destroy();\n  }\n\n  if (this.player) {\n    this.player.destroy();\n  }\n\n  if (this._cueEmitter) {\n    this._cueEmitter.destroy();\n  }\n};\n\nexport default Peaks;\n"],"names":["has","Object","prototype","hasOwnProperty","prefix","Events","create","__proto__","EE","fn","context","once","addListener","emitter","event","TypeError","listener","evt","_events","_eventsCount","push","clearEvent","EventEmitter","eventNames","names","events","name","call","slice","getOwnPropertySymbols","concat","listeners","handlers","i","l","length","ee","Array","listenerCount","emit","a1","a2","a3","a4","a5","len","arguments","args","removeListener","undefined","apply","j","on","removeAllListeners","off","prefixed","module","exports","Cue","time","type","id","POINT","SEGMENT_START","SEGMENT_END","sorter","a","b","defineProperty","value","_registerNode","Konva","glob","PI_OVER_180","Math","PI","detectBrowser","window","toString","global","WorkerGlobalScope","self","_global","version","isBrowser","isUnminified","test","param","dblClickWindow","getAngle","angle","angleDeg","enableTrace","pointerEventsEnabled","autoDrawEnabled","hitOnDragEnabled","capturePointerEventsEnabled","_mouseListenClick","_touchListenClick","_pointerListenClick","_mouseInDblClickWindow","_touchInDblClickWindow","_pointerInDblClickWindow","_mouseDblClickPointerId","_touchDblClickPointerId","_pointerDblClickPointerId","pixelRatio","devicePixelRatio","dragDistance","showWarnings","dragButtons","isDragging","isDragReady","node","releaseCanvasOnDestroy","document","_injectGlobal","NodeClass","getClassName","Util","Transform","Global_1","require$$0","m","_classCallCheck","dirty","_createClass","key","reset","copy","copyInto","tr","point","x","y","translate","scale","sx","sy","rotate","rad","c","cos","s","sin","m11","m12","m21","m22","getTranslation","skew","multiply","matrix","dx","dy","invert","d","m0","m1","m2","m3","m4","m5","getMatrix","decompose","e","f","delta","result","rotation","scaleX","scaleY","skewX","skewY","r","sqrt","acos","_getRotation","OBJECT_ARRAY","OBJECT_NUMBER","OBJECT_STRING","OBJECT_BOOLEAN","PI_OVER_DEG180","DEG180_OVER_PI","HASH","EMPTY_STRING","ZERO","KONVA_WARNING","KONVA_ERROR","RGB_PAREN","COLORS","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","transparent","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","RGB_REGEX","animQueue","req","requestAnimationFrame","setTimeout","_isElement","obj","nodeType","_isFunction","constructor","_isPlainObject","_isArray","_isNumber","isNaN","isFinite","_isString","_isBoolean","isObject","val","isValidSelector","selector","firstChar","toUpperCase","_sign","number","requestAnimFrame","callback","queue","forEach","cb","createCanvasElement","canvas","createElement","style","createImageElement","_isInDocument","el","parentNode","_urlToImage","url","imageObj","onload","src","_rgbToHex","g","_hexToRgb","hex","replace","bigint","parseInt","getRandomColor","randColor","random","getRGB","color","rgb","substring","substr","exec","colorToRGBA","str","_namedColorToRBA","_hex3ColorToRGBA","_hex4ColorToRGBA","_hex6ColorToRGBA","_hex8ColorToRGBA","_rgbColorToRGBA","_rgbaColorToRGBA","_hslColorToRGBA","toLowerCase","indexOf","match","parts","split","map","Number","n","index","_exec","_exec2","_toArray","_","hsl","h","t2","t3","round","t1","haveIntersection","r1","r2","width","height","cloneObject","retObj","cloneArray","arr","degToRad","deg","radToDeg","_degToRad","warn","_radToDeg","radians","_capitalize","charAt","throw","_throw","Error","error","console","each","func","_inRange","left","right","_getProjectionToSegment","x1","y1","x2","y2","x3","y3","dist","pd2","u","_getProjectionToLine","pt","line","isClosed","pc","MAX_VALUE","p1","p2","proj","px","py","pdist","_prepareArrayForTween","startArray","endArray","start","end","temp","newStart","pr","_prepareToStringify","desc","visitedByCircularReferenceRemoval","_typeof","getOwnPropertyDescriptor","configurable","_assign","target","source","_getFirstPointerId","touches","pointerId","changedTouches","identifier","releaseCanvas","_len","canvases","_key","drawRoundedRectPath","cornerRadius","topLeft","topRight","bottomLeft","bottomRight","min","moveTo","lineTo","arc","Validators","getComponentValidator","getNumberArrayValidator","getFunctionValidator","getStringOrGradientValidator","getStringValidator","getNumberOrArrayOfNumbersValidator","getNumberValidator","alphaComponent","RGBComponent","Util_1","require$$1","_formatValue","attr","noOfElements","isNumber","isValidArray","getNumberOrAutoValidator","isAuto","isString","isGradient","addColorStop","TypedArray","Int8Array","getPrototypeOf","item","getBooleanValidator","isBool","components","Factory","Validators_1","GET","SET","addGetterSetter","def","validator","after","addGetter","addSetter","addOverloadedGetterSetter","method","attrs","overWriteSetter","_setAttr","addComponentsGetterSetter","capitalize","getter","setter","component","ret","getAttr","basicValidator","_this","oldVal","_fireChangeEvent","capitalizedAttr","addDeprecatedGetterSetter","message","backCompat","methods","oldMethodName","newMethodName","oldGetter","oldSetter","deprecated","afterSetFilter","_filterUpToDate","Context_1","HitContext","SceneContext","simplifyArray","retArr","util","COMMA","OPEN_PAREN","CLOSE_PAREN","OPEN_PAREN_BRACKET","CLOSE_BRACKET_PAREN","SEMICOLON","DOUBLE_PAREN","EQUALS","CONTEXT_METHODS","CONTEXT_PROPERTIES","traceArrMax","Context","traceArr","_enableTrace","fillShape","shape","fillEnabled","_fill","strokeShape","hasStroke","_stroke","fillStrokeShape","fillAfterStrokeEnabled","getTrace","relaxed","rounded","trace","join","floor","property","clearTrace","_trace","shift","getCanvas","getPixelRatio","setTransform","clear","bounds","clearRect","getWidth","getHeight","_applyLineCap","lineCap","setAttr","_applyOpacity","absOpacity","getAbsoluteOpacity","_applyLineJoin","lineJoin","_context","a0","arcTo","beginPath","bezierCurveTo","clip","closePath","createImageData","createLinearGradient","createPattern","createRadialGradient","drawImage","a6","a7","a8","ellipse","isPointInPath","path","fillRule","fill","_len2","_key2","fillRect","strokeRect","fillText","text","maxWidth","measureText","getImageData","rect","putImageData","quadraticCurveTo","restore","save","setLineDash","getLineDash","stroke","path2d","strokeText","transform","that","origSetter","methodName","origMethod","prop","_applyGlobalCompositeOperation","op","globalCompositeOperation","get","set","_Context","_inherits","_super","_createSuper","_ref","_ref$willReadFrequent","willReadFrequently","_canvas","getContext","_fillColor","_fillFunc","_fillPattern","_getFillPattern","_fillLinearGradient","grd","_getLinearGradient","_fillRadialGradient","_getRadialGradient","hasColor","fillPriority","getFillPriority","hasPattern","getFillPatternImage","hasLinearGradient","getFillLinearGradientColorStops","hasRadialGradient","getFillRadialGradientColorStops","_strokeLinearGradient","getStrokeLinearGradientStartPoint","getStrokeLinearGradientEndPoint","colorStops","getStrokeLinearGradientColorStops","dash","strokeScaleEnabled","getStrokeScaleEnabled","dashEnabled","dashOffset","strokeWidth","getShadowForStrokeEnabled","_strokeFunc","_applyShadow","_a","_b","_c","getShadowRGBA","blur","getShadowBlur","offset","getShadowOffset","getAbsoluteScale","ratio","abs","_Context2","_super2","_this2","colorKey","_fillFuncHit","hasHitStroke","hitStrokeWidth","_strokeFuncHit","Canvas_1","HitCanvas","SceneCanvas","require$$2","Factory_1","require$$3","require$$4","_pixelRatio","getDevicePixelRatio","backingStoreRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","Canvas","config","isCache","conf","padding","margin","border","background","position","top","setPixelRatio","previousRatio","setSize","setWidth","setHeight","toDataURL","mimeType","quality","err","_Canvas","_assertThisInitialized","_Canvas2","hitCanvas","DD","flag","_dragElements","elem","dragStatus","justDragged","Map","_drag","nodesToFireEvents","stage","getStage","setPointersPositions","pos","_changedPointerPositions","find","distance","max","startPointerPos","startDrag","_setDragPosition","fire","_endDragBefore","drawNodes","drawNode","getLayer","draw","_endDragAfter","delete","addEventListener","Node_1","Node","DragAndDrop_1","require$$5","ABSOLUTE_OPACITY","ALL_LISTENERS","ABSOLUTE_TRANSFORM","ABSOLUTE_SCALE","CANVAS","CHANGE","CHILDREN","KONVA","LISTENING","MOUSEENTER","MOUSELEAVE","NAME","SHAPE","SPACE","STAGE","TRANSFORM","UPPER_STAGE","VISIBLE","TRANSFORM_CHANGE_STR","idCounter","_id","eventListeners","_allEventListeners","parent","_cache","_attachedDepsListeners","_lastPos","_batchingTransformChange","_needClearTransformCache","_isUnderCache","_dragEventId","_shouldFireChangeEvents","setAttrs","hasChildren","_clearCache","_getCache","privateGetter","cache","isTransform","invalid","_calculate","deps","depsString","dep","_getCanvasCache","_clearSelfAndDescendantCache","clearCache","_this$_cache$get","scene","filter","hit","_requestDraw","getClientRect","skipTransform","relativeTo","getParent","ceil","drawBorder","hitCanvasPixelRatio","cachedSceneCanvas","cachedFilterCanvas","cachedHitCanvas","sceneContext","hitContext","imageSmoothingEnabled","drawScene","drawHit","isCached","_transformedRect","points","minX","minY","maxX","maxY","trans","getAbsoluteTransform","transformed","_drawCachedSceneCanvas","canvasCache","cacheCanvas","_getCachedSceneCanvas","_drawCachedHitCanvas","filters","cachedCanvas","sceneCanvas","filterCanvas","filterContext","imageData","evtStr","handler","_delegate","baseEvent","t","_off","dispatchEvent","removeEventListener","stopNode","targets","findAncestors","currentTarget","remove","stopDrag","_remove","_clearCaches","children","splice","_setChildrenIndices","destroy","getAncestors","ancestors","getAttrs","_batchTransformChanges","isListening","_isListening","listening","isVisible","_isVisible","visible","shouldDrawHit","skipDragCheck","layer","layerUnderDrag","dragSkip","show","hide","getZIndex","getAbsoluteZIndex","depth","getDepth","nodes","child","addChildren","getChildren","setPosition","_this3","getPosition","getRelativePointerPosition","getPointerPosition","getAbsolutePosition","haveCachedParent","absoluteMatrix","absoluteTransform","setAbsolutePosition","origTrans","_clearTransform","it","_getAbsoluteTransform","_setTransform","offsetX","offsetY","move","change","changeX","changeY","_eachAncestorReverse","family","unshift","theta","moveToTop","moveUp","moveDown","moveToBottom","setZIndex","zIndex","_getAbsoluteOpacity","opacity","newContainer","add","toObject","defaultValue","nonPlainObject","className","toJSON","JSON","stringify","includeSelf","res","_isMatch","ancestor","isAncestorOf","findAncestor","selectorArr","sel","hasName","_getStage","eventType","bubble","_fireAndBubble","_fire","at","transformsEnabled","getTransform","getAbsoluteRotation","_getTransform","clone","allListeners","_toKonvaCanvas","box","toCanvas","toImage","_this4","Promise","resolve","reject","img","toBlob","_this5","blob","size","getSize","getType","getDragDistance","evtListeners","evtName","newVal","addName","oldName","newName","fullName","removeName","batchDraw","_setComponentAttr","compareShape","shouldStop","stopBubble","cancelBubble","_getProtoListeners","hierarchyEvents","_toConsumableArray","topListeners","selfListeners","_createDragElement","ap","_getPointerById","bubbleEvent","newNodePos","dbf","dragBoundFunc","bounded","setDraggable","draggable","_dragChange","_listenDrag","_dragCleanup","_this6","shouldCheckButton","canDrag","hasDraggingChild","dragElement","isReady","isClientRectOnScreen","screenRect","data","container","parse","_createNode","no","Class","_attrsAffectingSize","rotateDeg","setRotationDeg","getRotationDeg","Container_1","Container","_Node_1$Node","filterFunc","results","removeChildren","destroyChildren","_validateAdd","_get","_getPrototypeOf","_generalFind","findOne","_descendants","valid","_iterator","_createForOfIteratorHelper","_step","done","getAllIntersections","intersects","can","caching","_drawChildren","drawMethod","clipWidth","clipHeight","clipFunc","hasClip","selfCache","clipArgs","clipX","clipY","hasComposition","selfRect","Infinity","skipShadow","skipStroke","shapes","hasVisible","PointerEvents","releaseCapture","setPointerCapture","hasPointerCapture","createEvent","getCapturedShape","Captures","SUPPORT_POINTER_EVENTS","PointerEvent","content","Stage","stages","Global_2","require$$6","STRING","PX","MOUSEOUT","MOUSEOVER","MOUSEMOVE","MOUSEDOWN","MOUSEUP","POINTERMOVE","POINTERDOWN","POINTERUP","POINTERCANCEL","LOSTPOINTERCAPTURE","POINTEROUT","POINTERLEAVE","POINTEROVER","POINTERENTER","CONTEXTMENU","TOUCHSTART","TOUCHEND","TOUCHMOVE","TOUCHCANCEL","WHEEL","MAX_LAYERS_NUMBER","EVENTS","EVENTS_MAP","mouse","_mouse","_defineProperty","touch","_touch","pointer","_pointer","getEventType","getEventsMap","checkNoClip","NO_POINTERS_MESSAGE","_Container_1$Containe","_pointerPositions","_buildDOM","_bindContentEvents","_resizeDOM","_checkVisibility","isLayer","isFastLayer","display","setContainer","getElementsByClassName","getElementById","parentElement","removeChild","appendChild","layers","bufferCanvas","bufferHitCanvas","p","getPointersPositions","getContent","layerCanvas","getIntersection","rest","getLayers","_ref2","_slicedToArray","passive","_pointerenter","pointerenter","_pointerover","pointerover","_getTargetShape","evenType","_pointerleave","targetShape","eventsEnabled","pointerout","pointerleave","pointerPos","_pointerdown","triggeredOnShape","hasShape","pointerdown","isTouch","preventDefault","cancelable","_pointermove","processedShapesIds","differentTarget","assign","pointermove","_pointerup","clickStartShape","clickEndShape","fireDblClick","clearTimeout","pointerup","pointerclick","pointerdblclick","_contextmenu","_wheel","_pointercancel","_lostpointercapture","contentPosition","_getContentPosition","clientX","clientY","_setPointerPosition","getBoundingClientRect","clientWidth","clientHeight","innerHTML","userSelect","setAttribute","Shape","HAS_SHADOW","SHADOW_RGBA","patternImage","linearGradient","radialGradient","dummyContext","getDummyContext","_clearHasShadowCache","_clearGetShadowRGBACache","_clearFillPatternCache","_clearLinearGradientCache","_clearRadialGradientCache","getSceneFunc","sceneFunc","getHitFunc","hitFunc","hasShadow","_hasShadow","shadowEnabled","shadowOpacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","__getFillPattern","fillPatternImage","ctx","pattern","fillPatternRepeat","fillPatternX","fillPatternY","fillPatternRotation","fillPatternScaleX","fillPatternScaleY","fillPatternOffsetX","fillPatternOffsetY","DOMMatrix","__getLinearGradient","fillLinearGradientColorStops","fillLinearGradientStartPoint","fillLinearGradientEndPoint","__getRadialGradient","fillRadialGradientColorStops","fillRadialGradientStartPoint","fillRadialGradientEndPoint","fillRadialGradientStartRadius","fillRadialGradientEndRadius","_getShadowRGBA","rgba","hasFill","strokeEnabled","strokeLinearGradientColorStops","_useBufferCanvas","forceFill","perfectDrawEnabled","isTransparent","strokeForShadow","shadowForStrokeEnabled","setStrokeHitEnabled","getStrokeHitEnabled","getSelfRect","_centroid","applyStroke","fillAndStrokeWidth","fillAndStrokeHeight","applyShadow","preWidth","preHeight","blurRadius","drawFunc","bufferContext","skipBuffer","cachingSelf","o","drawHitFromCache","alphaThreshold","hitWidth","hitHeight","hitImageData","hitData","rgbColorKey","alpha","dashArray","getDashArray","setDashArray","getDrawFunc","setDrawFunc","drawHitFunc","getDrawHitFunc","setDrawHitFunc","Layer_1","Layer","Shape_1","require$$7","BEFORE_DRAW","DRAW","INTERSECTION_OFFSETS","INTERSECTION_OFFSETS_LEN","_waitingForDraw","_setSmoothEnabled","createPNGStream","getNativeCanvasElement","getHitCanvas","insertBefore","moved","spiralSearchDistance","continueSearch","intersectionOffset","_getIntersection","antialiased","p3","clearBeforeDraw","enableHitGraph","hitGraphEnabled","disableHitGraph","setHitGraphEnabled","getHitGraphEnabled","toggleHitCanvas","added","FastLayer_1","FastLayer","_Layer_1$Layer","Group_1","Group","Animation_1","Animation_2","Animation","now","performance","Date","getTime","animIdCounter","frame","timeDiff","lastTime","frameRate","setLayers","lays","addLayer","isRunning","animations","stop","_addAnimation","_removeAnimation","_updateFrameObject","anim","_handleAnimation","_runFrames","layerHash","layersLen","needRedraw","_animationLoop","Anim","animRunning","Easings","Tween","blacklist","duration","easing","onFinish","yoyo","PAUSED","PLAYING","REVERSING","colorAttrs","TweenEngine","propFunc","begin","finish","_pos","_change","prevPos","_time","_position","_startTime","_finish","pause","setTime","reverse","play","update","state","getTimer","onEnterFrame","seek","nodeId","Linear","tween","_tweenFunc","_addListeners","tweens","_addAttr","onReset","onUpdate","diff","tweenId","trueEnd","trueStart","endRGBA","closed","startRGBA","onPlay","onReverse","onPause","thisId","to","params","BackEaseIn","BackEaseOut","BackEaseInOut","ElasticEaseIn","asin","pow","ElasticEaseOut","ElasticEaseInOut","BounceEaseOut","BounceEaseIn","BounceEaseInOut","EaseIn","EaseOut","EaseInOut","StrongEaseIn","StrongEaseOut","StrongEaseInOut","Stage_1","require$$8","require$$9","require$$10","Tween_1","require$$11","require$$12","require$$13","default","_CoreInternals_1","enumerable","_CoreInternals_2","zeroPad","precision","formatTime","fractionSeconds","seconds","minutes","hours","roundUpToNearest","multiple","multiplier","roundedUp","clamp","objectHasProperty","object","field","extend","from","isInAscendingOrder","array","isValidTime","isArray","isArrayBuffer","includes","isNullOrUndefined","isFunction","isBoolean","isHTMLElement","HTMLElement","isLinearGradientColor","linearGradientStart","linearGradientEnd","linearGradientColorStops","getMarkerObject","isHeadless","navigator","userAgent","windowIsVisible","webdriver","visibilityState","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","msCancelAnimationFrame","eventTypes","forward","EVENT_TYPE_POINT","EVENT_TYPE_SEGMENT_ENTER","EVENT_TYPE_SEGMENT_EXIT","eventAttributes","getPointOrSegment","peaks","cue","getPoint","segments","getSegment","CueEmitter","_cues","_peaks","_previousTime","_updateCues","bind","_onPlaying","_onSeeked","_onTimeUpdate","_onAnimationFrame","_rAFHandle","_activeSegments","_attachEventHandlers","getPoints","getSegments","segment","startTime","endTime","sort","player","getCurrentTime","_updateActiveSegments","_onUpdate","previousTime","isForward","step","marker","isPlaying","isSeeking","getSegmentIdComparator","compareSegmentIds","activeSegments","getSegmentsAtTime","_detachEventHandlers","pointOptions","invalidOptions","setDefaultPointOptions","options","peaksOptions","labelText","editable","pointMarkerColor","validatePointOptions","updating","RangeError","Point","pid","_pid","_setUserData","defineProperties","_labelText","_color","_editable","updatePointId","_setTime","WaveformPoints","_points","_pointsById","_pointsByPid","_pointIdCounter","_pointPid","_getNextPointId","_getNextPid","_addPoint","_createPoint","arrayArgs","newPointId","_findPoint","predicate","indexes","_removeIndexes","removed","itemRemoved","_removePoints","removeById","pointId","removeByTime","removeAll","segmentOptions","setDefaultSegmentOptions","globalSegmentOptions","overlay","overlayColor","waveformColor","borderColor","overlayBorderColor","validateSegmentOptions","Segment","_endTime","_borderColor","updateSegmentId","_setStartTime","_setEndTime","WaveformSegments","_segments","_segmentsById","_segmentsByPid","_segmentIdCounter","_segmentPid","_isInserting","_getNextSegmentId","_addSegment","_createSegment","_getSortedSegments","findPreviousSegment","sortedSegments","findIndex","findNextSegment","insert","newSegmentId","_findSegment","_removeSegments","segmentId","setInserting","isInserting","TAB","LEFT_ARROW","RIGHT_ARROW","keys","KeyboardHandler","eventEmitter","_handleKeyEvent","handleKeyEvent","nodeName","keyCode","shiftKey","mediaElementHasSource","mediaElement","querySelector","MediaElementPlayer","_mediaElement","_addMediaListener","_listeners","init","_eventEmitter","_duration","getDuration","_interval","eventHandler","readyState","HTMLMediaElement","HAVE_NOTHING","load","paused","seeking","currentTime","SetSourceHandler","_playerCanPlayHandler","_playerErrorHandler","setSource","_options","_callback","_resolve","_reject","mediaUrl","_reset","setSourceHandler","getAllPropertiesFrom","adapter","allProperties","getOwnPropertyNames","validateAdapter","publicAdapterMethods","Player","_playingSegment","_segment","_loop","_playSegmentTimerCallback","_adapter","_logger","playSegment","loop","_setSource","Line_1","Line_2","Line","getControlPoints","x0","y0","d01","d12","fa","fb","p1x","p1y","p2x","p2y","expandPoints","tension","allPoints","cp","_Shape_1$Shape","_sceneFunc","bezier","tp","getTensionPoints","_getTensionPoints","_getTensionPointsClosed","firstControlPoints","lastControlPoints","middle","Rect_1","Rect_2","Rect","Text_1","Text_2","Text","stringToArray","string","AUTO","CENTER","JUSTIFY","CHANGE_KONVA","CONTEXT_2D","DASH","LEFT","TEXT","TEXT_UPPER","TOP","BOTTOM","MIDDLE","NORMAL","PX_SPACE","RIGHT","WORD","CHAR","NONE","ELLIPSIS","ATTR_CHANGE_LIST","attrChangeListLen","normalizeFontFamily","fontFamily","trim","hasSpace","hasQuotes","_partialText","_partialTextX","_partialTextY","checkDefaultFill","_setTextData","textArr","textArrLen","fontSize","lineHeightPx","lineHeight","verticalAlign","alignY","align","totalWidth","letterSpacing","textDecoration","shouldUnderline","shouldLineThrough","translateY","lineTranslateX","lineTranslateY","_getContextFont","lastLine","lastInParagraph","spacesNumber","oneWord","lineWidth","gradient","strokeStyle","li","letter","measureSize","_hitFunc","setText","getTextWidth","textWidth","getTextHeight","textHeight","metrics","font","fontStyle","fontVariant","_addTextLine","_getTextWidth","lines","fixedWidth","fixedHeight","maxHeightPx","currentHeightPx","wrap","shouldWrap","wrapAtWord","shouldAddEllipsis","ellipsis","additionalWidth","low","high","matchWidth","mid","substrWidth","wrapIndex","nextChar","nextIsSpaceOrDash","lastIndexOf","trimRight","shouldHandleEllipsis","_shouldHandleEllipsis","_tryToAddEllipsisToLastLine","trimLeft","haveSpace","DefaultPointMarker","_draggable","group","handleWidth","handleHeight","handleX","view","_label","textAlign","_handle","_line","fitToView","bindEventHandlers","setX","DefaultSegmentMarker","startMarker","xPosition","handleLineColor","handleColor","_handleLineOne","_handleLineTwo","_handleLineSingle","focusedSegmentShape","segmentShapes","_segmentShapes","_i","_Object$entries","entries","_Object$entries$_i","segmentShape","_endMarker","segmentShapeWidth","_overlay","markerInfo","getMarkerInfo","updateMarkersSmall","body","cursor","endMarkerHandleLineSingle","startMarkerHandleLineSingle","newHandleWidth","endMarker","endMarkerHandleLines","startMarkerHandleLines","_startMarker","_marker","endMarkerGroupChildren","_group","startMarkerGroupChildren","_i2","_Object$entries2","_Object$entries2$_i","startHandleX","endHandleX","createSegmentMarker","createSegmentLabel","createPointMarker","HighlightLayer","_view","_offset","highlightOffset","highlightColor","_layer","_highlightRect","_strokeColor","highlightStrokeColor","_opacity","highlightOpacity","_cornerRadius","highlightCornerRadius","addToStage","showHighlight","_createHighlightRect","_update","startOffset","timeToPixels","endOffset","removeHighlight","updateHighlight","PlayheadLayer","_player","_playheadPixel","_playheadLineAnimation","_playheadVisible","_playheadColor","playheadColor","_playheadTextColor","playheadTextColor","_playheadFontFamily","playheadFontFamily","_playheadFontSize","playheadFontSize","_playheadFontStyle","playheadFontStyle","_playheadLayer","_createPlayhead","showPlayheadTime","_createPlayheadText","zoomLevelChanged","pixelsPerSecond","_useAnimation","_start","_playheadLine","_playheadText","_playheadGroup","updatePlayheadTime","_syncPlayhead","pixelIndex","frameOffset","getFrameOffset","playheadX","playheadTextWidth","playheadPosChanged","lastPlayheadPosition","playheadPosition","getPlayheadPixel","updatePlayheadText","PointMarker","_point","_onDragStart","onDragStart","_onDragMove","onDragMove","_onDragEnd","onDragEnd","_dragBoundFunc","_onMouseEnter","onMouseEnter","_onMouseLeave","onMouseLeave","_bindDefaultEventHandlers","addToLayer","getX","defaultFontFamily","defaultFontSize","defaultFontShape","PointsLayer","allowEditing","_allowEditing","_pointMarkers","_onPointsDrag","_onPointMarkerDragStart","_onPointMarkerDragMove","_onPointMarkerDragEnd","_pointMarkerDragBoundFunc","_onPointMarkerMouseEnter","_onPointMarkerMouseLeave","_onPointsUpdate","_onPointsAdd","_onPointsRemove","_onPointsRemoveAll","enableEditing","enable","getPointMarker","frameStartTime","getStartTime","frameEndTime","getEndTime","pointMarker","_removePoint","_updatePoint","pointMarkerOffset","pointMarkerX","_createPointMarker","getName","_addPointMarker","_dragPointMarker","markerX","pixelOffsetToTime","updatePoints","_removeInvisiblePoints","pointPid","setVisible","OverlaySegmentMarker","viewHeight","overlayOffset","overlayRectHeight","SegmentMarker","_segmentShape","isStartMarker","WaveformShape","shapeOptions","startY","_height","endY","fillLinearGradientStartPointY","fillLinearGradientEndPointY","_shape","setSegment","setWaveformColor","_drawWaveform","getWaveformData","waveformData","startPixels","endPixels","limit","channels","waveformTop","waveformHeight","_drawChannel","channel","amplitude","amplitudeScale","getAmplitudeScale","lineX","lineY","min_sample","max_sample","SegmentShape","isSegmentDraggingEnabled","_dragging","getViewOptions","_overlayOffset","_waveformShape","_onMouseDown","_onMouseUp","_onSegmentDragStart","_onSegmentDragMove","_onSegmentDragEnd","_onSegmentMarkerDragStart","_onSegmentMarkerDragMove","_onSegmentMarkerDragEnd","_segmentMarkerDragBoundFunc","segmentStartOffset","timeToPixelOffset","segmentEndOffset","overlayBorderWidth","overlayOpacity","overlayCornerRadius","_overlayRect","_overlayText","overlayFontFamily","overlayFontSize","overlayFontStyle","overlayLabelColor","overlayLabelAlign","overlayLabelVerticalAlign","overlayLabelPadding","_createMarkers","createOverlayMarker","isEditingEnabled","markers","startMarkerColor","endMarkerColor","getStartMarker","getEndMarker","bordercolor","labelColor","segmentClicked","eventName","_moveToTop","moveSegmentMarkersToTop","enableSegmentDragging","_setPreviousAndNextSegments","getSegmentDragMode","_nextSegment","_previousSegment","_dragStartX","_dragStartTime","_dragEndTime","timeOffset","pixelsToTime","segmentDuration","dragMode","minSegmentWidth","getMinSegmentDragWidth","minSegmentDuration","previousSegmentUpdated","nextSegmentUpdated","previousSegmentEndX","previousSegmentEndTime","minPreviousSegmentEndTime","nextSegmentStartX","nextSegmentStartTime","maxNextSegmentStartTime","moveMarkersToTop","segmentMarker","_startMarkerX","_endMarkerX","_segmentStartMarkerDragMove","_segmentEndMarkerDragMove","startMarkerX","endMarkerX","upperLimit","previousSegmentVisible","fixedPreviousSegment","compressPreviousSegment","previousSegmentDuration","lowerLimit","nextSegmentVisible","fixedNextSegment","compressNextSegment","nextSegmentDuration","SegmentsLayer","_onSegmentsUpdate","_onSegmentsAdd","_onSegmentsRemove","_onSegmentsRemoveAll","_onSegmentsDragged","segmentPid","getSegmentShape","_removeSegment","_updateSegment","_addSegmentShape","_createSegmentShape","updateSegments","_removeInvisibleSegments","WaveformAxis","_axisGridlineColor","axisGridlineColor","_axisLabelColor","axisLabelColor","_showAxisLabels","showAxisLabels","_axisTopMarkerHeight","axisTopMarkerHeight","_axisBottomMarkerHeight","axisBottomMarkerHeight","formatAxisTime","_formatAxisTime","_axisLabelFont","_buildFontString","_axisShape","_drawAxis","topMarkerHeight","bottomMarkerHeight","_getAxisLabelScale","baseSecs","steps","minSpacing","secs","pixels","currentFrameStartTime","axisLabelIntervalSecs","firstAxisLabelSecs","axisLabelOffsetSecs","axisLabelOffsetPixels","label","labelWidth","labelX","labelY","MouseDragHandler","_stage","_handlers","_mouseDown","_mouseUp","_mouseMove","_lastMouseClientX","button","onMouseDown","mouseDownPosX","_getMousePosX","capture","onMouseMove","mousePosX","onMouseUp","containerPos","getContainer","SeekMouseDragHandler","_onMouseMove","_mouseDragHandler","_seek","isSeekEnabled","_width","WaveformOverview","_originalWaveformData","_container","_viewOptions","overview","_onPause","_onZoomviewDisplaying","_amplitudeScale","_timeLabelPrecision","timeLabelPrecision","_enableSeek","formatPlayheadTime","_formatPlayheadTime","_data","_resampleAndSetWaveformData","_waveformColor","_playedWaveformColor","playedWaveformColor","_createWaveform","enableSegments","_segmentsLayer","enablePoints","_pointsLayer","_highlightLayer","_createAxisLabels","_onClick","_onDblClick","_onContextMenu","enableSeek","_clickHandler","emitViewEvent","preventViewEvent","clickEvent","layerX","setWaveformData","_updateWaveform","resample","_playedWaveformShape","_playedSegment","_unplayedSegment","_waveformLayer","sample_rate","_getDuration","setAmplitudeScale","_createWaveformShapes","_destroyPlayedWaveformShape","_axisLayer","_axis","removeHighlightRect","playheadTime","setPlayedWaveformColor","setTimeLabelPrecision","enableMarkerEditing","fitToContainer","updateWaveform","InsertSegmentMouseDragHandler","_segmentIsDraggable","_insertSegment","_insertSegmentShape","ScrollMouseDragHandler","_seeking","playheadOffset","getPlayheadOffset","getPlayheadClickTolerance","_initialFrameOffset","_mouseDownX","newFrameOffset","WaveformZoomView","zoomview","_enableWaveformCache","waveformCache","_initWaveformCache","_onKeyboardLeft","_onKeyboardRight","_onKeyboardShiftLeft","_onKeyboardShiftRight","_autoScroll","autoScroll","_autoScrollOffset","autoScrollOffset","_enableSegmentDragging","_segmentDragMode","_minSegmentDragWidth","_playheadClickTolerance","playheadClickTolerance","_pixelLength","initialZoomLevel","zoom","getZoomLevel","_zoomLevelAuto","_zoomLevelSeconds","_resampleData","_frameOffset","_onWheel","_onWheelCaptureVerticalScroll","setWheelMode","wheelMode","_waveformData","_waveformScales","mode","_wheelMode","captureVerticalScroll","_captureVerticalScroll","wheelEvent","deltaY","deltaX","deltaMode","WheelEvent","DOM_DELTA_PAGE","setWaveformDragMode","setSegmentDragMode","_keyboardScroll","direction","large","increment","nudgeIncrement","scrollWaveform","_drawWaveformLayer","endThreshold","_getScale","isAutoScale","setZoom","apexTime","playheadOffsetPixels","prevScale","_scale","apexPixel","currentZoom","previousZoom","sourceWaveform","setStartTime","getPixelLength","scrollAmount","playheadPixel","enableAutoScroll","setMinSegmentDragWidth","resampleOptions","getSegmentsLayer","Scrollbar","scrollbar","_zoomview","views","getView","_onScrollboxDragStart","_onScrollboxDragMove","_onScrollboxDragEnd","_onScrollbarClick","_scrollboxX","_minScrollboxWidth","minWidth","_offsetY","_scrollbox","_scrollboxRect","_setScrollboxWidth","setZoomview","_updateScrollbarWidthAndPosition","_scrollboxWidth","_getScrollbarRange","range","zoomviewRange","scrollBoxPos","ViewController","_overview","_scrollbar","createOverview","createZoomview","createScrollbar","destroyOverview","destroyZoomview","getScrollbar","ZoomController","zoomLevels","_zoomLevels","_zoomLevelIndex","setZoomLevels","zoomIn","zoomOut","zoomLevelIndex","forceUpdate","getZoom","WaveformDataChannel","channelIndex","_channelIndex","_at","set_min_sample","sample","_set_at","set_max_sample","min_array","_offsetValues","max_array","INT8_MAX","INT8_MIN","calculateWaveformDataLength","audio_sample_count","data_length","samples_remaining","generateWaveformData","amplitude_scale","split_channels","Float32Array","output_channels","header_size","total_size","buffer","ArrayBuffer","data_view","DataView","scale_counter","min_value","max_value","setInt32","setUint32","setInt8","Symbol","iterator","isJsonWaveformData","isBinaryWaveformData","isCompatible","getInt32","convertJsonToBinary","bytes_per_sample","bits","expected_length","array_buffer","data_object","samples_per_pixel","setInt16","decodeBase64","base64","enableUnicode","binaryString","atob","binaryView","Uint8Array","charCodeAt","String","fromCharCode","Uint16Array","createURL","sourcemapArg","enableUnicodeArg","sourcemap","Blob","URL","createObjectURL","createBase64WorkerFactory","WorkerFactory","Worker","WaveformData","_version","_channels","defaultOptions","disable_worker","getOptions","opts","getChannelData","audio_buffer","numberOfChannels","createFromAudioBuffer","sampleRate","worker","onmessage","postMessage","createFromArrayBuffer","audioContext","audioData","errorCallback","DOMException","decodeAudioData","createFromAudio","audio_context","output_samples_per_pixel","input_buffer_size","input_buffer_length_samples","output_buffer_length_samples","output_header_size","output_data","output_dataview","waveform_data","input_index","output_index","where","prev_where","last_input_index","sample_at_pixel","otherWaveforms","otherWaveform","combinedBuffer","_concatBuffers","headerSize","totalSize","totalDataLength","bufferCollection","w","dataSize","byteLength","totalBuffer","sourceHeader","totalBufferView","setUint8","getUint8","dataOfTotalBuffer","getOffsetValues","correction","values","getUint32","Boolean","pixels_per_second","seconds_per_pixel","at_sample","getInt8","getInt16","set_at","at_time","waveform","toArrayBuffer","isXhr2","XMLHttpRequest","WaveformBuilder","dataUri","webAudio","_getRemoteWaveformData","_buildWaveformFromLocalData","audioBuffer","_buildWaveformDataFromAudioBuffer","_buildWaveformDataUsingWebAudio","requestType","some","connector","_xhr","_createXHR","withCredentials","status","response","send","json","arraybuffer","createdWaveformData","AudioContext","webkitAudioContext","webAudioOptions","mediaSourceUrl","currentSrc","_requestAudioAndBuildWaveformData","webAudioBuilderOptions","multiChannel","abort","onLoad","onError","onAbort","xhr","open","responseType","onerror","Peaks","logger","defaultViewOptions","defaultZoomviewOptions","defaultOverviewOptions","defaultSegmentOptions","defaultScrollbarOptions","getOverviewOptions","overviewOptions","optNames","optName","getZoomviewOptions","zoomviewOptions","getScrollbarOptions","scrollbarOptions","extendOptions","addSegmentOptions","checkContainerElements","zoomviewContainer","overviewContainer","instance","_setOptions","scrollbarContainer","keyboard","_keyboardHandler","_waveformBuilder","then","emitCueEvents","_cueEmitter","catch","viewName"],"mappings":"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"}